<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<meta name="author" content="The KiCad Team">
<title>原理图编辑器</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>原理图编辑器</h1>
<div class="details">
<span id="author" class="author">The KiCad Team</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_kicad_原理图编辑器简介">1. KiCad 原理图编辑器简介</a>
<ul class="sectlevel2">
<li><a href="#_描述">1.1. 描述</a></li>
<li><a href="#initial-configuration">1.2. 初始配置</a></li>
<li><a href="#_原理图编辑器的用户界面">1.3. 原理图编辑器的用户界面</a></li>
<li><a href="#_在编辑画布上导航">1.4. 在编辑画布上导航</a></li>
<li><a href="#_快捷键">1.5. 快捷键</a></li>
<li><a href="#_鼠标操作和选择">1.6. 鼠标操作和选择</a></li>
<li><a href="#left-toolbar">1.7. 左侧工具条显示控制</a></li>
</ul>
</li>
<li><a href="#schematic-creation-and-editing">2. 原理图创建和编辑</a>
<ul class="sectlevel2">
<li><a href="#_简介">2.1. 简介</a></li>
<li><a href="#schematic-editing-operations">2.2. 原理图编辑操作</a></li>
<li><a href="#grids">2.3. 网格</a></li>
<li><a href="#snapping">2.4. 捕捉</a></li>
<li><a href="#_编辑对象属性">2.5. 编辑对象属性</a></li>
<li><a href="#working-with-symbols">2.6. 使用符号工作</a></li>
<li><a href="#reference-designators-and-symbol-annotation">2.7. 位号和符号注释</a></li>
<li><a href="#electrical-connections">2.8. 电气连接</a></li>
<li><a href="#schematic-netclasses">2.9. 网络类</a></li>
<li><a href="#_图形项目">2.10. 图形项目</a></li>
<li><a href="#schematic-setup">2.11. 原理图设置</a></li>
<li><a href="#rescuing-cached-components">2.12. 恢复缓存的符号</a></li>
</ul>
</li>
<li><a href="#hierarchical-schematics">3. 层次原理图</a>
<ul class="sectlevel2">
<li><a href="#_简介_2">3.1. 简介</a></li>
<li><a href="#_在设计中添加图框">3.2. 在设计中添加图框</a></li>
<li><a href="#navigating-between-sheets">3.3. 原理图之间导航器</a></li>
<li><a href="#_原理图之间的电气连接">3.4. 原理图之间的电气连接</a></li>
<li><a href="#_层次设计实例">3.5. 层次设计实例</a></li>
</ul>
</li>
<li><a href="#inspecting-a-schematic">4. 检查原理图</a>
<ul class="sectlevel2">
<li><a href="#_筛选工具">4.1. 筛选工具</a></li>
<li><a href="#_网络高亮显示">4.2. 网络高亮显示</a></li>
<li><a href="#_从_pcb_上交叉探测">4.3. 从 PCB 上交叉探测</a></li>
<li><a href="#erc">4.4. 电气规则检查</a></li>
</ul>
</li>
<li><a href="#assigning-footprints">5. 分配封装</a>
<ul class="sectlevel2">
<li><a href="#assigning-footprints-in-symbol-properties">5.1. 在符号属性中分配封装</a></li>
<li><a href="#assigning-footprints-while-placing-symbols">5.2. 放置符号时分配封装</a></li>
<li><a href="#footprint-assignment-tool">5.3. 用封装分配工具分配封装</a></li>
</ul>
</li>
<li><a href="#schematic-to-pcb">6. 正向和反向批注</a>
<ul class="sectlevel2">
<li><a href="#_从原理图更新_pcb正向批注">6.1. 从原理图更新 PCB（正向批注）</a></li>
<li><a href="#_从_pcb_上更新原理图反向批注">6.2. 从 PCB 上更新原理图（反向批注）</a></li>
</ul>
</li>
<li><a href="#generating-outputs">7. 生成输出</a>
<ul class="sectlevel2">
<li><a href="#_打印">7.1. 打印</a></li>
<li><a href="#_绘制">7.2. 绘制</a></li>
<li><a href="#bom-export">7.3. 生成物料清单</a></li>
<li><a href="#netlist-export">7.4. 生成网表</a></li>
</ul>
</li>
<li><a href="#symbols-and-symbol-libraries">8. 符号和符号库</a>
<ul class="sectlevel2">
<li><a href="#managing-symbol-libraries">8.1. 管理符号库</a></li>
<li><a href="#creating-and-editing-symbols">8.2. 创建和编辑符号</a></li>
<li><a href="#_浏览符号库">8.3. 浏览符号库</a></li>
</ul>
</li>
<li><a href="#simulator">9. 仿真器</a>
<ul class="sectlevel2">
<li><a href="#_value_notation">9.1. Value notation</a></li>
<li><a href="#_分配模型">9.2. 分配模型</a></li>
<li><a href="#sim-directives">9.3. SPICE directives</a></li>
<li><a href="#_running_simulations">9.4. Running simulations</a></li>
</ul>
</li>
<li><a href="#advanced">10. 高级主题</a>
<ul class="sectlevel2">
<li><a href="#preferences-schematic-display-options">10.1. 配置和定制</a></li>
<li><a href="#text-variables">10.2. 文本变量</a></li>
<li><a href="#database-libraries">10.3. 数据基础库</a></li>
<li><a href="#custom-netlist-and-bom-formats">10.4. 自定义网表和 BOM 格式</a></li>
</ul>
</li>
<li><a href="#eeschema-actions-reference">11. 操作参考</a>
<ul class="sectlevel2">
<li><a href="#_原理图编辑器">11.1. 原理图编辑器</a></li>
<li><a href="#_通用">11.2. 通用</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>参考手册</em></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
本手册正在修订中，以涵盖KiCad的最新稳定发布版本。 它包含一些尚未 编写完成。
我们希望您能耐心等待我们的志愿技术作者完成这项工作。
我们希望您能耐心等待我们的志愿技术作者完成这项工作，同时我们也欢迎新的贡献者加入我们的行列。
愿意帮助我们使 KiCad 的文档比以前更好。
</td>
</tr>
</table>
</div>
<div id="copyright" class="paragraph">
<p><strong>版权</strong></p>
</div>
<div class="paragraph">
<p>本文件的版权 &#169; 2010-2023 由下列贡献者拥有。您可以根据 GNU 通用公共许可证（http://www.gnu.org/licenses/gpl.html）第 3 版或更高版本，或知识共享署名许可证（http://creativecommons.org/licenses/by/3.0/）第 3.0 版或更高版本的条款发布它和/或修改它。</p>
</div>
<div class="paragraph">
<p>本指南中的所有商标均属于其合法所有者。</p>
</div>
<div id="contributors" class="paragraph">
<p><strong>贡献人员</strong></p>
</div>
<div class="paragraph">
<p>Jean-Pierre Charras， Fabrizio Tappero， Wayne Stambaugh， Graham Keeth</p>
</div>
<div id="translation" class="paragraph">
<p><strong>翻译人员</strong></p>
</div>
<div class="paragraph">
<p>Liu HanCheng &lt;<a href="mailto:buaa_cnlhc@buaa.edu.cn">buaa_cnlhc@buaa.edu.cn</a>&gt;, 2018.</p>
</div>
<div class="paragraph">
<p>taotieren &lt;<a href="mailto:admin@taotieren.com">admin@taotieren.com</a>&gt;, 2019-2023.</p>
</div>
<div class="paragraph">
<p>Telegram 简体中文交流群: <a href="https://t.me/KiCad_zh_CN" class="bare">https://t.me/KiCad_zh_CN</a></p>
</div>
<div id="feedback" class="paragraph">
<p><strong>反馈</strong></p>
</div>
<div class="paragraph">
<p>KiCad 项目欢迎与软件或其文档相关的反馈、错误报告和建议。有关如何汇总反馈或报告问题的详细信息，请参阅 <a href="https://www.kicad.org/help/report-an-issue/" class="bare">https://www.kicad.org/help/report-an-issue/</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_kicad_原理图编辑器简介">1. KiCad 原理图编辑器简介</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_描述">1.1. 描述</h3>
<div class="paragraph">
<p>KiCad 原理图编辑器是作为 KiCad 的一部分分发的原理图设计软件，可在以下操作系统下使用：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Linux</p>
</li>
<li>
<p>Apple OS X</p>
</li>
<li>
<p>Windows</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>无论操作系统如何，所有的 KiCad 文件都能 100% 地从一个操作系统兼容到另一个。</p>
</div>
<div class="paragraph">
<p>原理图编辑器是一个集成的应用程序，绘图、控制、布局、库管理和访问 PCB 设计软件的所有功能都在编辑器本身中进行。</p>
</div>
<div class="paragraph">
<p>KiCad 原理图编辑器旨在与 KiCad PCB 编辑器合作，后者是 KiCad 的印刷电路设计软件。它还可以为其他软件包输出网表文件，其中列出了所有的电气连接。</p>
</div>
<div class="paragraph">
<p>原理图编辑器包括一个符号库编辑器，它可以创建和编辑符号并管理库。 它还集成了现代原理图设计软件所需的以下额外但基本的功能：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>电气规则检查（ERC），用于自动控制错误和缺失的连接</p>
</li>
<li>
<p>以多种格式导出绘图文件（Postscript，PDF，HPGL 和 SVG）</p>
</li>
<li>
<p>物料清单生成（通过 Python 或 XSLT 脚本，允许许多灵活的格式）。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>原理图编辑器以几种方式支持多张原理图：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>扁平的层次结构（原理图表在主图中没有明确的连接）。</p>
</li>
<li>
<p>简单的层次结构（每张原理图只使用一次）。</p>
</li>
<li>
<p>复杂的层次结构（有些原理图表被多次使用）。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>层次结构图有详细描述《层次结构图，在手册后面》。</p>
</div>
</div>
<div class="sect2">
<h3 id="initial-configuration">1.2. 初始配置</h3>
<div class="paragraph">
<p>当原理图编辑器首次运行时，如果在 KiCad 配置文件夹中没有找到全局符号库表文件 <code>sym-lib-table</code>，那么 KiCad 将询问如何创建该文件：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/symbol-lib-table-configuration.png" alt="符号库表的初始配置">
</div>
</div>
<div class="paragraph">
<p>推荐使用第一个选项（<strong>复制默认全局符号库表（推荐）</strong>）。默认的符号库表包括所有作为 KiCad 一部分安装的标准符号库。</p>
</div>
<div class="paragraph">
<p>如果该选项被禁用，说明 KiCad 无法找到默认的全局符号库表。这可能意味着你没有和 KiCad 一起安装标准符号库，或者它们没有被安装在 KiCad 期望找到的地方。在某些系统中，KiCad 库是作为一个单独的软件包安装的）。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>如果你已经安装了标准的 KiCad 符号库并想使用它们，但第一个选项被禁用，请选择第二个选项并浏览到安装 KiCad 库的目录中的 <code>sym-lib-table</code> 文件。</p>
</li>
<li>
<p>如果你已经有一个你想使用的自定义符号库表，选择第二个选项并浏览你的 <code>sym-lib-table</code> 文件。</p>
</li>
<li>
<p>如果你想从头开始构建一个新的符号库表，选择第三个选项。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>符号库管理将在《管理符号库，待续》中详细描述。</p>
</div>
</div>
<div class="sect2">
<h3 id="_原理图编辑器的用户界面">1.3. 原理图编辑器的用户界面</h3>
<div class="imageblock">
<div class="content">
<img src="images/en/commands_overview.png" alt="原理图编辑器概述">
</div>
</div>
<div class="paragraph">
<p>原理图编辑器的主要用户界面如上图所示。中间包含主编辑画布，其周围有：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>顶级工具栏（文件管理、缩放工具、编辑工具）。</p>
</li>
<li>
<p>左侧工具栏（显示选项）</p>
</li>
<li>
<p>信息面板和底部的状态栏</p>
</li>
<li>
<p>右侧面板（绘图和设计工具）</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_在编辑画布上导航">1.4. 在编辑画布上导航</h3>
<div class="paragraph">
<p>编辑画布显示正在设计的原理图。你可以平移和缩放到原理图的不同部分，并打开设计中的任何原理图表。</p>
</div>
<div class="paragraph">
<p>默认情况下，用鼠标中键或右键拖动会平移画布视图，滚动鼠标滚轮会放大或缩小视图。你可以在偏好设置中的鼠标和触摸板部分改变这一行为（详见《配置和定制，配置和定制》）。</p>
</div>
<div class="paragraph">
<p>在顶部的工具栏中还有其他几个缩放工具：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="image"><img src="images/icons/zoom_in_24.png" alt="缩小图标"></span> 缩小视窗的中心。</p>
</li>
<li>
<p><span class="image"><img src="images/icons/zoom_out_24.png" alt="放大图标"></span> 从视口的中心点放大。</p>
</li>
<li>
<p><span class="image"><img src="images/icons/zoom_fit_in_page_24.png" alt="放大到页面图标"></span> 放大到适合绘图原理图周围的图框。</p>
</li>
<li>
<p><span class="image"><img src="images/icons/zoom_fit_to_objects_24.png" alt="缩放到对象图标"></span> 缩放到适合原理图中的每个项目（不包括绘图页）。例如，如果有项目放置在绘图页之外，在放大到对象之后，它们就会显现出来。</p>
</li>
<li>
<p><span class="image"><img src="images/icons/zoom_area_24.png" alt="缩放到选择图标"></span> 允许你画一个方框来确定缩放的区域。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>光标的当前位置显示在窗口的底部（X 和 Y），还有当前的缩放系数（Z）、光标的相对位置（dx、dy 和 dist）、网格设置和显示单位。</p>
</div>
<div class="paragraph">
<p>按 <kbd>Space</kbd> 可以将相对坐标重置为零。这对于测量两点之间的距离或对齐物体很有用。</p>
</div>
</div>
<div class="sect2">
<h3 id="_快捷键">1.5. 快捷键</h3>
<div class="paragraph">
<p>这个 <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>F1</kbd></span> 快捷键显示当前快捷键列表。默认的快捷键列表包括在本手册的 《原理图动作参考，动作参考》部分。</p>
</div>
<div class="paragraph">
<p>本手册中描述的热键使用了标准 PC 键盘上的按键标签。在苹果键盘布局中，使用 <kbd>Cmd</kbd> 键来代替 <kbd>Ctrl</kbd>，使用 <kbd>Option</kbd> 键来代替 <kbd>Alt</kbd>。</p>
</div>
<div class="paragraph">
<p>许多动作默认没有分配快捷键，但可以使用快捷键编辑器（<strong>偏好设置</strong> &#8594; <strong>偏好设置&#8230;&#8203;</strong> &#8594; <strong>《偏好设置-控制，快捷键》</strong>）分配或重新定义热键。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
许多通过快捷键进行的操作也可以在上下文菜单中使用。要访问上下文菜单，在编辑画布上点击右键。 根据所选择的内容或所使用的工具，将有不同的操作。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>快捷键存储在 KiCad 的配置目录下的 <code>user.hotkeys</code> 文件中。这个位置是特定于平台的：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Windows: <code>%APPDATA%\kicad\6.0\user.hotkeys</code></p>
</li>
<li>
<p>Linux: <code>~/.config/kicad/6.0/user.hotkeys</code></p>
</li>
<li>
<p>macOS: <code>~/Library/Preferences/kicad/6.0/user.hotkeys</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>KiCad 可以使用快捷键编辑器中的 <strong>导入快捷键</strong> 按钮从 <code>user.hotkeys</code> 文件中导入快捷键设置。</p>
</div>
</div>
<div class="sect2">
<h3 id="_鼠标操作和选择">1.6. 鼠标操作和选择</h3>
<div class="paragraph">
<p>选择编辑画布中的项目是用鼠标左键完成的。 单独点击一个对象将选择它。点击并拖动将执行一个框选。从左到右的框选将只选择完全在框内的项目。从右到左的方框选择将选择任何接触到方框的项目。从左到右的选择框是用黄色画的，光标表示排他性选择，从右到左的选择框是用蓝色画的，光标表示包容性选择。</p>
</div>
<div class="paragraph">
<p>在点击或拖动时按住修改键，可以修改选择动作。在点击选择单个项目时，以下修改键适用：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">修改键 (Windows)</th>
<th class="tableblock halign-left valign-top">修改键 (Linux)</th>
<th class="tableblock halign-left valign-top">修改键 (macOS)</th>
<th class="tableblock halign-left valign-top">选择效果</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Ctrl</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Ctrl</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Cmd</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">切换选择。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Shift</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Shift</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Shift</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">将项目添加到现有的选择中。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Shift</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Shift</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Cmd</kbd>+<kbd>Shift</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">从现有的选择中删除项目。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">长按</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">长按或 <kbd>Alt</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">长按或 <kbd>Option</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">从弹出式菜单中清晰选择。</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>以下修饰键适用于拖动执行框选时：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">修改键 (Windows)</th>
<th class="tableblock halign-left valign-top">修改键 (Linux)</th>
<th class="tableblock halign-left valign-top">修改键 (macOS)</th>
<th class="tableblock halign-left valign-top">选择效果</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Ctrl</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Ctrl</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Cmd</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">切换选择。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Shift</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Shift</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Shift</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在现有的选择中添加项目。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Shift</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Shift</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Cmd</kbd>+<kbd>Shift</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">从现有的选择中删除项目。</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>选择一个对象会在窗口底部的信息面板上显示该对象的信息。双击一个对象可以打开一个窗口来编辑该对象的属性。</p>
</div>
<div class="paragraph">
<p>按 <kbd>Esc</kbd> 将始终取消当前的工具或操作并返回到选择工具。在选择工具处于活动状态时按下 <kbd>Esc</kbd> 将清除当前的选择。</p>
</div>
</div>
<div class="sect2">
<h3 id="left-toolbar">1.7. 左侧工具条显示控制</h3>
<div class="paragraph">
<p>左边的工具条提供了改变原理图编辑器中项目显示的选项。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 95%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/grid_24.png" alt="网格可见性图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">打开/关闭网格显示。</p>
<p class="tableblock">    <strong>注意：</strong> 默认情况下，隐藏网格将禁用网格捕捉功能。这个行为可以在偏好设置中的显示选项部分改变。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/unit_inch_24.png" alt="英寸单位图标"></span></p>
<p class="tableblock">  <span class="image"><img src="images/icons/unit_mil_24.png" alt="密尔单位图标"></span></p>
<p class="tableblock">  <span class="image"><img src="images/icons/unit_mm_24.png" alt="毫米单位图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">以英寸、密尔或毫米为单位显示/输入坐标和尺寸。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/cursor_shape_24.png" alt="光标形状图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在全屏和小的编辑光标（十字准线）之间切换。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/hidden_pin_24.png" alt="隐藏的引脚图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">打开/关闭隐藏引脚的显示。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/lines90_24.png" alt="自由角度的线图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在自由角度和水平/垂直放置新导线、总线和图形线之间进行切换。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/hv45mode_24.png" alt="45 度角导线图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在自由角度、90 度模式和 45 度模式之间切换，以放置新的导线、总线和图形线。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/hierarchy_nav_24.png" alt="层次结构导航器图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">打开和关闭停靠的层次结构导航面板。</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="schematic-creation-and-editing">2. 原理图创建和编辑</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_简介">2.1. 简介</h3>
<div class="paragraph">
<p>用 KiCad 设计的原理图不仅仅是一个电子设备的简单图形表示。它通常是开发链的切入点，可用于：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>根据一套规则（《ERC，电气规则检查》）进行验证，以发现错误和遗漏。</p>
</li>
<li>
<p>自动生成《创建自定义的网表和 BOM 文件，材料清单》。</p>
</li>
<li>
<p>《创建自定义网表和 BOM 文件，生成网表》用于仿真软件，如 SPICE。</p>
</li>
<li>
<p>《创建自定义的网表和 BOM 文件，定义电路》，用于转移到 PCB 布局。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>原理图主要由符号、导线、标签、结点、总线和电源符号组成。为了使原理图更清晰，你可以放置纯图形元素，如总线入口、注释和折线。</p>
</div>
<div class="paragraph">
<p>符号是从符号库中添加到原理图中的。原理图制作完成后，连接和封装的集合被导入 PCB 编辑器，用于设计电路板。</p>
</div>
<div class="paragraph">
<p>原理图可以包含在一个原理图中，也可以分割成多个原理图。在 KiCad 中，多张原理图是按层次组织的，有一个根原理图和子原理图。每个原理图都是它自己的 <code>.kicad_sch</code> 文件，它本身就是一个完整的 KiCad 原理图。层次原理图的工作在《层次原理图，层次原理图》章节中描述。</p>
</div>
</div>
<div class="sect2">
<h3 id="schematic-editing-operations">2.2. 原理图编辑操作</h3>
<div class="paragraph">
<p>原理图编辑工具位于右边的工具栏中。 当一个工具被激活时，它将一直处于活动状态，直到选择了另一个工具或用 <kbd>Esc</kbd> 键取消该工具。当任何其他工具被取消时，选择工具总是被激活。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/cursor_24.png" alt="选择工具图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择工具（默认工具）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/net_highlight_schematic_24.png" alt="高亮网络的图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果 PCB 编辑器也被打开，那么与所选网络相对应的铜也会被高亮显示。可以用高亮工具在空白处点击来清除网络高亮，或者使用清除网络高亮的热键（<kbd>~</kbd>）来清除。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_component_24.png" alt="新建符号图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">显示符号选择器对话框来放置一个新的符号。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_power_24.png" alt="添加电源图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">显示电源符号选择器对话框，放置一个新的电源符号。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_line_24.png" alt="画导线图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画一条导线。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_bus_24.png" alt="画总线图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画一条总线。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_line2bus_24.png" alt="画导线到总线的图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画导线到总线的入口。这些元素只是图形化的，并不产生连接，因此它们不应该被用来连接导线。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/noconn_24.png" alt="绘制无连接标志的图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">放置一个 "不连接" 标志。这些标志应该放置在那些应该不连接的符号引脚上。"不连接" 标志向电气规则检查器表明，该引脚是故意不连接的，而不是一个错误。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_junction_24.png" alt="放置结点图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">放置一个结点。这连接了两根交叉的电线或一根电线和一个引脚，如果没有结点，有时会产生歧义（即如果一个电线端或一个引脚没有直接连接到另一个电线端）。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_label_24.png" alt="局部标签图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">放置一个局部标签。局部标签可以连接位于 <strong>同一原理图的</strong> 项目。对于两个不同原理图之间的连接，请使用全局或分层标签。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_glabel_24.png" alt="全局标签图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">放置一个全局标签。所有具有相同名称的全局标签都会被连接起来，即使位于不同的原理图上。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_hierarchical_label_24.png" alt="层次标签图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">放置一个层次标签。层次标签用于在子原理图和该原理图的父原理图之间建立联系。关于分层标签、原理图和页码的更多信息，请参见《层次原理图，层次原理图》部分。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_hierarchical_subsheet_24.png" alt="层次子原理图图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">放置一个层次的子原理图。你必须指定这个子原理图的文件名。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/import_hierarchical_label_24.png" alt="导入层次标签图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">从子原理图中导入一个层次标签。这个命令只能在层次的子原理图中执行。它将创建与放置在目标子原理图中的层次标签相对应的层次页码。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/text_24.png" alt="放置文本图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">放置一个文字注释。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_textbox_24.png" alt="放置文本框图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">放置一个文本框。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_rectangle_24.png" alt="绘制矩形图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">绘制一个矩形</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_circle_24.png" alt="绘制圆形图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">绘制一个圆形。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_arc_24.png" alt="绘制圆弧图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">绘制一个圆弧。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_dashed_line_24.png" alt="绘制虚线图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">绘制一条虚线。</p>
<p class="tableblock"><strong>注意：</strong> 虚线条是图形对象，与用导线工具放置的导线不同。它们并不连接任何东西。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/image_24.png" alt="放置位图图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">放置一个位图图像。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/delete_cursor_24.png" alt="交互式删除工具图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">删除已点击的项目。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="grids">2.3. 网格</h3>
<div class="paragraph">
<p>在原理图编辑器中，光标总是在一个网格上移动。该网格可以自定义：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>尺寸可以通过右键菜单或使用 <strong>视图</strong> &#8594; <strong>网格属性&#8230;&#8203;</strong> 来改变。</p>
</li>
<li>
<p>颜色可以在 <strong>偏好设置</strong> 对话框的 <strong>颜色</strong> 页中改变（菜单 <strong>偏好设置</strong> &#8594; <strong>常规选项</strong>）。</p>
</li>
<li>
<p>可见性可以通过左侧的工具栏按钮进行切换。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>默认的网格尺寸是 50 mil（0.050 英寸）或 1.27 mm。</p>
</div>
<div class="paragraph">
<p>这是推荐的网格，用于在原理图中放置符号和导线，以及在符号编辑器中设计符号时放置引脚。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
导线只有在两端完全重合的情况下才能与其他导线或引脚连接。因此，保持符号引脚和导线与网格对齐是非常重要的。建议在放置符号和绘制导线时始终使用 50 mil 的网格，因为 KiCad 标准符号库和所有遵循其风格的库也使用 50 mil 的网格。<strong>使用 50 mil 以外的网格尺寸将导致原理图没有正确的连接！</strong>。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>也可以使用较小的网格，但这只适用于文本和符号图形，不建议用于放置引脚和导线。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
符号、导线和其他没有对准网格的元素，可以通过选择它们，点击右键，并点击 <strong>将元素对准网格</strong>，将它们重新对准网格。
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="snapping">2.4. 捕捉</h3>
<div class="paragraph">
<p>符号、导线、文本和图形线等原理图元素在移动、拖动和绘制时都会被固定在网格上。此外，即使在禁用网格捕捉的情况下，导线工具也会捕捉到引脚。在移动鼠标时，可以通过使用下表中的修改键来禁用网格和引脚的捕捉。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
在苹果键盘上，使用 <kbd>Cmd</kbd> 键而不是 <kbd>Ctrl</kbd>。
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">修改键</th>
<th class="tableblock halign-left valign-top">效果</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Ctrl</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">禁用网格捕捉。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Shift</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">禁用将导线捕捉在引脚上。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_编辑对象属性">2.5. 编辑对象属性</h3>
<div class="paragraph">
<p>所有对象都有可在对话框中编辑的属性。使用快捷键 <kbd>E</kbd> 或从右键菜单中选择属性来编辑所选项目的属性。只有当你选择的所有项目都是同一类型时，你才能打开属性对话框。要想一次编辑不同类型的项目的属性，请参阅下面关于批量编辑工具的章节。</p>
</div>
<div class="paragraph">
<p>在属性对话框中，任何包含数字值的字段也可以接受一个基本的数学表达式，从而得到一个数字值。例如，一个尺寸可以被输入为 <code>2 * 2 mm</code>，结果是 <code>4 mm</code> 的值。支持基本算术运算符以及用于定义运算顺序的圆括号。</p>
</div>
</div>
<div class="sect2">
<h3 id="working-with-symbols">2.6. 使用符号工作</h3>
<div class="sect3">
<h4 id="placing-symbols">2.6.1. 放置符号</h4>
<div class="paragraph">
<p>To place a symbol in your schematic, use the <span class="image"><img src="images/icons/add_component_24.png" alt="New Symbol icon"></span> button or the <kbd>A</kbd> hotkey. The Choose Symbols dialog appears and lets you select a symbol to add. Symbols are grouped by symbol library.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/dialog_choose_component.png" alt="选择元件对话框">
</div>
</div>
<div class="paragraph">
<p>By default, only the symbol/library name and description columns are shown. Additional columns can be added by right-clicking the column header and selecting <strong>Select Columns</strong>.</p>
</div>
<div class="paragraph">
<p>The Choose Symbol dialog filters symbols by name, keywords, description, and all additional symbol fields according to what you type into the search field.</p>
</div>
<div class="paragraph">
<p>有一些高级筛选器可用：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>通配符：</strong> 使用字符 <code>?</code> 和 <code>\*</code> 分别表示 "任何单个字符或没有字符" 和 "任何数量的任何字符(包括没有)"。</p>
</li>
<li>
<p><strong>键值对：</strong> 如果一个库部分的描述或关键词包含一个格式为 "Key:123" 的标签，你可以通过输入 "Key&gt;123"（大于）、"Key&lt;123"（小于）等进行相对匹配。数字可以包括以下不区分大小写的后缀之一。</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">p</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">m</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">k</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">meg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">g</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">t</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>-12</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>-9</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>-6</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>-3</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>3</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>6</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>9</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>12</sup></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 50%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ki</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ti</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2<sup>10</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2<sup>20</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2<sup>30</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2<sup>40</sup></p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>正则表达式：</strong> 如果你熟悉正则表达式，也可以使用这些。使用的正则表达式是 <a href="http://docs.wxwidgets.org/3.0/overview_resyntax.html">wxWidgets 高级正则表达式风格</a>，它类似于 Perl 正则表达式。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>如果符号指定了一个默认的封装，这个封装将在右下方预览。如果符号包括封装过滤器，可以在右边的封装下拉菜单中选择满足封装过滤器的备用封装。</p>
</div>
<div class="paragraph">
<p>选择一个要放置的符号后，该符号将被附在光标上。 左键点击原理图中所需要的位置，将符号放入原理图中。在将符号放入原理图之前，你可以通过热键或右键菜单来旋转它、镜像它和编辑它的字段。这些操作也可以在放置后进行。</p>
</div>
<div class="paragraph">
<p>如果 <strong>放置重复副本</strong> 选项被选中，在放置一个符号后 KiCad 将开始放置该符号的另一个副本。这个过程一直持续到用户按下 <kbd>Esc</kbd>。</p>
</div>
<div class="paragraph">
<p>对于有多个单元的符号，如果 <strong>放置所有单元</strong> 选项被选中，在放置符号后 KiCad 将开始放置该符号中的下一个单元。 这将持续到最后一个单元被放置或用户按下 <kbd>Esc</kbd>。</p>
</div>
</div>
<div class="sect3">
<h4 id="placing-power-symbols">2.6.2. 放置电源符号</h4>
<div class="paragraph">
<p>一个 《电源符号，电源符号》是一个代表与电源网络连接的符号。 这些符号被分组在 <code>power</code> 库中，所以它们可以使用符号选择器来放置。 然而，由于电源的放置很频繁，<span class="image"><img src="images/icons/add_power_24.png" alt="添加电源图标"></span> 工具是可用的。这个工具也类似，只是搜索是直接在 <code>power</code> 库和任何其他包含电源符号的库中进行。</p>
</div>
</div>
<div class="sect3">
<h4 id="moving-symbols">2.6.3. 移动符号</h4>
<div class="paragraph">
<p>符号可以用移动（<kbd>M</kbd>）或拖动（<kbd>G</kbd>）工具移动。这些工具作用于选定的符号，或者如果没有选定符号，则作用于光标下的符号。</p>
</div>
<div class="paragraph">
<p><strong>移动</strong> 工具移动符号本身，而不保持与符号引脚的导线连接。</p>
</div>
<div class="paragraph">
<p><strong>拖动</strong> 工具在移动符号时不会破坏其引脚的导线连接，因此也会移动连接的导线。</p>
</div>
<div class="paragraph">
<p>你也可以用鼠标点击并拖动符号，这取决于偏好设置中 <strong>鼠标和触摸板</strong> 部分的 <strong>左键拖动手势</strong> 设置。</p>
</div>
<div class="paragraph">
<p>符号也可以旋转（<kbd>R</kbd>）或在X（<kbd>X</kbd>）或Y（<kbd>Y</kbd>）方向上进行镜像。</p>
</div>
</div>
<div class="sect3">
<h4 id="editing-symbol-properties">2.6.4. 编辑符号属性</h4>
<div class="paragraph">
<p>符号的字段可以在符号的属性窗口中进行编辑。用 <kbd>E</kbd> 热键或通过双击符号来打开符号属性窗口。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/dialog_component_properties.png" alt="符号属性对话框">
</div>
</div>
<div class="paragraph">
<p>符号属性窗口在一个表格中显示一个符号的所有字段。新的字段可以被添加，现有的字段可以被删除、编辑、重新排序、移动或调整大小。</p>
</div>
<div class="paragraph">
<p>每个字段的名称和值可以是可见的或隐藏的，并且有几个格式化选项：水平和垂直对齐、方向、位置、字体、文本颜色、文本大小和黑体/大写强调。字段的自动放置也可以在每个字段的基础上启用。对于正常显示的符号，显示的位置总是被指示的（没有旋转或镜像），并且是相对于符号的锚点而言的。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
符号字段的格式化选项可以通过右击符号字段表的标题行来显示或隐藏，并启用或禁用所需的列。默认情况下，不是所有的列都显示。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>从库中更新符号&#8230;&#8203;</strong> 按钮用于更新原理图中的符号副本，使其与库中的副本相匹配。<strong>变更符号&#8230;&#8203;</strong> 按钮用于将当前符号换成库中的不同符号。</p>
</div>
<div class="paragraph">
<p><strong>编辑符号&#8230;&#8203;</strong> 打开符号编辑器，编辑原理图中的符号副本。注意，库中的原始符号将不会被修改。<strong>编辑库中的符号&#8230;&#8203;</strong> 按钮可以打开符号编辑器来编辑库中的原始符号。在这种情况下，原理图中的符号将不会被修改，直到用户点击 <strong>更新库中的符号&#8230;&#8203;</strong> 按钮。</p>
</div>
<div class="paragraph">
<p>符号有几个属性，它们会影响 KiCad 其他部分对符号的处理方式。</p>
</div>
<div class="paragraph">
<p><strong>从模拟中排除</strong> 防止该符号被包括在 SPICE 模拟中。</p>
</div>
<div class="paragraph">
<p><strong>从 BOM 中排除</strong> 防止该元件被包括在 《BOM 导出，BOM 导出》中。</p>
</div>
<div class="paragraph">
<p><strong>从电路板中排除</strong> 意味着该符号仅用于原理图，相应的封装不会被添加到 PCB 上。</p>
</div>
<div class="paragraph">
<p><strong>不使用</strong> 意味着该元件不应该被连接到 PCB 上，虽然相应的封装仍然应该被添加到电路板上。如下图所示，DNP 符号在原理图中显示为不饱和状态，上面有一个红色的 "X"。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dnp_symbol.png" alt="设置有 DNP 属性的符号">
</div>
</div>
<div class="sect4">
<h5 id="_单独编辑符号字段">单独编辑符号字段</h5>
<div class="paragraph">
<p>可以用 <kbd>E</kbd> 快捷键直接编辑单个符号文本字段（选择字段而不是符号），或者双击字段。</p>
</div>
<div class="paragraph">
<p>一些符号字段有自己的快捷键，可以直接编辑它们。选定符号后，可分别用 <kbd>U</kbd>、<kbd>V</kbd> 或 <kbd>F</kbd> 快捷键编辑参考、值和封装字段。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/dialog_edit_value_field.png" alt="编辑值字段对话框">
</div>
</div>
<div class="paragraph">
<p>该对话框中的选项与完整的 "符号属性" 对话框中的选项相同，但都是针对单个字段的。</p>
</div>
<div class="paragraph">
<p>符号字段可以通过自动放置字段操作（选择一个符号并按 <kbd>O</kbd>）自动移动到一个适当的位置。字段自动放置可在原理图编辑器的编辑选项中进行配置，包括设置为总是自动放置字段。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="symbol-fields-table">2.6.5. 符号字段表</h4>
<div class="paragraph">
<p>符号字段表允许你在电子表格界面中查看和修改所有符号的字段值。你可以用 <span class="image"><img src="images/icons/spreadsheet_24.png" alt="符号字段表图标"></span> 按钮打开符号字段表。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/dialog_symbol_fields_table.png" alt="符号字段表">
</div>
</div>
<div class="paragraph">
<p>单元格可以用方向键导航，或者用 <kbd>Tab</kbd> / <span class="keyseq"><kbd>Shift</kbd>+<kbd>Tab</kbd></span> 向右/向左移动，<kbd>Enter</kbd> / <span class="keyseq"><kbd>Shift</kbd>+<kbd>Enter</kbd></span> 向下/向上移动。</p>
</div>
<div class="paragraph">
<p>通过点击和拖动可以选择一个单元格范围。选定的整个单元格范围将被复制（<span class="keyseq"><kbd>Ctrl</kbd>+<kbd>C</kbd></span>）或粘贴到（<span class="keyseq"><kbd>Ctrl</kbd>+<kbd>V</kbd></span>）复制或粘贴操作上。从表中复制单元格的范围对于创建 BOM 非常有用。下面将介绍复制和粘贴单元格的更多细节。</p>
</div>
<div class="paragraph">
<p>任何符号字段都可以通过左边的 <strong>显示</strong> 复选框来显示或隐藏，或者通过右键点击表格的标题。新的符号字段可以用 <strong>添加字段&#8230;&#8203;</strong> 按钮添加。</p>
</div>
<div class="paragraph">
<p>Similar symbols can optionally be grouped by any symbol field using the <strong>Group By</strong> checkboxes. Grouped symbols are shown in a single row in the table. The grouped row can be expanded to show the individual symbols by clicking the arrow at the left of the row. The <strong>Group Symbols</strong> checkbox enables or disables symbol grouping, and the <span class="image"><img src="images/icons/small_refresh_16.png" alt="refresh icon"></span> button recalculates groupings.</p>
</div>
<div class="paragraph">
<p>Symbols can be filtered using the <strong>Filter</strong> textbox at the top. The filter supports wildcards: <code>*</code> matches any number of any characters, and <code>?</code> matches any single character.</p>
</div>
<div class="paragraph">
<p>你可以使用 <strong>导出为 CSV&#8230;&#8203;</strong> 按钮，将符号字段保存到外部文件。这可以作为一个简单的 BOM 生成工具，尽管 《BOM 导出，BOM 工具》提供了对生成的输出的更好控制。</p>
</div>
<div class="sect4">
<h5 id="_简化填写字段的技巧">简化填写字段的技巧</h5>
<div class="paragraph">
<p>电子表格中有几种特殊的复制/粘贴方法，用于将数值粘贴到较大的区域，包括自动增加粘贴的单元格。这些功能在粘贴几个符号中共享的数值时可能很有用。</p>
</div>
<div class="paragraph">
<p>这些方法如下所示。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">1. 复制（<span class="keyseq"><kbd>Ctrl</kbd>+<kbd>C</kbd></span>）</th>
<th class="tableblock halign-left valign-top">2. 选择目标单元格</th>
<th class="tableblock halign-left valign-top">3. 粘贴 (<span class="keyseq"><kbd>Ctrl</kbd>+<kbd>V</kbd></span>)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/copypaste11.png" alt="1复制"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/copypaste12.png" alt="1选择"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/copypaste13.png" alt="1粘贴"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/copypaste21.png" alt="2复制"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/copypaste22.png" alt="2选择"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/copypaste23.png" alt="2粘贴"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/copypaste31.png" alt="3复制"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/copypaste32.png" alt="3选择"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/copypaste33.png" alt="3粘贴"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/copypaste41.png" alt="4复制"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/copypaste42.png" alt="4选择"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/copypaste43.png" alt="4粘贴"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/copypaste51.png" alt="5复制"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/copypaste52.png" alt="5选择"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/copypaste53.png" alt="5粘贴"></span></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
这些技术在其他带有网格控制元素的对话框中也可以使用。
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="reference-designators-and-symbol-annotation">2.7. 位号和符号注释</h3>
<div class="paragraph">
<p>位号是设计中元件的唯一标识符。它们通常被印在 PCB 和装配图上，使你能够将原理图中的符号与电路板上的相应元件相匹配。</p>
</div>
<div class="paragraph">
<p>在 KiCad 中，位号由一个表示元件类型的字母组成（<code>R</code> 表示电阻，<code>C</code> 表示电容，<code>U</code> 表示集成电路，等等），后面是一个数字。如果符号有多个元位，那么位号也会有一个表示元位的尾部字母。没有设置位号的符号有一个 <code>?</code> 字符，而不是数字。位号必须是唯一的。</p>
</div>
<div class="paragraph">
<p>位号可以在符号添加到原理图时自动设置，也可以通过手动编辑单个符号的位号字段或使用注释工具批量设置或重置位号。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
设置一个符号的位号的过程被称为 <strong>批注</strong>。
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_自动批注">2.7.1. 自动批注</h4>
<div class="paragraph">
<p>启用自动批注后，符号被添加到原理图中时将被自动批注。你可以在 <strong>偏好设置</strong> 中 <strong>原理图编辑器</strong> &#8594; <strong>批注选项</strong> 窗格中选中 <strong>自动批注符号</strong> 复选框来启用自动批注。自动批注也可以通过左侧工具栏的 <span class="image"><img src="images/icons/annotate_24.png" alt="自动批注图标"></span> 按钮进行切换。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/auto_annotation_preferences.png" alt="alt=" width="auto-annotation preferences"">
</div>
</div>
<div class="paragraph">
<p>当同时添加多个符号时，它们会根据 <strong>顺序</strong> 设置进行批注，按 X 或 Y 位置排序。</p>
</div>
<div class="paragraph">
<p><strong>编号</strong> 选项为新的位号设置起始编号。 这可以是最低的可用数字，也可以是基于原理图编号的数字。</p>
</div>
<div class="paragraph">
<p>关于注解选项的更多信息，请参见《批注工具，批注工具》的文档。</p>
</div>
</div>
<div class="sect3">
<h4 id="annotation-tool">2.7.2. 批注工具</h4>
<div class="paragraph">
<p>批注工具会自动为原理图中的符号指定位号。要启动批注工具，请点击顶部工具栏上的 <span class="image"><img src="images/icons/annotate_24.png" alt="批注图标"></span> 按钮。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/annotate-dialog.png" alt="批注对话框">
</div>
</div>
<div class="paragraph">
<p>该工具提供了几个选项来控制符号的批注方式。</p>
</div>
<div class="paragraph">
<p><strong>范围：</strong> 选择批注是否适用于整个原理图、仅适用于当前原理图或仅适用于选定的符号。如果选择了 <strong>递归到子原理图</strong> 的选项，所选范围的子原理图中的符号将被重新批注；否则子原理图中的符号将不会被重新批注。例如，如果 <strong>递归到子原理图</strong> 和 <strong>仅选择</strong>，任何选定的子原理图中的符号将被重新批注。</p>
</div>
<div class="paragraph">
<p><strong>选项：</strong> 选择批注是否应适用于所有符号和重置 <strong>现有的位号</strong>，或仅适用于未批注的符号。</p>
</div>
<div class="paragraph">
<p><strong>顺序：</strong> 选择编号的方向。如果符号按 X 位置排序，原理图页面左侧的所有符号将比页面右侧的符号编号低。如果符号按 Y 位置排序，则原理图顶部的所有符号的编号将低于原理图底部的符号的编号。</p>
</div>
<div class="paragraph">
<p><strong>编号：</strong> 选择编号位号的起点。每一个位号都会选择在起点之上的最低的未使用的数字。起始点可以是一个任意的数字（通常是 0），也可以是纸张编号乘以 100 或 1000，这样每个零件的位号就与它所在的原理图页相对应。</p>
</div>
<div class="paragraph">
<p><strong>清除批注</strong> 按钮可以清除所选范围内的所有位号。</p>
</div>
<div class="paragraph">
<p>批注信息可以用底部的复选框进行过滤，或用 <strong>保存&#8230;&#8203;</strong> 按钮保存到报告中。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="electrical-connections">2.8. 电气连接</h3>
<div class="paragraph">
<p>有两种主要的方式来建立连接：导线和标签。导线进行直接连接，而标签则与具有相同名称的其他标签连接。下面的原理图中显示了导线和标签的情况。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wires_labels.png" alt="导线标签">
</div>
</div>
<div class="paragraph">
<p>也可以用总线进行连接，并通过隐藏的电源引脚进行隐性连接。</p>
</div>
<div class="paragraph">
<p>本节还将讨论两种特殊类型的符号，可以用右侧工具栏上的 "电源符号" 按钮添加：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>电源符号</strong>：用于将电线连接到电源或地网络的符号。</p>
</li>
<li>
<p><strong>PWR_FLAG</strong>：一个特定的符号，用于表示一个网络在没有连接到电源输出引脚时是有电源的（例如，一个由板外连接器提供的电源网络）。</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_导线">2.8.1. 导线</h4>
<div class="paragraph">
<p>导线用于在两点之间直接建立电气连接。 要建立连接，必须将一段导线的末端与另一段导线或一个引脚相连。只有导线的末端才能建立连接；如果一根导线穿过另一根导线的中间，就不会建立连接。</p>
</div>
<div class="paragraph">
<p>未连接的导线端有一个小方块，表示连接点。 当连接到导线端时，这个方块就会消失。未连接的引脚有一个圆圈，当进行连接时也会消失。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
导线只有在两端完全重合的情况下才能与其他导线或引脚连接。因此，保持符号引脚和导线与网格对齐很重要。建议在放置符号和绘制导线时始终使用 50 mil 的网格，因为 KiCad 标准符号库和所有遵循其风格的库也使用 50 mil 的网格。
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
符号、导线和其他没有对准网格的元素，可以通过选择它们，右键点击，并选择 <strong>将元素对准网格</strong>，来将它们重新对准网格。
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="drawing-and-editing-wires">绘制和编辑电线</h5>
<div class="paragraph">
<p>要开始用导线连接元素，请使用右侧工具栏中的导线工具 <span class="image"><img src="images/icons/add_line_24.png" alt="导线工具图标"></span>（<kbd>w</kbd>）。也可以通过点击未连接的符号引脚或导线末端来自动启动导线。</p>
</div>
<div class="paragraph">
<p>你可以用左边工具栏上的 <span class="image"><img src="images/icons/lines90_24.png" alt="90 度导线图标"></span> 按钮将导线限制在 90 度角，或者用 <span class="image"><img src="images/icons/hv45mode_24.png" alt="45 度导线图标"></span> 按钮限制在 45 度角。<span class="image"><img src="images/icons/lines_any_24.png" alt="自由角度导线图标"></span> 按钮允许你以任何角度放置导线。你可以使用 <span class="keyseq"><kbd>Shift</kbd>+<kbd>Space</kbd></span> 在这些模式中循环，或者在 <strong>偏好设置</strong> &#8594; <strong>原理图编辑器</strong> &#8594; <strong>编辑选项</strong> 中选择所需的模式。这些模式除了影响导线外，还影响 《图形线，图形线》。</p>
</div>
<div class="paragraph">
<p><a href="../pcbnew/pcbnew.html#track-posture">As in the PCB editor</a>, the <kbd>/</kbd> hotkey switches wire posture.</p>
</div>
<div class="paragraph">
<p>可以使用移动（<kbd>M</kbd>）或拖动（<kbd>G</kbd>）工具来移动和编辑导线。 与符号一样，<strong>移动</strong> 工具只移动选定的线段，而不保持与其他线段的现有连接。而 <strong>拖动</strong> 工具则保持现有的连接。</p>
</div>
<div class="paragraph">
<p>你可以使用 <strong>选择连接</strong> 工具（<span class="keyseq"><kbd>Alt</kbd>+<kbd>4</kbd></span>）选择连接的导线。这个工具可以选择所有连接的线段，直到到达一个结点，从所选线段或光标下的线段开始。 再次使用该工具可以将现有的选择范围扩大到下一个结点。</p>
</div>
<div class="paragraph">
<p>你可以通过右击导线并选择 <strong>切片</strong> 将一个线段分成两块。该线段将在当前的鼠标位置被分开。你也可以通过右击一个线段并选择 <strong>断开</strong> 将其与相邻的线段分开。</p>
</div>
<div class="paragraph">
<p>通常情况下，线的线型是按照网的《原理图设置网络类，网络类设置》（如果没有指定其他网络类，网就处于 <code>默认</code> 网络类）。然而，所选线段的线型可以在线段的属性对话框中被覆盖（当线段被选中时 <kbd>E</kbd>）。可以设置线的宽度、颜色和线的样式（实线、虚线、点线等）。将宽度设置为 <code>0</code>，清除颜色，并使用 <code>默认</code> 线条样式，分别使用网络类设置中的默认宽度、颜色和样式。如果在选择中包含了一个导线结点，结点的大小也可以在这里进行编辑。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/wire_properties.png" alt="导线和总线属性对话框">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_导线结点">导线结点</h5>
<div class="paragraph">
<p>交叉的导线不会被隐含地连接起来。如果需要连接，有必要通过明确地添加结点来连接它们（<span class="image"><img src="images/icons/add_junction_24.png" alt="添加结点图标"></span>按钮在右侧工具栏）。交叉点将被自动添加到开始或结束于现有导线之上的导线。</p>
</div>
<div class="paragraph">
<p>在上面的原理图中，连接到 <code>P1</code> 引脚 18、19、20、21、22 和 23 的导线上使用了结点。</p>
</div>
<div class="paragraph">
<p>结点大小自动遵循原理图的 <strong>结点大小</strong> 设置，在 <strong>原理图设置</strong> &#8594; <strong>通用</strong> &#8594; <strong>格式化</strong>。颜色遵循 《原理图设置网络类，网络类设置》。自动尺寸和颜色可以在每个连接点的属性中被覆盖；尺寸为 <code>0</code> 相当于原理图的默认尺寸，而清除颜色则使用网络类颜色。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/junction_properties.png" alt="结点属性对话框">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="labels">2.8.2. 标签</h4>
<div class="paragraph">
<p>标签是用来给导线和引脚分配网络名称的。具有相同网络名称的导线被认为是连接在一起的，所以标签可以用来进行连接，而不需要直接画线连接。</p>
</div>
<div class="paragraph">
<p>一个网络只能有一个名称。如果有两个不同的标签放在同一个网络上，将产生一个 ERC 违规。 在网表中只使用其中一个网络名称。最终的网络名称是根据下面描述的《网络名称分配规则》决定的。</p>
</div>
<div class="paragraph">
<p>有三种类型的标签，每种都有不同的连接范围。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>局部标签</strong>，也被简单地称为标签，只在一个原理图内进行连接。用右边工具栏上的 <span class="image"><img src="images/icons/add_label_24.png" alt="局部标签图标"></span> 按钮添加一个局部标签。</p>
</li>
<li>
<p><strong>全局标签</strong> 可以在原理图的任何地方进行连接，而不考虑原理图。用右边工具栏上的 <span class="image"><img src="images/icons/add_glabel_24.png" alt="全局标签图标"></span> 按钮添加一个全局标签。</p>
</li>
<li>
<p><strong>层次标签</strong> 连接到层次的原理图页码，在《层次原理图，层次原理图》中用于连接子原理图和其父原理图。用右边工具栏上的 <span class="image"><img src="images/icons/add_hierarchical_label_24.png" alt="层次标签图标"></span> 按钮添加层次标签。</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
具有相同名称的标签将被连接，无论标签类型如何。如果它们在同一张原理图上。
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_添加和编辑标签">添加和编辑标签</h5>
<div class="paragraph">
<p>使用适当的按钮或快捷键创建标签后，会出现标签属性对话框。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/global_label_properties.png" alt="全局标签属性对话框">
</div>
</div>
<div class="paragraph">
<p><strong>标签</strong> 字段设置了标签的文本，它决定了标签分配给其连接线的网络。标签文本支持《文本标记，标记》，用于覆盖条、下标等，以及《文本变量，变量替换》。 使用对话框中的 <strong>语法帮助</strong> 链接来获得摘要。</p>
</div>
<div class="paragraph">
<p>有几个选项可以控制标签的外观。你可以改变文本的 《字体，字体》、大小和颜色，并设置粗体和斜体强调。 你还可以设置文本相对于标签连接点的方向。层次和全局标签有几个额外的选项：<strong>自动</strong> 选项根据连接的原理图元素自动设置标签方向，<strong>形状</strong> 选项控制标签轮廓的形状（<strong>输入</strong>、<strong>输出</strong>、<strong>双向</strong>、<strong>三态</strong> 或 <strong>被动</strong>）。轮廓形状纯粹是视觉上的，没有电气上的影响。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The default text size can be set for a schematic in
      <a href="#schematic-setup-formatting">Schematic Setup</a>, and the default font can
      be set in <a href="#preferences-schematic-display-options">Preferences</a>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Global labels have additional settings to control margins around the label
      text in the <a href="#schematic-setup-formatting">Schematic Setup dialog</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>标签也可以添加字段。有两个字段有特殊的意义（"网络类" 和 "位表间参考"，下面会介绍），但也可以添加任意字段。标签字段的行为类似于《编辑符号属性，符号字段》：你可以显示或隐藏它们的名称和值，调整对齐方式、方向、位置、大小、字体、颜色和强调。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
通过右击标签字段表的标题行，启用或禁用所需的列，可以显示或隐藏标签字段的格式化选项。默认情况下，不是所有的列都显示。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>与符号字段一样，标签字段可以通过从原理图中打开特定标签字段的属性进行单独编辑（双击标签字段，或使用 <kbd>E</kbd>）。</p>
</div>
<div class="paragraph">
<p>接受标签属性后，标签将被连接到光标上进行放置。标签的连接点是标签角落里的小方块。当标签被连接到导线或引脚的末端时，这个方块就会消失。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/unconnected_label.png" alt="未连接的标签">
</div>
</div>
<div class="paragraph">
<p>连接点相对于标签文本的位置可以通过在标签的属性中选择不同的标签方向，或通过镜像/旋转标签来改变。</p>
</div>
<div class="paragraph">
<p>通过选择一个标签并使用 <kbd>E</kbd> 快捷键、双击该标签或在右键菜单中使用 <strong>属性&#8230;&#8203;</strong>，可以随时访问标签属性对话框。</p>
</div>
</div>
<div class="sect4">
<h5 id="label-netclass">用标签分配网络类</h5>
<div class="paragraph">
<p>In addition to assigning net names, labels can be used to assign net classes. A label field named <code>Net Class</code> assigns the specified netclass to the net associated with the label. To make it easier to assign net classes in this way, <code>Net Class</code> is the default name for new label fields, and <code>Net Class</code> fields present a dropdown list of all the net classes in the design. Net classes must be created in the <a href="#schematic-netclasses">Schematic Setup</a> or <a href="../pcbnew/pcbnew.html#board-setup-net-classes">Board Setup</a> windows before they can be assigned with a label field.</p>
</div>
<div class="paragraph">
<p>关于分配网络类的更多信息，请参见《原理图网络类，网络类文档》。</p>
</div>
</div>
<div class="sect4">
<h5 id="intersheet-references">表间参考</h5>
<div class="paragraph">
<p>全局标签可以显示表间参考，这是原理图中出现同一全局标签的其他地方的页码列表。 点击表间参考就可以进入所列出的页面。如果列出了多个位号，点击位号列表会出现一个菜单来选择所需的页面。</p>
</div>
<div class="paragraph">
<p>Inter-sheet references are globally controlled in the <a href="#schematic-setup-formatting">Schematic Setup</a> window&#8217;s Formatting page. References can be enabled or disabled, and the displayed format for the list can be adjusted, including with optional prefix or suffix characters.</p>
</div>
<div class="paragraph">
<p>下图显示了一个全局标签，其中有对其他两个原理图页面的之间位号。在原理图设置中，分别添加了前缀和后缀 <code>[</code> 和 <code>]</code>。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/inter-sheet-refs.png" alt="全局标签与表间参考">
</div>
</div>
<div class="paragraph">
<p>全局标签会自动添加一个 "表间参考" 字段，其值为 "${INTERSHEET_REFS}"，用于控制该标签的表间参考。<code>${INTERSHEET_REFS}</code> 文本变量会被扩展为全局标签的表间参考的完整列表，如在原理图设置中所配置。表间参考的可见性在 "原理图设置" 中是全局控制的，而不是通过 "表间参考" 字段的可见性控制。对于其他类型的标签，"表间参考" 字段没有意义。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="buses">2.8.3. 总线</h4>
<div class="paragraph">
<p>总线是一种在原理图中分组相关信号的方法，以简化复杂的设计。 总线可以像导线一样用总线工具画出来 <span class="image"><img src="images/icons/add_bus_24.png" alt="总线工具图标"></span>，并像信号线一样用标签命名。</p>
</div>
<div class="paragraph">
<p>在下面的原理图中，许多引脚都连接到总线上，也就是中间的蓝色粗线。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sch_with_buses.png" alt="带总线的原理图示例">
</div>
</div>
<div class="sect4">
<h5 id="bus-members">总线编号</h5>
<div class="paragraph">
<p>在 KiCad 6.0 及以后版本中，有两种类型的总线：矢量总线和分组总线。</p>
</div>
<div class="paragraph">
<p>一个 <strong>矢量总线</strong> 是一个信号的集合，以一个共同的前缀开始，以一个数字结束。 矢量总线被命名为 <code>&lt;前缀&gt;[M..N]</code>，其中`前缀`是任何有效的信号名称，<code>M</code> 是第一个后缀数字，<code>N</code> 是最后的后缀数字。 例如，总线 <code>DATA[0&#8230;&#8203;7]</code> 包含信号 <code>DATA0</code>、<code>DATA1</code>，以此类推，直到 <code>DATA7</code>。 指定 <code>M</code> 和 <code>N</code> 的顺序并不重要，但两者必须是非负数。</p>
</div>
<div class="paragraph">
<p>一个 <strong>分组总线</strong> 是一个或多个信号和/或矢量总线的集合。 分组总线可以用来把相关的信号捆绑在一起，即使它们有不同的名字。 分组总线使用一种特殊的标签语法：</p>
</div>
<div class="paragraph">
<p><code>&lt;OPTIONAL_NAME&gt;{SIGNAL1 SIGNAL2 SIGNAL3}</code></p>
</div>
<div class="paragraph">
<p>该分组的成员被列在大括号（<code>{}</code>）内，用空格字符隔开。 在大括号的前面有一个可选的分组名。 如果分组总线没有命名，PCB 上的结果网络将只是该分组内的信号名称。 如果分组总线有名字，产生的网路将以名字为前缀，用句号（<code>.</code>）分隔前缀和信号名称。</p>
</div>
<div class="paragraph">
<p>例如，总线 <code>{SCL SDA}</code> 有两个信号成员，在网表中这些信号将是 <code>SCL</code> 和 <code>SDA</code>。 总线 <code>USB1{DP DM}</code> 将产生名为 <code>USB1.DP</code> 和 <code>USB1.DM</code> 的网表。 对于在几个类似电路中重复出现的较大的总线的设计，使用这种技术可以节省时间。</p>
</div>
<div class="paragraph">
<p>分组总线也可以包含矢量总线。 例如，总线 <code>MEMORY{A[7..0] D[7..0] OE WE}</code> 同时包含了矢量总线和普通信号，并将在 PCB 上形成 <code>MEMORY.A7</code> 和 <code>MEMORY.OE</code> 这样的网络。</p>
</div>
<div class="paragraph">
<p>总线的绘制和连接方式与信号线相同，包括使用结点来创建交叉线之间的连接。 与信号线一样，总线不能有一个以上的名称&#8212;&#8203;如果在同一条总线上有两个冲突的标签，将产生一个 ERC 违规。</p>
</div>
</div>
<div class="sect4">
<h5 id="connections-between-bus-members">总线成员之间的连接</h5>
<div class="paragraph">
<p>在总线的相同成员之间连接的引脚必须通过标签连接。不可能将一个引脚直接连接到总线上；这种连接方式将被 KiCad 忽略。</p>
</div>
<div class="paragraph">
<p>在上面的例子中，连接是通过放置在连接到引脚的导线上的标签来实现的。通往总线的总线入口（45 度的线段）只是图形化的，并不是形成逻辑连接的必要条件。</p>
</div>
<div class="paragraph">
<p>事实上，使用重复命令（<kbd>Insert</kbd>），如果元件引脚以递增的顺序排列，可以非常快速地进行连接（在实践中，这种情况常见于存储器、微处理器等元件）：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>放置第一个标签（例如：<code>PCA0</code>）。</p>
</li>
<li>
<p>根据需要使用重复命令来放置成员。 KiCad 将自动创建下一个标签（<code>PCA1</code>，<code>PCA2</code>&#8230;&#8203;）垂直对齐，理论上是在其他引脚的位置上。</p>
</li>
<li>
<p>在第一个标签下画线。然后使用重复命令将其他导线放在标签下。</p>
</li>
<li>
<p>如果需要，以同样的方式放置总线入口（放置第一个入口，然后使用重复命令）。</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>在偏好设置菜单的 <strong>原理图编辑器</strong> &#8594; <strong>编辑选项</strong> 部分，你可以设置重复的参数：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>水平间距</p>
</li>
<li>
<p>垂直间距</p>
</li>
<li>
<p>标签递增（标签可以递增或递减 1、2、3，等等）。</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="bus-unfolding">总线展开</h5>
<div class="paragraph">
<p>展开工具允许你快速地从总线上分离出信号。 要展开一个信号，请右击一个总线对象（一个总线导线等），并选择 <strong>从总线上展开</strong>。 或者，当光标在一个总线对象上时，使用 <strong>展开总线</strong> 快捷键（默认：<kbd>C</kbd>）。 该菜单允许你选择要展开的总线成员。</p>
</div>
<div class="paragraph">
<p>在选择总线成员后，下一次点击将把总线成员的标签放在所需的位置。 该工具会自动生成一个总线入口和通向标签位置的导线。 放置完标签后，你可以继续放置额外的线段（例如，连接到一个元件引脚），并以任何正常方式完成布线。</p>
</div>
</div>
<div class="sect4">
<h5 id="bus-aliases">总线别名</h5>
<div class="paragraph">
<p>总线别名是一种快捷方式，可以让你更有效地处理大型组总线。 它们允许你定义一个组总线，并给它一个简短的名称，然后可以在整个原理图中代替完整的组名称。</p>
</div>
<div class="paragraph">
<p>要创建总线别名，请在《原理图设置，原理图设置》中打开 <strong>总线别名定义</strong> 窗格。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/bus_alias_definitions.png" alt="总线别名的定义">
</div>
</div>
<div class="paragraph">
<p>一个别名可以被命名为任何有效的信号名称。 使用该对话框，你可以向别名添加信号或矢量总线。 作为一种快捷方式，你可以输入或粘贴信号和/或总线的列表，用空格隔开，它们将全部被添加到别名定义中。 在这个例子中，我们定义了一个名为 <code>USB</code> 的别名，成员为 <code>DP</code>、<code>DM</code> 和 <code>VBUS</code>。</p>
</div>
<div class="paragraph">
<p>定义别名后，可以在组总线标签中使用，方法是将别名放在分组总线的大括号内：<code>{USB}</code>。 这与给总线贴上`{DP DM VBUS}` 标签的效果相同。 你也可以给分组添加一个前缀名，比如 <code>USB1{USB}</code>，这样就会产生如上面所说的 <code>USB1.DP</code> 这样的网路。 对于复杂的总线，使用别名可以使原理图上的标签短得多。 请记住，别名只是一个快捷方式，别名的名称不包括在网表中。</p>
</div>
<div class="paragraph">
<p>总线别名被保存在创建别名时打开的原理图文件中。在 <strong>总线别名定义</strong> 窗口中，与所选别名相关的原理图文件显示在别名列表的底部。在一个给定的原理图工作表中创建的任何别名都可以在同一层次设计中的任何其他原理图工作表中使用。如果一个层次设计中的多个原理图包含相同名称的总线别名，这些别名必须都有相同的成员。如果多个同名的总线别名没有一致的成员，《ERC 检查列表，ERC 将报告违规情况》。</p>
</div>
</div>
<div class="sect4">
<h5 id="bus-migration">有多个标签的总线</h5>
<div class="paragraph">
<p>KiCad 5.0 和更早的版本允许将具有不同标签的总线连接在一起，并在网表编制时将这些总线的成员连接起来。这种行为在 KiCad 6.0 中被删除了，因为它与分组总线不兼容，而且还会导致网表的混乱，因为一个给定的信号将得到的名称不容易预测。</p>
</div>
<div class="paragraph">
<p>如果您在现代版本的 KiCad 中打开使用此功能的设计，您将看到“迁移总线”对话框，该对话框将指导您更新原理图，以便在任何给定的总线线路上只存在一个标签。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/dialog_migrate_buses.png" alt="总线迁移对话框">
</div>
</div>
<div class="paragraph">
<p>对于具有多个标签的每组总线，您必须选择要保留的标签。 下拉名称框允许您在设计中存在的标签之间进行选择，或者您可以通过手动将其输入新名称字段来选择其他名称。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="hidden-power-pins">2.8.4. 隐藏电源引脚</h4>
<div class="paragraph">
<p>当一个符号的电源引脚是可见的，它们必须被连接，就像其他信号一样。然而，诸如门和触发器等符号有时会画出隐含的电源输入引脚，这些引脚是隐性连接的。</p>
</div>
<div class="paragraph">
<p>KiCad 会自动将类型为 "电源输入" 的隐形引脚连接到与该引脚同名的全局网络。例如，如果一个符号有一个名为 <code>VCC</code> 的隐藏电源输入引脚，这个引脚将被全局连接到所有原理图上的 <code>VCC</code> 网络。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
隐藏的引脚可以在原理图中显示，方法是在 <strong>原理图编辑器</strong> &#8594; 偏好设置的 <strong>显示选项</strong> 部分勾选 <strong>显示隐藏的引脚</strong>，或者选择 <strong>视图</strong> &#8594; <strong>显示隐藏的引脚</strong>。在左边的工具栏上还有一个切换图标 <span class="image"><img src="images/icons/hidden_pin_24.png" alt="hidden pin 24"></span> 。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>可能有必要将不同名称的电源网络连接起来（例如，TTL 元件中的 <code>GND</code> 和 MOS 元件中的 <code>VSS</code>）。为了达到这个目的，为每个网络添加一个 《电源符号,电源符号》，并用一根导线连接它们。</p>
</div>
<div class="paragraph">
<p>如果使用隐藏的电源引脚，不建议使用本地标签进行电源连接，因为它们不会连接到其他片上的隐藏电源引脚。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
对隐藏的电源输入引脚必须小心，因为它们可能会产生无意的连接。从本质上讲，隐藏的引脚是不可见的，不显示其引脚名称。这使得很容易意外地将两个电源引脚连接到同一个网络。由于这个原因，不建议 <strong>在电源符号之外</strong> 使用隐形电源引脚，只支持与传统设计和符号兼容。
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="power-symbols">2.8.5. 电源符号</h4>
<div class="paragraph">
<p>电源符号是传统上用来表示与电源网连接的符号，如`VCC` 或 <code>GND</code>。除了作为连接网络是电源布线的视觉指示外，电源符号还可以进行全局连接：两个具有相同引脚名称的电源符号在原理图中的任何地方都可以相互连接，而不用考虑原理图。</p>
</div>
<div class="paragraph">
<p>在下图中，电源符号用于将电容器的正负极分别连接到 <code>VCC</code> 和 <code>GND</code> 网路上。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/power_ports_example.png" alt="电源符号的示例">
</div>
</div>
<div class="paragraph">
<p>在 KiCad 标准库中，电源符号可以在 <code>power</code> 库中找到，但电源符号可以在任何库中创建。要创建一个自定义的电源符号，请创建一个新的符号，其电源输入引脚被设置为不可见。根据所需的电源网来命名该引脚。此外，设置 "定义为电源符号" 的符号属性。正如《隐藏的电源引脚,隐藏的电源引脚部分》所述，不可见的电源输入引脚根据隐藏的电源引脚的名称进行全局连接。创建电源符号的过程将在《创建电源符号,符号编辑器部分》中详细描述。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
连接的网名是由电源符号的 <strong>引脚名称</strong> 决定的，而不是符号的名称或值。这意味着电源符号的网名只能在符号编辑器中改变，不能在原理图中改变。
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="net-name-assignment-rules">2.8.6. 网络名分配规则</h4>
<div class="paragraph">
<p>原理图中的每个网都被分配了一个名称，无论这个名称是由用户指定还是由 KiCad 自动生成。</p>
</div>
<div class="paragraph">
<p>当多个标签附加到同一个网时，最终的网络名将按以下顺序确定，从最高优先级到最低：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>全局标签</p>
</li>
<li>
<p>《电源符号，电源符号》</p>
</li>
<li>
<p>局部标签</p>
</li>
<li>
<p>层次标签</p>
</li>
<li>
<p>测试原理图页码</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>如果一个网络有多个同一类型的标签，则按字母顺序排序，使用第一个。</p>
</div>
<div class="paragraph">
<p>如果一个网络穿过《层次原理图,层次》的多张原理图，它将从它有层次标签或局部标签的层次结构的最高层取名。通常，局部标签优先于层次标签。</p>
</div>
<div class="paragraph">
<p>如果上面的标签类型都没有附加到网络中，那么网络的名称将根据连接的符号引脚自动生成。</p>
</div>
</div>
<div class="sect3">
<h4 id="pwr-flag">2.8.7. PWR_FLAG</h4>
<div class="paragraph">
<p>在上面的截图中可以看到两个 <code>PWR_FLAG</code> 符号。它们向 ERC 表明，两个电源网络 <code>VCC</code> 和 <code>GND</code> 实际上连接到一个电源上，因为没有明确的电源，如连接到任何一个网络的电压调节器输出。</p>
</div>
<div class="paragraph">
<p>如果没有这两个标志，ERC 工具会诊断出：<em>错误：输入电源引脚没有被任何输出电源引脚驱动。</em></p>
</div>
<div class="paragraph">
<p><code>PWR_FLAG</code> 符号可以在 <code>power</code> 符号库中找到。通过将任何电源输出引脚连接到网络上，可以达到同样的效果。</p>
</div>
</div>
<div class="sect3">
<h4 id="no-connection-symbols">2.8.8. 无连接标志</h4>
<div class="paragraph">
<p>无连接标志（<span class="image"><img src="images/icons/noconn_24.png" alt="无连接图标"></span>）用来表示某个引脚是故意不连接的。 这些标志对原理图的连接性没有任何影响，但它们可以防止对故意不连接的引脚发出 "未连接引脚" 的 ERC 警告。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="schematic-netclasses">2.9. 网络类</h3>
<div class="paragraph">
<p>网络类是可以被分配设计规则（用于 PCB）和图形属性（用于原理图）的网络类。在 KiCad 中，每个网络都是一个网络类的一部分。如果你不把一个网络添加到一个特定的类中，它将是默认类的一部分，它总是存在。</p>
</div>
<div class="paragraph">
<p>网络类可以在原理图或电路板设置对话框中创建和编辑。可以使用下面描述的基于模式的分配将网络添加到原理图或电路板的网络类中。网络也可以用网络类指令或《标签网络类，网络标签》的图形分配到原理图中的网络类。</p>
</div>
<div class="paragraph">
<p>选择一个导线或标签会在窗口底部的信息面板中显示该网络的网络类。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/resolved_netclass.png" alt="所选导线的网络类显示在状态窗格中">
</div>
</div>
<div class="sect3">
<h4 id="schematic-setup-netclasses">2.9.1. 在原理图设置中管理网络类</h4>
<div class="paragraph">
<p>网络类在 <strong>原理图设置</strong> 对话框的 <strong>网络类</strong> 面板中管理。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/schematic-setup-netclasses.png" alt="原理图设置网络类面板">
</div>
</div>
<div class="paragraph">
<p>顶部的窗格列出了设计中存在的网络类。<code>默认</code> 网络类总是存在的，你可以通过 <span class="image"><img src="images/icons/small_plus_16.png" alt="添加网络类图标"></span> 按钮添加额外的网络类，或者通过 <span class="image"><img src="images/icons/small_trash_16.png" alt="删除网络类图标"></span> 按钮删除选定的网络类。</p>
</div>
<div class="paragraph">
<p>每个网络类可以有独特的图形属性，决定该网络类的导线如何在原理图中显示。导线和母线的厚度、颜色和线条风格（实线、虚线、点线等）都可以调整。将颜色设置为透明将使用主题的默认导线/总线颜色，该颜色可在《偏好设置颜色，偏好设置》中配置。</p>
</div>
<div class="paragraph">
<p>You can also set board design rules for each netclass, although the DRC fields are hidden by default. Right click the header row to show or hide additional columns. For more information about setting netclass design rules, see the <a href="../pcbnew/pcbnew.html#board-setup-net-classes">PCB editor documentation</a>.</p>
</div>
<div class="paragraph">
<p>底部窗格列出基于模式的网络类分配。每一行都有一个网名模式和一个网络类；名称与模式匹配的网络被分配到指定的网络类。如果一个网络匹配多个模式，则使用第一个匹配的网络。基于模式的网络类分配是动态的：当一个新的网络被添加到与现有模式匹配时，它将被自动分配到相关的网络类。网络模式可以使用正则表达式和通配符（<code>\*</code> 匹配任何数量的任何字符，包括没有，<code>?</code> 匹配任何字符的 0 或 1）。匹配所选模式的网络会显示在模式列表的右边。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
记住，网络名必须包括完整的工作表路径。例如，一个 在根原理图中的本地标记的网有一个以 <code>/</code> 为前缀的名称。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>使用 <span class="image"><img src="images/icons/small_plus_16.png" alt="添加网络类图标"></span> 按钮来添加网络类分配模式，或 <span class="image"><img src="images/icons/small_trash_16.png" alt="删除网络类图标"></span> 按钮来删除模式。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
只有命名的网可以被分配给带有模式的网络类。要把网络类分配给一个未命名的网络，使用《网络类指令，网络类指令》。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>您可以从原理图画布上直接创建网络类图案，而不是在原理图设置对话框中添加网络类图案。右击一个网络，选择<strong>分配网络类&#8230;&#8203;</strong>，就会出现<strong>添加网络类分配</strong>对话框。网络类模式会预先填上所选网络的名称，但如果需要，也可以改变模式。所有符合该模式的网都显示在对话框中。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/schematic_assign_netclass.png" alt="从原理图中指定一个网络类">
</div>
</div>
</div>
<div class="sect3">
<h4 id="netclass-directive">2.9.2. 在原理图中以图形方式分配网络类</h4>
<div class="paragraph">
<p>作为基于模式的网络类分配的替代方法，网络类可以用 <strong>网络类指令</strong> 或 <strong>标签</strong> 以图形方式分配给原理图中的网络。网络类必须在《原理图设置网络类，原理图设置》中创建，然后才能以图形方式分配。</p>
</div>
<div class="paragraph">
<p>在下面的图片中，一个网络类指令被用来给 <code>50R</code> 网络类分配信号。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netclass_directive_bus.png" alt="一个连接到总线的网络类指令">
</div>
</div>
<div class="paragraph">
<p>网络类指令是通过右边工具栏的 <span class="image"><img src="images/icons/add_class_flag_24.png" alt="网络类指令图标"></span> 按钮添加的。它们的行为类似于《标签，标签》，除了它们不能被用来命名一个网络。根据指令的 <code>网络类</code> 字段的值，附加的网络被分配了一个网络类。`网络类`字段提供了一个设计中所有网络类的下拉列表。</p>
</div>
<div class="paragraph">
<p>如果一个指令被附加到一个总线上，总线上的所有成员都被分配到指定的网络类。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/netclass_directive_properties.png" alt="网络类指令窗口">
</div>
</div>
<div class="paragraph">
<p>除了相关的网络类，你还可以在指令的属性中编辑指令的<strong>形状</strong>（点、圆、钻石或矩形）、<strong>方向</strong>、<strong>引脚长度</strong> 和 <strong>颜色</strong>。</p>
</div>
<div class="paragraph">
<p>《标签网络类，网络标签也可以用来给网络分配网络类》，方法是在标签中添加一个 <code>网络类</code> 字段。</p>
</div>
<div class="paragraph">
<p>如果超过一个不同的网络类被图形化地分配给一个网络，《ERC 检查清单，ERC 将报告一个问题》。图形化的网络类分配优先于基于模式的分配：如果一个网络与网络类模式分配相匹配，并且也有一个图形化的网络类分配，那么将使用图形化的网络类分配。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_图形项目">2.10. 图形项目</h3>
<div class="paragraph">
<p>文字、图形和图像可以被添加到原理图中，用于记录。这些项目对原理图没有任何电气影响。</p>
</div>
<div class="paragraph">
<p>下面的图片除了符号和几种类型的标签外，还显示了图形线和文字（"COMMUNICATION DSP"）。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/frame_example.png" alt="带注释的框架示例">
</div>
</div>
<div class="sect3">
<h4 id="text-comments">2.10.1. 文本和文本框</h4>
<div class="paragraph">
<p>有两种文本可以被添加到原理图中，它们被称为文本（<span class="image"><img src="images/icons/text_24.png" alt="添加文本图标"></span>）和文本框（<span class="image"><img src="images/icons/add_textbox_24.png" alt="添加文本框图标"></span>）。两者都是使用右侧工具栏中各自的按钮添加的。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/text_and_textbox.png" alt="原理图文本和文本框示例">
</div>
</div>
<div class="paragraph">
<p>这两种文本项目都支持多行文本和基本的格式化功能，但文本框将文本包起来以适应大纲，并有额外的格式化选项。所有的文本都有可调整的字体、颜色、大小、黑体和斜体强调，左右对齐，以及垂直和水平方向。文本框还支持水平居中，垂直对齐选项，以及彩色边框和填充。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The default text size can be set for a schematic in
      <a href="#schematic-setup-formatting">Schematic Setup</a>, and the default font can
      be set in <a href="#preferences-schematic-display-options">Preferences</a>.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/text_box_properties.png" alt="文本框属性对话框">
</div>
</div>
<div class="sect4">
<h5 id="_链接">链接</h5>
<div class="paragraph">
<p>文本和文本框可以通过在文本属性的 <strong>链接</strong> 框中输入一个目标而成为一个链接。链接目标可以是一个本地文件（使用 <code>file://</code> 协议前缀，后跟文件路径），到一个网站（使用 <code>http://</code> 或 <code>https://</code>，后跟其余的 URL），或到同一图示中的另一个页面（使用 <code>#</code> 后跟页码）。这些也可以使用链接目标框中的下拉菜单自动填写。</p>
</div>
</div>
<div class="sect4">
<h5 id="fonts">字体</h5>
<div class="paragraph">
<p>文本和文本框支持自定义字体，可通过文本的属性对话框中的 <strong>字体</strong> 下拉选择。除了 KiCad 字体外，你还可以使用安装在你电脑上的任何 TTF 字体。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
用户字体不会被嵌入工程中。如果该工程在另一台没有安装所选字体的计算机上打开，将会有不同的字体被替换。为了获得最大的兼容性，请使用 KiCad 字体。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="text-markup">文本标记</h5>
<div class="paragraph">
<p>Text supports markup for superscripts, subscripts, overbars, evaluating project variables, and accessing symbol field values.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 27.2727%;">
<col style="width: 36.3636%;">
<col style="width: 36.3637%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Feature</th>
<th class="tableblock halign-left valign-top">Markup Syntax</th>
<th class="tableblock halign-left valign-top">Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Superscript</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>text^{superscript}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">text<sup>superscript</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscript</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>text_{subscript}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">text<sub>subscript</sub></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Overbar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~{text}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="overline">text</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#schematic-setup-text-variables">Variables</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${variable}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>variable_value</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#text-variables">Symbol Fields</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${refdes:field}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>field_value</em> of symbol <em>refdes</em></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Variables must be defined in
      <a href="#schematic-setup-text-variables">Schematic Setup</a> before they can be
      used. There are also a number of
      <a href="#text-variables">built-in system text variables</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="graphic-lines">2.10.2. 图形形状</h4>
<div class="paragraph">
<p>图形矩形（<span class="image"><img src="images/icons/add_rectangle_24.png" alt="添加矩形图标"></span>）、圆形（<span class="image"><img src="images/icons/add_circle_24.png" alt="添加圆形图标"></span>）、弧形（<span class="image"><img src="images/icons/add_arc_24.png" alt="添加弧形图标"></span>）和直线（<span class="image"><img src="images/icons/add_dashed_line_24.png" alt="添加直线图标"></span>）都可以使用右侧工具栏中各自的按钮添加。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/graphic_shapes.png" alt="原理图中的图形矩形、圆形、圆弧和直线">
</div>
</div>
<div class="paragraph">
<p>线条的宽度、颜色和样式（实线、虚线或点线）可以在每个形状（<kbd>E</kbd>）的属性对话框中进行配置。矩形、圆形和弧线也可以设置填充颜色并去除其轮廓。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/graphic_rectangle_properties.png" alt="图形矩形属性对话框">
</div>
</div>
<div class="paragraph">
<p>Setting a shape&#8217;s line width to 0 uses the schematic default line width, which is configurable in <a href="#schematic-setup-formatting">Schematic Setup</a>. Spacing for line dashes is also configurable there. Removing a line or fill color uses the color theme&#8217;s graphics color, which is configurable in <a href="#preferences-colors">Preferences</a>.</p>
</div>
<div class="paragraph">
<p>像《画和编辑导线，导线》一样，图形线服从线的绘制模式设置（90 度，45 度，或自由角度），你可以用左边工具栏上的切换按钮来设置（<span class="image"><img src="images/icons/lines90_24.%20png" alt="90 度线图标"></span>，<span class="image"><img src="images/icons/hv45mode_24.png" alt="45 度线图标"></span>，和 <span class="image"><img src="images/icons/lines_any_24.png" alt="自由角度线图标"></span>，分别）。 <span class="keyseq"><kbd>Shift</kbd>+<kbd>Space</kbd></span> 循环浏览这些模式。</p>
</div>
<div class="paragraph">
<p><a href="../pcbnew/pcbnew.html#track-posture">As with PCB tracks</a>, the <kbd>/</kbd> hotkey switches line posture.</p>
</div>
</div>
<div class="sect3">
<h4 id="_位图图像">2.10.3. 位图图像</h4>
<div class="paragraph">
<p>位图图像可以通过 <span class="image"><img src="images/icons/image_24.png" alt="添加位图图像图标"></span> 按钮添加到原理图中。原理图中的图像可以被移动和缩放。属性对话框允许设置位置和比例，以及将图像转换为灰度。</p>
</div>
</div>
<div class="sect3">
<h4 id="eeschema-edit-text-and-graphics-properties">2.10.4. 批量编辑文本和图形</h4>
<div class="paragraph">
<p>文本和图形的属性可以通过 <strong>编辑文本和图形属性</strong> 对话框（<strong>工具</strong> &#8594; <strong>编辑文本和图形属性&#8230;&#8203;</strong>）进行批量编辑。该工具还可以修改导线和总线的视觉属性。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_edit_text_and_graphics_properties.png" alt="eeschema edit text and graphics properties">
</div>
</div>
<div class="sect4">
<h5 id="_范围和筛选器">范围和筛选器</h5>
<div class="paragraph">
<p><strong>范围</strong> 设置限制了该工具只能编辑某些类型的对象。如果没有选择范围，就不会有任何东西被编辑。</p>
</div>
<div class="paragraph">
<p><strong>筛选器</strong> 限制该工具在选定的范围内编辑特定的对象。对象只有在符合所有启用的相关筛选器时才会被修改（有些筛选器不适用于某些类型的对象。例如，符号字段筛选器不适用于导线，在改变导线属性时被忽略）。如果没有启用筛选器，所选范围内的所有对象都将被修改。对于带有文本框的过滤器，支持通配符。<code>\*</code> 匹配任何字符，`?`匹配任何单个字符。</p>
</div>
<div class="paragraph">
<p><strong>按名称过滤字段</strong> 过滤到指定的符号、标签或页面字段。</p>
</div>
<div class="paragraph">
<p><strong>按父级位号筛选项目</strong> 过滤到具有指定位号的符号中的字段。<strong>通过父级符号库 ID</strong> 筛选到具有指定库位号的符号中的字段。*通过父级符号类型*筛选到选定类型（电源或非电源）的符号中的字段。</p>
</div>
<div class="paragraph">
<p><strong>通过网络筛选项目</strong> 筛选到指定网络上的导线和标签。</p>
</div>
<div class="paragraph">
<p><strong>只包括选定的项目</strong> 筛选器到当前选择。</p>
</div>
</div>
<div class="sect4">
<h5 id="_可编辑的属性">可编辑的属性</h5>
<div class="paragraph">
<p>被筛选对象的属性可以在对话框的底部设置为新值。</p>
</div>
<div class="paragraph">
<p>下拉列表和文本框可以被设置为 <code>--保持不变--</code> 以保留现有值。复选框可以被选中或不被选中来启用或禁用一个变化，但也可以切换到第三个 "保持不变" 的状态。颜色属性必须被选中以改变值；棋盘式的色块表示颜色将从原理图设置或网络类属性的默认值中继承下来。</p>
</div>
<div class="paragraph">
<p>可以修改的文本属性有 <strong>字体</strong>、<strong>文本大小</strong>、<strong>文本方向</strong>（右/上/左/下）、<strong>水平</strong> 和 <strong>垂直对齐</strong>、<strong>文本颜色</strong>、强调（<strong>粗体*和*大写</strong>）以及字段和字段名的 <strong>可见度</strong>。</p>
</div>
<div class="paragraph">
<p>可以修改的图形和导线属性有：<strong>线宽</strong>、<strong>线样式</strong>（实线、虚线和点线）、<strong>线颜色</strong>、图形的 <strong>填充颜色</strong>，以及导线结点的 <strong>结点尺寸</strong> 和 <strong>结点颜色</strong>。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="sheet-title-block">2.10.5. 原理图标题块</h4>
<div class="paragraph">
<p>标题块是用页面设置工具（<span class="image"><img src="images/icons/sheetset_24.png" alt="页面设置工具"></span>）编辑的。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/page_settings.png" alt="页面设置对话框">
</div>
</div>
<div class="paragraph">
<p>Each field in the title block can be edited, as well as the paper size and orientation. If the <strong>Export to other sheets</strong> option is checked for a field, that field will be updated in the title block of all sheets, rather than only the current sheet.</p>
</div>
<div class="paragraph">
<p>You can set the date to today&#8217;s or any other date by pressing the left arrow button next to <strong>Issue Date</strong>. Note that the date in the schematic will not be automatically updated.</p>
</div>
<div class="paragraph">
<p>也可以选择一个原理图模板文件。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/title_block.png" alt="标题栏">
</div>
</div>
<div class="paragraph">
<p>原理图编号（X/Y纸）会自动更新，但原理图页码也可以用 <strong>编辑</strong> &#8594; <strong>编辑原理图页码&#8230;&#8203;</strong> 手动设置。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="schematic-setup">2.11. 原理图设置</h3>
<div class="paragraph">
<p>原理图设置窗口用于设置特定于当前活动原理图的原理图选项。例如，原理图设置窗口包含格式化选项、电气规则配置、网络类设置和原理图文本变量设置。</p>
</div>
<div class="paragraph">
<p>You can import schematic settings from an existing project using the <strong>Import Settings from Another Project&#8230;&#8203;</strong> button. This allows you to choose a project to use as a template and select which settings to import (formatting preferences, field name templates, pin conflict map, violation severities, and net classes).</p>
</div>
<div class="sect3">
<h4 id="schematic-setup-formatting">2.11.1. Schematic formatting</h4>
<div class="imageblock">
<div class="content">
<img src="images/schematic_setup_formatting.png" alt="Schematic setup formatting">
</div>
</div>
<div class="paragraph">
<p>The formatting panel contains settings for the appearance of symbols, text, labels, graphics, and wires.</p>
</div>
<div class="paragraph">
<p><strong>Symbol unit notation</strong> sets how each unit of a multi-unit symbol is referred to
in its reference designator. By default, a different letter for each unit is
appended to the reference designator with no separator, for example <code>U1B</code> for
the second unit of symbol <code>U1</code>, but this can be changed. Numbers can be used
instead of letters, and various separators can be used between the symbol
designator and the unit identifier (<code>.</code>, <code>-</code>, <code>_</code>, or none).</p>
</div>
<div class="paragraph">
<p><strong>Default text size</strong> sets the default text height used by the text, text box, and
label tools. <strong>Label offset ratio</strong> controls the vertical spacing between a local
label&#8217;s text and the attached wire, relative to the label&#8217;s text size. This also
affects the spacing between symbol pins and their pin number.
<strong>Global label margin</strong> defines the size of the box around a global label,
relative to the global label&#8217;s text size. Increasing the margin may be useful
to avoid overlapping text with overbars (<code>~{}</code>) or letters with descenders, but
this may cause closely packed global labels to overlap with each other.</p>
</div>
<div class="paragraph">
<p><strong>Default line width</strong> sets the default line width for symbol graphics, if the
symbol does not override the default line width. <strong>Pin symbol size</strong> scales symbol
pin graphic style annotations, such as the bubble on an inverted pin.</p>
</div>
<div class="paragraph">
<p><strong>Junction dot size</strong> sets the schematic&#8217;s default wire junction dot size. The
default size can be overridden by editing an individual junction dot&#8217;s
properties.</p>
</div>
<div class="paragraph">
<p><strong>Show inter-sheet references</strong> enables or disables the display of
<a href="#intersheet-references">inter-sheet references</a>, which are a list of page
numbers next to a global labels that link to other places in the schematic where
the same global label appears. <strong>Show own page reference</strong> controls whether the
current page is included in the list of page numbers. <strong>Standard</strong> and
<strong>abbreviated</strong> determine whether to display the complete list of page numbers or
only the first and last page numbers. The <strong>prefix</strong> and <strong>suffix</strong> fields add
optional characters before and after the list of page numbers. In the image
of an inter-sheet reference below, a prefix and suffix of <code>[</code> and <code>]</code>,
respectively, have been added.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/inter-sheet-refs.png" alt="全局标签与表间参考">
</div>
</div>
<div class="paragraph">
<p>Dashed line appearance is controlled in the Formatting section. <strong>Dash length</strong> controls the length of dashes, while <strong>Gap length</strong> controls the spacing between dashes and dots. The dash and gap lengths are relative to the line width: a gap length of <code>2</code> means twice the width of the line.</p>
</div>
</div>
<div class="sect3">
<h4 id="_field_name_templates">2.11.2. Field name templates</h4>
<div class="imageblock">
<div class="content">
<img src="images/schematic_setup_field_name_templates.png" alt="Schematic setup field name templates">
</div>
</div>
<div class="paragraph">
<p>Field name templates are empty symbol fields that are automatically added to all symbols in the schematic. These can be useful when every symbol in the schematic needs additional fields beyond the fields that are defined in the library symbols, for example a field for the manufacturer&#8217;s part number.</p>
</div>
<div class="paragraph">
<p>Template fields can be set as visible or invisible, and can also be set as URL fields.</p>
</div>
<div class="paragraph">
<p>Field name templates that are defined in schematic setup apply only to the current project. Field name templates can also be defined in <a href="#preferences-field-name-templates">Preferences</a>, which apply to all projects edited on your computer.</p>
</div>
</div>
<div class="sect3">
<h4 id="_erc_violation_severity_and_pin_conflicts_map">2.11.3. ERC violation severity and pin conflicts map</h4>
<div class="paragraph">
<p>The <strong>Violation Severity</strong> panel lets you configure what types of ERC messages should be reported as Errors, Warnings, or ignored.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_erc_severity.png" alt="原理图 ERC 严重程度设置">
</div>
</div>
<div class="paragraph">
<p>The <strong>Pin Conflicts Map</strong> allows you to configure connectivity rules to define electrical conditions for errors and warnings based on what types of pins are connected to each other. For example, by default an error is produced when an output pin is connected to another output pin.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_erc_options.png" alt="原理图 ERC 引脚冲突图">
</div>
</div>
<div class="paragraph">
<p>These panels are explained in more detail in the <a href="#erc-configuration">ERC section</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_net_classes">2.11.4. Net classes</h4>
<div class="imageblock">
<div class="content">
<img src="images/schematic-setup-netclasses.png" alt="原理图设置网络类面板">
</div>
</div>
<div class="paragraph">
<p>The <strong>Net Classes</strong> panel allows you to manage netclasses for the project and assign nets to netclasses with patterns. Managing netclasses in this panel is equivalent to managing them in the <a href="../pcbnew/pcbnew.html#board-setup-net-classes">Board Setup dialog</a>. Nets can also be assigned to netclasses in the schematic using graphical assignments with <a href="#netclass-directive">net class directives</a> or <a href="#label-netclass">net labels</a>.</p>
</div>
<div class="paragraph">
<p>Pattern-based netclass assigment is explained in more detail in the <a href="#schematic-setup-netclasses">net classes section</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_bus_alias_definitions">2.11.5. Bus alias definitions</h4>
<div class="imageblock">
<div class="content">
<img src="images/bus_alias_definitions.png" alt="总线别名的定义">
</div>
</div>
<div class="paragraph">
<p>The <strong>Bus Alias Definitions</strong> panel allows you to create bus aliases, which are names for groups of signals in a bus. For more information about bus aliases, see the <a href="#bus-aliases">bus alias documentation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="schematic-setup-text-variables">2.11.6. 文本变量</h4>
<div class="imageblock">
<div class="content">
<img src="images/schematic_setup_text_variables.png" alt="Schematic setup text variables">
</div>
</div>
<div class="paragraph">
<p>Text replacement variables can be created in the Text Variables section. These variables allow you to substitute the variable name for any text string. This substitution happens anywhere the variable name is used inside the variable replacement syntax of <code>${VARIABLENAME}</code>.</p>
</div>
<div class="paragraph">
<p>For example, you could create a variable named <code>VERSION</code> and set the text substitution to <code>1.0</code>. Now, in any text object on the PCB, you can enter <code>${VERSION}</code> and KiCad will substitute <code>1.0</code>. If you change the substitution to <code>2.0</code>, every text object that includes <code>${VERSION}</code> will be updated automatically. You can also mix regular text and variables. For example, you can create a text object with the text <code>Version: ${VERSION}</code> which will be substituted as <code>Version: 1.0</code>.</p>
</div>
<div class="paragraph">
<p>Text variables can also be created in <a href="../pcbnew/pcbnew.html#board-setup-text-variables">Board Setup</a>. Text variables are project-wide; variables created in the schematic editor are also available in the board editor, and vice versa.</p>
</div>
<div class="paragraph">
<p>There are also a number of <a href="#text-variables">built-in system text variables</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rescuing-cached-components">2.12. 恢复缓存的符号</h3>
<div class="paragraph">
<p>默认情况下，KiCad 根据设定的路径和库的顺序从工程库中加载符号。当加载一个非常老的工程时，这可能会导致一个问题：如果库中的符号已经改变或被删除，或者库在工程中使用后不再存在，工程中的符号将被自动替换为新的版本。新的版本可能无法正确加载，或者方向不同，导致原理图被破坏。</p>
</div>
<div class="paragraph">
<p>当一个工程被保存时，一个包含当前库符号内容的缓存库会和原理图一起保存。这使得工程可以在没有完整库的情况下发布。如果你加载一个缓存库和系统库中都有符号的工程，KiCad 将扫描库中的冲突。任何发现的冲突将在以下对话框中列出：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/rescue-conflicts.png" alt="恢复冲突对话框">
</div>
</div>
<div class="paragraph">
<p>在这个例子中你可以看到，该项目最初使用的是一个阴极朝上的二极管，但现在库中有一个阴极朝下的二极管。这种改变会破坏原理图 按这里的 "确定" 会导致符号缓存库被保存到一个特殊的 "恢复" 库中，所有的符号都被重新命名以避免命名冲突。</p>
</div>
<div class="paragraph">
<p>如果你按下 "取消" 键，将不会进行任何拯救，因此 KiCad 将默认加载所有的新元件。如果您在这时保存原理图，您的缓存将被覆盖，旧的符号将无法恢复。 如果你已经保存了原理图，你仍然可以回去再次运行拯救功能，在 "工具" 菜单中选择 "恢复缓存元件"，再次调出恢复对话框。</p>
</div>
<div class="paragraph">
<p>如果你不希望看到这个对话框，你可以按 "不再显示"。默认情况是什么都不做，让新的元件被加载。这个选项可以在 "库" 偏好设置中改回来。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hierarchical-schematics">3. 层次原理图</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_简介_2">3.1. 简介</h3>
<div class="paragraph">
<p>在 KiCad 中，多张原理图是层次的：有一个单一的根图，其他图作为根原理图或另一个子原理图的子原理图被创建。如果需要的话，原理图可以被多次包含在一个层次结构中。</p>
</div>
<div class="paragraph">
<p>仔细地将原理图绘制成层次设计，可以提高原理图的可读性，减少重复绘制。</p>
</div>
<div class="paragraph">
<p>创建层次原理图是从根原理图开始的。其过程是创建一个子原理图，然后在子原理图中绘制电路，并在原理图之间进行必要的电气连接。可以使用层次页码和标签在子表和父表的网之间建立连接，也可以使用全局标签在层次中的任何两个网之间建立连接。</p>
</div>
</div>
<div class="sect2">
<h3 id="_在设计中添加图框">3.2. 在设计中添加图框</h3>
<div class="paragraph">
<p>你可以用 "添加层次原理图" 工具（<kbd>S</kbd> 快捷键，或右边工具栏上的 <span class="image"><img src="images/icons/add_hierarchical_subsheet_24.png" alt="添加层次原理图图标"></span>按钮）在设计中添加一个分表。启动该工具，然后在画布上点击两次，绘制子原理图符号的左上角和右下角。使原理图的轮廓足够大，以适应《层次工作表针，层次页码你将在后面添加》。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/draw_hierarchical_sheet.png" alt="绘制层次原理图">
</div>
</div>
<div class="paragraph">
<p>原理图属性对话框将出现，并提示你输入原理图名称和文件名。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hierarchical_sheet_properties.png" alt="层次原理图属性">
</div>
</div>
<div class="paragraph">
<p><strong>原理图名称</strong> 必须是唯一的，因为它被用于子原理图中任何网络的全局网络名称中。例如，在原理图 <code>sheet1</code> 中具有局部标签 <code>net1</code> 的网络将具有 <code>/sheet1/net1</code> 的全局网络名称。原理图名称也被用来在图形用户界面的不同地方指代原理图，包括《原理图标题块》和《原理图之间的导航，层次导航器》。</p>
</div>
<div class="paragraph">
<p>The <strong>sheet file</strong> specifies the file that the new sheet will be saved to or loaded from. The path to the sheet file can be relative or absolute. It is usually preferable to save subsheet files in the project directory and use a relative path so that the project is portable.</p>
</div>
<div class="paragraph">
<p>通过为每个重复的原理图指定相同的文件名，一个原理图文件可以在一个工程中使用多次；原理图中绘制的电路将在每次使用时被实例化一次，一次实例中的任何编辑都将反映在其他实例中。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
原理图文件可以在多个工程之间共享，以允许在工程之间重复使用设计。然而，由于对路径可移植性的关联和在编辑共享原理图时无意中改变其他工程的风险，不建议这样做。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>原理图的 <strong>页数</strong> 在这里是可以配置的。页码显示在原理图《原理图标题块，标题块》和《在原理图之间导航器，层次导航器》中，原理图在层次导航器和《生成输出，打印或绘制》中按页码排序。</p>
</div>
<div class="paragraph">
<p>也有几个图形选项可用。<strong>边界宽度</strong> 设置工作表形状周围的边界宽度。<strong>边界颜色</strong> 和 <strong>背景填充</strong> 分别设置工作表形状的边界和填充的颜色。如果没有设置颜色，就会显示一个棋盘式的色块，并使用颜色主题的默认值。</p>
</div>
<div class="paragraph">
<p>Sheets support arbitrary custom fields, which can be added and removed with the <span class="image"><img src="images/icons/small_plus_16.png" alt="plus icon"></span> and <span class="image"><img src="images/icons/small_trash_16.png" alt="trash icon"></span> buttons, respectively. Sheet fields can be optionally displayed on the schematic by checking their <strong>Show</strong> box, and they can be accessed from inside the sheet or in other sheet fields using <a href="#text-variables">text variables</a>.</p>
</div>
<div class="paragraph">
<p>通过选择一个工作表符号并使用 <kbd>E</kbd> 快捷键，或者通过右键单击工作表符号并选择 <strong>属性&#8230;&#8203;</strong>，可以随时访问工作表属性对话框。</p>
</div>
</div>
<div class="sect2">
<h3 id="navigating-between-sheets">3.3. 原理图之间导航器</h3>
<div class="paragraph">
<p>你可以通过双击子原理图的形状，或右击子原理图并选择 <strong>进入原理图，从父原理图进入一个分层原理图</strong>。</p>
</div>
<div class="paragraph">
<p>通过使用顶部工具栏中的 <span class="image"><img src="images/icons/up_24.png" alt="向上箭头图标"></span> 按钮，或者在原理图的空白部分点击右键，然后点击 <strong>离开原理图</strong>，返回到父原理图。</p>
</div>
<div class="paragraph">
<p>你可以用 <span class="image"><img src="images/icons/right_24.png" alt="右箭头图标"></span> 按钮跳到下一个原理图，或者用 <span class="image"><img src="images/icons/left_24.png" alt="左箭头图标"></span> 按钮跳到上一个原理图。</p>
</div>
<div class="paragraph">
<p>另外，你也可以通过层次结构导航器跳到任何原理图。要打开层次结构导航器，请点击左边工具栏上的 <span class="image"><img src="images/icons/hierarchy_nav_24.png" alt="层次结构导航器图标"></span> 按钮。层次结构导航器会停靠在屏幕的左边。设计中的每个原理图都显示为工作区中的一个工程。点击一个原理图的名字就可以在编辑画布上打开该原理图。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hierarchy_navigator_pane.png" alt="层次结构导航器">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_原理图之间的电气连接">3.4. 原理图之间的电气连接</h3>
<div class="sect3">
<h4 id="_标签概述">3.4.1. 标签概述</h4>
<div class="paragraph">
<p>原理图之间的电气连接是通过《标签，标签》进行的。在 KiCad 中，有几种标签，每种都有不同的连接范围。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>局部标签</strong> 只在一个原理图内进行连接。因此，局部 标签不能用于原理图之间的连接。局部标签的添加方法是 <span class="image"><img src="images/icons/add_label_24.png" alt="局部标签图标"></span> 按钮添加。</p>
</li>
<li>
<p><strong>全局标签</strong> 可以在原理图的任何地方进行连接，而不考虑原理图。 全局标签可以通过以下方式添加 <span class="image"><img src="images/icons/add_glabel_24.png" alt="全局标签图标"></span> 按钮。</p>
</li>
<li>
<p><strong>层次化标签</strong> 连接到 <strong>层次化原理图页码</strong>，可在父原理图中访问。父级原理图。分层设计依靠分层标签和页码来实现父原理图和子原理图之间的连接。在父原理图和子原理图之间建立联系；你可以把分层的页码看成是定义父原理图的接口。你可以把分层的页码看作是定义原理图的接口。分层标签是用 <span class="image"><img src="images/icons/add_hierarchical_label_24.png" alt="分层标签图标"></span> 按钮。</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
具有相同名称的标签将被连接，无论标签类型如何。如果它们在同一张原理图上。
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
《隐藏电源引脚，隐藏电源引脚》也可以被认为是全局标签，因为它们连接到原理图层次结构中的任何地方。
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="hierarchical-sheet-pins">3.4.2. 测试原理图页码</h4>
<div class="paragraph">
<p>在子原理图内放置分层标签后，可以在父原理图内的子原理图符号上添加匹配的 <strong>分层引脚</strong>。然后，你可以用导线、标签和总线与分层引脚进行连接。子原理图符号中的分层引脚与子原理图本身的匹配分层标签相连。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
在原理图符号中导入相应的分层原理图页码之前，必须先在子原理图中定义分层标签。在原理图符号中导入相应的分层原理图页码之前，必须先在子原理图中定义分层标签。
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hierarchical_sheet_pins.png" alt="带页码的层次原理图符号">
</div>
</div>
<div class="paragraph">
<p>对于子原理图中的每一个分层标签，通过点击右侧工具栏中的 <span class="image"><img src="images/icons/import_hierarchical_label_24.png" alt="导入分层标签图标"></span> 按钮，然后点击原理图符号，将相应的分层标签导入原理图符号中。第一个不匹配的分层标签的原理图页码将附在光标上，它可以放在原理图符号边界的任何地方。再次点击该工具将继续导入更多的原理图页码，直到没有更多的分层标签需要从子原理图中导入。原理图页码也可以通过在原理图符号的右键菜单中选择 <strong>导入原理图页码</strong> 来导入。</p>
</div>
<div class="paragraph">
<p>你可以在原理图页码属性对话框中编辑原理图页码的属性。 通过双击原理图页码，选择原理图页码并使用 <kbd>E</kbd> 热键，或者右击原理图页码并选择 <strong>属性&#8230;&#8203;</strong> 来打开这个对话框。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sheet_pin_properties.png" alt="原理图页码属性对话框">
</div>
</div>
<div class="paragraph">
<p>原理图页码的 <strong>名称</strong> 可以在文本框中编辑，也可以从子原理图的分级标签的下拉列表中选择。原理图页码的名称必须与子原理图中相应的层次标签相匹配，所以如果页码的名称被改变，标签也必须改变。</p>
</div>
<div class="paragraph">
<p><strong>Shape</strong> changes the shape of the sheet pin, and has no electrical
effect. It can be set to Input, Output, Bidirectional, Tri-state, or Passive.
The pin&#8217;s <strong>font</strong>, <strong>text size</strong>, <strong>color</strong>, and emphasis (bold or italic) can also
be changed.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_层次设计实例">3.5. 层次设计实例</h3>
<div class="paragraph">
<p>层次设计可以被归入几个类别中的一个：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>简单：</strong> 每张原理图只使用一次。</p>
</li>
<li>
<p><strong>复杂：</strong> 一些原理图被多次使用。</p>
</li>
<li>
<p><strong>扁平化：</strong> <strong>简单的</strong> 层次结构的一个子案例，在子原理图和其父原理图之间没有连接。扁平的层次结构可以用来表示一种 非层次结构设计。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>每种层次结构模型都可能是有用的；最合适的模型取决于设计。</p>
</div>
<div class="sect3">
<h4 id="_简单的层次结构">3.5.1. 简单的层次结构</h4>
<div class="paragraph">
<p>一个简单的层次结构的例子是 KiCad 包含的 <code>video</code> 演示工程。根原理图包含七个独特的子原理图，每个子原理图都有分层的标签和原理图页码，将原理图与根原理图相互连接。下面是其中两个子原理图的符号。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_simple_hierarchy.png" alt="这是 video 演示工程的简单层次结构">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_复杂的层次结构">3.5.2. 复杂的层次结构</h4>
<div class="paragraph">
<p><code>复杂的层次结构</code> 演示工程是一个复杂层次结构的例子。 根原理图包含两个子原理图符号，它们都指向同一个原理图文件（<code>ampli_ht.kicad_sch</code>）。这使得设计中包含了同一个放大器电路的两个副本。尽管这两个原理图符号指向同一个文件名，但原理图的名称是唯一的（<code>ampli_ht_vertical</code> 和 <code>ampli_ht_horizontal</code>）。在每个子原理图内，除了位号外，其他的电路都是相同的，而位号也是唯一的。</p>
</div>
<div class="paragraph">
<p>这个工程不包含原理图的引脚连接。根原理图和子原理图之间的唯一连接是用《电源符号，电源符号》进行的全局电源连接。然而，如果适合设计，复杂层次结构中的原理图可以包括原理图页码的连接。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_complex_hierarchy.png" alt="Complex_hierarchy 演示工程中的复杂层次结构">
</div>
</div>
</div>
<div class="sect3">
<h4 id="flat-hierarchy">3.5.3. 扁平化层次结构</h4>
<div class="paragraph">
<p><code>flat_hierarchy</code> 演示工程是一个扁平化层次结构的例子。根原理图包含两个唯一的子原理图符号，没有分层的原理图页码。在这个工程中，根原理图除了容纳子原理图外没有任何作用，子原理图只是作为原理图中的附加页使用。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
这是在 KiCad 中创建多页原理图的最简单方法。
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_flat_hierarchy.png" alt="这是 flat_hierarchy 演示工程的扁平化层次结构">
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="inspecting-a-schematic">4. 检查原理图</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_筛选工具">4.1. 筛选工具</h3>
<div class="paragraph">
<p>筛选工具在原理图中搜索文本，包括位号、引脚名称、符号字段和图形文本。当该工具找到一个匹配的文本时，画布会被放大并居中显示该匹配的文本。使用顶部工具栏上的 <span class="image"><img src="images/icons/find_24.png" alt="查找图标"></span> 按钮启动该工具。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/find_dialog.png" alt="筛选对话框">
</div>
</div>
<div class="paragraph">
<p>筛选工具有几个选项：</p>
</div>
<div class="paragraph">
<p><strong>匹配大小写：</strong> 选择搜索是否对大小写敏感。</p>
</div>
<div class="paragraph">
<p><strong>关键词：</strong> 选择后，搜索将只与原理图中完整的搜索词相匹配。当未选择时，如果搜索词是原理图中一个较大的关键词的一部分，搜索将匹配。</p>
</div>
<div class="paragraph">
<p><strong>通配符:</strong> 当选择时，通配符可以在搜索词中使用。<code>?</code> 匹配任何单个字符，而 <code>*</code> 则匹配任何数量的字符。请注意，当选择这个选项时，不会返回部分匹配：搜索 <code>abc*</code> 将匹配字符串 <code>abcd</code>，但搜索 <code>abc</code> 不会。</p>
</div>
<div class="paragraph">
<p><strong>搜索引脚名称和编号：</strong> 选择搜索是否应适用于引脚名称和编号。</p>
</div>
<div class="paragraph">
<p><strong>搜索隐藏字段：</strong> 选择搜索是否只适用于可见字段，或是否应包括隐藏的符号字段。</p>
</div>
<div class="paragraph">
<p><strong>只搜索当前原理图：</strong> 选择搜索是否应限于当前原理图或整个原理图。</p>
</div>
<div class="paragraph">
<p>还有一个查找和替换工具，可以通过顶部工具栏上的 <span class="image"><img src="images/icons/find_replace_24.png" alt="查找和替换图标"></span> 按钮激活。这个工具的作用与筛选工具相同，但还可以用不同的文本替换部分或全部匹配的文本。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/find_replace_dialog.png" alt="查找和替换对话框">
</div>
</div>
<div class="paragraph">
<p>如果选中 <strong>替换位号中的匹配内容</strong> 选项，位号将被修改，如果它们包含匹配文本。否则，位号将不会受到影响。</p>
</div>
</div>
<div class="sect2">
<h3 id="_网络高亮显示">4.2. 网络高亮显示</h3>
<div class="paragraph">
<p>电气网络可以在原理图编辑器中高亮显示它在原理图中出现的所有位置。电气网络高亮可以在原理图编辑器中激活，也可以在启用交叉探测高亮时在 PCB 编辑器中高亮相应的网（见下文）。当网络高亮激活时，高亮的网络将以不同的颜色显示。默认情况下，这种颜色是粉红色，但可以在 "偏好设置" 对话框的颜色部分进行配置。</p>
</div>
<div class="paragraph">
<p>Nets can be highlighted by clicking on a wire or pin using the Highlight Net tool in the right toolbar (<span class="image"><img src="images/icons/net_highlight_schematic_24.png" alt="Net Highlight icon"></span>). Alternatively, the Highlight Net hotkey (<kbd>`</kbd>) highlights the net under the cursor.</p>
</div>
<div class="paragraph">
<p>Net highlighting can be cleared by using the Clear Net Highlight action (hotkey <kbd>~</kbd>) or by using the Highlight net tool on an empty region in the schematic. By default, <kbd>Esc</kbd> also clears net highlighting, but this can be disabled if desired in <strong>Preferences</strong> &#8594; <strong>Schematic Editor</strong> &#8594; <strong>Editing Options</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_从_pcb_上交叉探测">4.3. 从 PCB 上交叉探测</h3>
<div class="paragraph">
<p>KiCad 允许在原理图和 PCB 之间进行双向交叉探测。 有几种不同类型的交叉探测。</p>
</div>
<div class="paragraph">
<p><strong>选择交叉探测</strong> 允许你在原理图中选择一个符号或引脚来选择 PCB 中相应的封装或焊盘（如果存在的话），反之亦然。默认情况下，交叉探测将导致显示在交叉探测项目的中心并放大以适应。这种行为可以在偏好设置对话框的显示选项部分禁用这一行为。</p>
</div>
<div class="paragraph">
<p><strong>突出显示交叉探测</strong> 允许你在原理图和 PCB 中同时高亮显示一个网络。 如果在 "偏好设置" 对话框的 "显示选项" 部分启用了 "高亮显示交叉探测的网络" 选项，那么在原理图编辑器中高亮显示一个网络或总线将导致 PCB 编辑器中相应的网络或网络被高亮显示，反之亦然。</p>
</div>
</div>
<div class="sect2">
<h3 id="erc">4.4. 电气规则检查</h3>
<div class="paragraph">
<p>电气规则检查（ERC）工具检查你的原理图中的某些错误，如未连接的引脚、未连接的层次符号、短路的输出或其他非法连接，等等。违反 ERC 的情况会根据检测到的问题的严重程度，以错误或警告的形式报告。</p>
</div>
<div class="paragraph">
<p>ERC 是不完善的，不能检测所有的错误，但它可以检测到许多常见的问题和疏忽。所有检测到的问题都应该在继续进行之前进行检查和处理。ERC 的质量与符号创建过程中声明《引脚-电气-类型，电气引脚属性》的谨慎程度直接相关。如果符号设计不正确，ERC 将不会报告准确的信息。</p>
</div>
<div class="paragraph">
<p>ERC 可以通过点击顶部工具栏的 <span class="image"><img src="images/icons/erc_24.png" alt="ERC 图标"></span> 按钮并点击 <strong>运行 ERC</strong> 按钮来启动。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/dialog_erc.png" alt="ERC 对话框">
</div>
</div>
<div class="paragraph">
<p>任何警告或错误都会在 <strong>违规行为</strong> 标签中报告，每个违规行为的标记都会放在原理图中，使其指向原理图的相关部分。警告用黄色箭头表示，错误用红色箭头表示。被排除的违规行为显示为绿色箭头。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
在 ERC 窗口中选择一个违规，就会跳到原理图中所选择的违规标记。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>窗口底部的数字显示错误、警告和排除的数量。每种类型的违规行为都可以用各自的复选框从列表中过滤出来。点击 <strong>删除标记</strong> 将清除所有违规行为，直到 ERC 再次运行。</p>
</div>
<div class="paragraph">
<p>可以在对话框中右键点击违规行为，以忽略它们或改变其严重程度：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/erc_ignore_warning.png" alt="忽略 ERC 警告">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>排除此违规行为：</strong> 忽略此特定违规行为，但不影响其他任何违规行为。</p>
</li>
<li>
<p><strong>改变严重程度：</strong> 将一个违规类型从警告改为错误，或将错误改为警告。这影响到一个给定类型的所有违规行为。</p>
</li>
<li>
<p><strong>忽略所有：</strong> 忽略所有给定类型的违规行为。这个测试现在将出现在 <strong>忽略的测试</strong> 标签，而不是 <strong>违规</strong> 标签。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>你也可以用 <strong>检查</strong> &#8594; <strong>排除标记</strong> 排除所选标记，用 <strong>查看</strong> 菜单显示或隐藏每一类标记（错误、警告和排除）。</p>
</div>
<div class="paragraph">
<p>在设计规则检查器运行期间，排除的和忽略的违规行为会被记住。</p>
</div>
<div class="sect3">
<h4 id="_erc_例子">4.4.1. ERC 例子</h4>
<div class="imageblock">
<div class="content">
<img src="images/erc_pointers.png" alt="ERC 的指向">
</div>
</div>
<div class="paragraph">
<p>在上面的截图中，有三个错误。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>两个输出被连接在一起（右边的红色箭头）。</p>
</li>
<li>
<p>有两个输入没有连接（左边的红色箭头）。这实际上是每个引脚的两个错误：每个引脚都没有连接，而且每个引脚都是没有被输出引脚驱动的输入引脚。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>选择一个 ERC 标记会在窗口底部的信息窗格中显示违规描述。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/erc_pointers_message.png" alt="信息窗格中的 ERC 违规描述">
</div>
</div>
</div>
<div class="sect3">
<h4 id="power-pins-and-power-flags">4.4.2. 电源引脚和电源标志</h4>
<div class="paragraph">
<p>在电源引脚上出现 "输入电源引脚未被任何输出电源引脚驱动" 的错误是很常见的，如下面的例子所示，即使电源引脚似乎正确地连接到电源导线。这种情况发生在通过连接器或其他元件提供电源的设计中，这些连接器或元件没有被标记为电源输出。在这些情况下，ERC 不会检测到任何连接到网络的输出电源引脚，而会判断输入电源引脚没有被电源驱动。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_power_pins_and_flags.png" alt="电源引脚和错误标志">
</div>
</div>
<div class="paragraph">
<p>为了避免这个警告，请在这样的电源网络上将网络连接到 <code>PWR_FLAG</code> 符号上，如下例所示。<code>PWR_FLAG</code> 符号可以在 <code>power</code> 符号库中找到。或者，将任何电源输出引脚连接到该网；<code>PWR_FLAG</code> 只是一个具有单一电源输出引脚的符号。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_power_pins_and_flags.png" alt="带有 PWR_FLAG 的电源引脚">
</div>
</div>
<div class="paragraph">
<p>接地网络通常也需要一个 <code>PWR_FLAG</code>，因为电压调节器的输出被声明为电源输出，但其接地引脚通常被标记为电源输入。因此，除非使用 <code>PWR_FLAG</code> 符号，否则地线可能看起来没有与电源相连。</p>
</div>
<div class="paragraph">
<p>关于电源引脚和电源标志的更多信息，请参见《电源标记，<code>PWR_FLAG</code> 文档》。</p>
</div>
</div>
<div class="sect3">
<h4 id="erc-configuration">4.4.3. ERC 配置</h4>
<div class="paragraph">
<p>《原理图设置，原理图设置》中的 <strong>违规严重性</strong> 面板让你配置哪些类型的 ERC 信息应被报告为错误、警告或忽略。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_erc_severity.png" alt="原理图 ERC 严重程度设置">
</div>
</div>
<div class="paragraph">
<p>《原理图设置，原理图设置》中的 <strong>引脚冲突图</strong> 面板允许你配置连接规则，根据哪些类型的引脚相互连接来定义错误和警告的电气条件。例如，默认情况下，当一个输出引脚与另一个输出引脚连接时，会产生错误。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_erc_options.png" alt="原理图 ERC 引脚冲突图">
</div>
</div>
<div class="paragraph">
<p>可以通过点击矩阵中所需要的方块来改变规则，使其在各种选择中循环：允许、警告、错误。</p>
</div>
</div>
<div class="sect3">
<h4 id="list-of-erc-checks">4.4.4. ERC 检查清单</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 50%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">违规行为</th>
<th class="tableblock halign-left valign-top">描述</th>
<th class="tableblock halign-left valign-top">默认严重程度</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">引脚未连接</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">所有的符号引脚都必须连接到网络上，除非该引脚有一个《无连接符号，无连接标志》或有电气类型无连接。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">输入引脚没有被任何输出引脚驱动</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">所有的输入引脚都必须连接到一个输出引脚。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">输入电源引脚没有被任何输出电源引脚所驱动。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">所有的输入电源引脚都必须连接到一个输出电源引脚。造成这种违反的常见原因是《电源引脚和电源标志，如上所述》。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">一个带有 "无连接" 标志的引脚被连接了</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">带有《无连接符号，无连接标志》的引脚不能连接到其他东西。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">警告</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">未连接的 "无连接" 标志</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">《无连接符号，无连接标志》不能不连接。它们必须连接到一个引脚或标签上。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">警告</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">标签没有连接到任何东西</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">全局标签、层次标签和局部标签必须连接到一个引脚或另一个标签上。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">全局标签没有连接到原理图中的其他地方</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">全局标签必须在原理图中多次出现，否则它们就没有任何连接。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">警告</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">导线没有连接到任何东西上</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">导线必须连接到一个引脚或标签。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">需要总线入口</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">这种违规行为只适用于从 EAGLE 工程导入的工程。它表示在某些地方，导入器无法自动将总线入口添加到导入的原理图中，因此你必须手工添加它们。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">符号引脚或线端偏离网格</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">符号引脚和导线末端需要对准网格，以便相互连接。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">警告</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">重复的位号</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">两个符号不能有相同的位号。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">同一符号的单元有不同的值</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">单一符号的所有单元必须具有相同的值。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">符号的另一个单元中分配了不同的封装</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">单一符号的所有单元必须有相同的封装分配。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">符号的另一个单元中的共享引脚分配的网不同</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">一个符号的多个单元之间共享的任何引脚必须在所有单元中连接相同的网。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">在一个给定的工作表内有重复的原理图名称</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">一个给定工作表内的所有层次原理图必须有唯一的名称。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">层次标签和原理图页码不匹配。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">所有层次标签必须在父原理图中有相应的层次原理图页码，所有层次原理图页码必须在子原理图中有相应的层次标签。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">给予此总线或网络的名称超过一个</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">网络只能有一个名称，所以如果一个网络上有多个标签，将选择一个名称作为标准名称。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">警告</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">总线别名定义在各原理图中的冲突</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果在多个原理图中使用相同的总线别名，每个原理图中的别名成员必须相同。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">总线在图形上有连接，但没有共享总线成员</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Buses that are graphically connected must have bus members in common.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid connection between bus and net items</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Buses cannot be connected to net items such as wires, labels referring to
    single nets, or sheet pins referring to single nets. Labels and sheet pins
    can only be connected to buses if they refer to buses rather than individual
    signals.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Net is graphically connected to a bus but not a bus member</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nets can only be connected to a bus with a bus entry if they are a member of
    the bus.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Warning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conflicting netclass assignments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only one netclass can be assigned to a net.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Symbol is not annotated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Symbols must be <a href="#reference-designators-and-symbol-annotation">annotated with
    a unique reference designator</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unresolved text variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Text variables (<code>${variable_name}</code>) must be defined in
    <a href="#schematic-setup-text-variables">Schematic Setup</a> before they can be used.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SPICE model issue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SPICE models must not have syntax errors or other problems.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Labels are similar (lower/upper case difference only)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If two labels are similar and differ only by the case of some letters, this
    may be a typo causing two labels to be disconnected when they are intended
    to be connected.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Warning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Library symbol issue</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Several symbol library issues are checked:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>每个符号的符号库都被包括在内，并在 《管理符号库，库表》。</p>
</li>
<li>
<p>原理图中的每个符号都存在于其符号库中</p>
</li>
<li>
<p>原理图中的每个符号与它的符号库中的副本相匹配</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">警告</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">符号的单元多于定义的单元</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">符号在原理图中放置的单元不能多于符号中的定义。原理图中的单元必须与符号定义完全对应。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">符号中有未被放置的单元</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">多单元符号中的所有单元都应放置在原理图中。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">警告</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">符号有未放置的输入引脚</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">多单元符号中有单元的输入引脚没有被放置，所以这些输入引脚不会被连接到任何东西。所有带有输入引脚的单元都应该被放置在原理图中。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">警告</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">符号中有未被放置的双向引脚</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">多单元符号有未被放置的双向引脚的单元，因此这些双向引脚不会连接到任何东西。所有具有双向引脚的单元都应该被放置在原理图中。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">警告</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">符号中有未被放置的电源输入引脚</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">一个多单元符号有未被放置的电源输入引脚的单元，因此这些电源输入引脚将不会被连接到任何东西。所有带有电源输入引脚的单元都应放在原理图中。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">错误</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">引脚之间的冲突问题</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">引脚之间的连接必须符合《ERC 配置，引脚冲突图》中的允许连接。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">从引脚冲突图</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_erc_报告文件">4.4.5. ERC 报告文件</h4>
<div class="paragraph">
<p>可以通过点击 ERC 对话框中的 <strong>保存&#8230;&#8203;</strong> 按钮来生成和保存 ERC 报告文件。ERC 报告文件的扩展名为 <code>.rpt</code>。下面给出一个 ERC 报告文件的例子。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ERC report (Fri 21 Oct 2022 02:07:05 PM EDT, Encoding UTF8)

***** Sheet /
[pin_not_driven]: Input pin not driven by any Output pins
    ; Severity: error
    @(149.86 mm, 60.96 mm): Symbol U1B [74LS00] Pin 4 [, Input, Line]
[pin_not_connected]: Pin not connected
    ; Severity: error
    @(149.86 mm, 60.96 mm): Symbol U1B [74LS00] Pin 4 [, Input, Line]
[pin_not_connected]: Pin not connected
    ; Severity: error
    @(149.86 mm, 66.04 mm): Symbol U1B [74LS00] Pin 5 [, Input, Line]
[pin_to_pin]: Pins of type Output and Output are connected
    ; Severity: error
    @(165.10 mm, 63.50 mm): Symbol U1B [74LS00] Pin 6 [, Output, Inverted]
    @(165.10 mm, 46.99 mm): Symbol U1A [74LS00] Pin 3 [, Output, Inverted]
[pin_not_driven]: Input pin not driven by any Output pins
    ; Severity: error
    @(149.86 mm, 66.04 mm): Symbol U1B [74LS00] Pin 5 [, Input, Line]

 ** ERC messages: 5  Errors 5  Warnings 0</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="assigning-footprints">5. 分配封装</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在对 PCB 进行布线之前，需要为每一个将要装配在电路板上的元件选择封装。封装定义了物理元件和电路板上的布线之间的铜连接。</p>
</div>
<div class="paragraph">
<p>有些符号预留了封装，但对许多符号来说，有多种可能的封装，所以用户需要选择合适的封装。</p>
</div>
<div class="paragraph">
<p>KiCad 提供了几种分配封装的方法：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>符号属性</p>
<div class="ulist">
<ul>
<li>
<p>符号属性对话框</p>
</li>
<li>
<p>符号字段表</p>
</li>
</ul>
</div>
</li>
<li>
<p>在放置符号的同时</p>
</li>
<li>
<p>封装分配工具</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>下面将对每种方法进行解释。使用哪种方法是一个偏好的问题；根据情况，一种方法可能更方便。所有这些方法都是等效的，它们在符号的 <code>封装</code> 字段中存储所选封装的名称。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The Footprint Library Table needs to be configured before footprints can be assigned. For information on configuring the Footprint Library Table, please see the <a href="../pcbnew/pcbnew.html#managing-footprint-libraries">PCB Editor manual</a>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="assigning-footprints-in-symbol-properties">5.1. 在符号属性中分配封装</h3>
<div class="paragraph">
<p>符号的 <code>封装</code> 字段可以直接在符号的属性窗口中编辑。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_symbol_properties_footprint.png" alt="在符号属性中分配封装">
</div>
</div>
<div class="paragraph">
<p>点击<span class="image"><img src="images/icons/small_library_16.png" alt="库图标"></span>按钮在 <code>封装</code> 字段打开封装库浏览器，显示可用的封装和封装库。单击一个封装名称可以选择该封装，并在右边的预览窗格中显示，而双击一个封装则可以关闭浏览器，并将符号的 <code>封装</code> 字段设置为所选的封装。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_footprint_library_browser.png" alt="在封装库浏览器中选择一个封装">
</div>
</div>
<div class="sect3">
<h4 id="assigning-footprints-with-the-symbol-fields-table">5.1.1. 用符号字段表分配封装</h4>
<div class="paragraph">
<p>与其单独编辑每个符号的属性，符号字段表可以用来在一个地方查看和编辑设计中所有符号的属性。这包括通过编辑每个符号的 <code>封装</code> 字段来分配封装。</p>
</div>
<div class="paragraph">
<p>符号字段表可以通过 <strong>工具</strong> &#8594; <strong>编辑符号字段&#8230;&#8203;</strong>，或者通过顶部工具栏上的 <span class="image"><img src="images/icons/spreadsheet_24.png" alt="符号字段表图标"></span> 按钮进入。</p>
</div>
<div class="paragraph">
<p>`封装`字段在这里的作用与符号属性窗口的作用相同：可以直接编辑，也可以用封装库浏览器直观地选择封装。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_symbol_fields_table_footprint.png" alt="用符号字段表批量编辑封装">
</div>
</div>
<div class="paragraph">
<p>关于符号字段表的更多信息，请参见《符号字段表，关于编辑符号属性》一节。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="assigning-footprints-while-placing-symbols">5.2. 放置符号时分配封装</h3>
<div class="paragraph">
<p>当符号第一次被添加到原理图中时，可以为符号分配封装。</p>
</div>
<div class="paragraph">
<p>有些符号被定义为有一个默认的封装。当这些符号被添加到原理图中时，它们将预先被分配这个封装。默认的封装会显示在添加符号对话框中。对于没有定义默认符号的符号，封装下拉菜单会显示 "没有默认封装"，而封装预览画布会显示 "没有指定封装"。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_add_symbol_default_footprint.png" alt="添加符号对话框中的默认封装">
</div>
</div>
<div class="paragraph">
<p>符号可以有封装过滤器，指定哪些封装适合与该符号一起使用。如果为选定的符号定义了封装过滤器，那么所有符合封装过滤器的封装都会作为选项出现在封装下拉菜单中。选定的封装将显示在预览画布中，当符号被添加到原理图中时，将被分配给该符号。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
除非加载封装库，否则封装选项不会出现在封装下拉菜单中。在一个会话中第一次打开 "封装编辑器" 或 "封装库浏览器" 时，将加载封装库。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>关于封装过滤器的更多信息，请参阅《封装过滤器，符号编辑器文档》。</p>
</div>
</div>
<div class="sect2">
<h3 id="footprint-assignment-tool">5.3. 用封装分配工具分配封装</h3>
<div class="paragraph">
<p>封装分配工具允许你将原理图中的符号与铺设印制电路板时使用的封装联系起来。它提供了封装列表过滤、封装查看和三维元件模型查看，以帮助确保将正确的封装与每个元件联系起来。</p>
</div>
<div class="paragraph">
<p>元件可以手动或通过创建等效文件（.equ 文件）自动分配到其相应的封装。等效文件是将每个元件与它的封装联系起来的查找表。</p>
</div>
<div class="paragraph">
<p>用 <strong>工具</strong> &#8594; <strong>分配封装&#8230;&#8203;</strong> 来运行该工具，或者点击顶部工具栏上的 <span class="image"><img src="images/icons/icon_cvpcb_24_24.png" alt="封装分配工具的图标"></span> 图标。</p>
</div>
<div class="sect3">
<h4 id="_封装分配工具概述">5.3.1. 封装分配工具概述</h4>
<div class="paragraph">
<p>下面的图片显示了封装分配工具的主窗口。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/cvpcb_main_window.png" alt="封装分配工具的主窗口">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>左边的窗格包含了与该工程相关的可用封装库的列表。</p>
</li>
<li>
<p>中心窗格包含原理图中的符号列表。</p>
</li>
<li>
<p>右边的窗格包含了从工程封装库加载的可用封装列表。</p>
</li>
<li>
<p>底部的窗格描述了应用于封装列表的过滤器，并打印了在最右边窗格中选择的封装的信息。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>顶部的工具条包含以下命令：</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/save_24.png" alt="save 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">将当前的封装关联转移到原理图中。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/library_table_24.png" alt="library table 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">编辑全局和工程封装库表。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/icon_footprint_browser_24.png" alt="icon footprint browser 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在封装查看器中查看选定的封装。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/left_24.png" alt="left 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择没有封装关联的前一个符号。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/right_24.png" alt="right 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择下一个没有封装关联的符号。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/undo_24.png" alt="undo 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">撤消上次的编辑。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/redo_24.png" alt="redo 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">重做最后一次编辑。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/auto_associate_24.png" alt="auto associate 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">使用等效文件执行自动封装关联</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/delete_association_24.png" alt="delete association 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">删除所有的封装分配。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/module_filtered_list_24.png" alt="module filtered list 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">通过所选符号中定义的封装过滤器来过滤封装列表。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/module_pin_filtered_list_24.png" alt="module pin filtered list 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">按所选符号的引脚数过滤封装列表。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/module_library_list_24.png" alt="module library list 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">按选定的库过滤封装列表。</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>下表列出了封装分配工具的键盘命令：</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<colgroup>
<col style="width: 15%;">
<col style="width: 85%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">向右箭头/Tab</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">激活当前激活的窗格右侧的窗格。
如果当前激活了最后一个窗格，则绕到第一个窗格。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">向左箭头</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">激活当前激活的窗格左边的窗格。
窗格的左边。如果当前激活的是第一个窗格，则绕到最后一个窗格。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">向上箭头</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择当前所选列表中的前一个项目。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">向下箭头</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择当前选择的列表中的下一个项目。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Page Up</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择当前所选项目向上翻一整页的项目。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Page Down</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择当前所选项目向下一整页的项目。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Home</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择当前选择的列表中的第一个项目。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">End</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择当前所选列表的最后一个项目。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_使用_封装分配工具_手动分配_封装">5.3.2. 使用 "封装分配工具" 手动分配 "封装"</h4>
<div class="paragraph">
<p>要手动将一个封装与一个元件联系起来，首先在元件（中间）窗格中选择一个元件。然后在封装（右）窗格中选择一个封装，双击所需封装的名称。封装将被分配给选定的元件，而下一个没有分配封装的元件将被自动选择。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
如果没有封装出现在封装窗格中，检查《过滤封装列表，封装过滤选项》是否正确应用。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>当所有的元件都有封装时，点击 <strong>OK</strong> 按钮来保存分配并退出工具。或者，点击 <strong>取消</strong>，放弃更新的赋值，或者点击 <strong>应用，保存原理图并继续</strong>，保存新的赋值，而不退出工具。</p>
</div>
<div class="sect4">
<h5 id="filtering-the-footprint-list">筛选 "封装" 列表</h5>
<div class="paragraph">
<p>有四个过滤选项可以限制哪些封装显示在封装窗格中。过滤选项是通过顶部工具栏的三个按钮和一个文本框来启用和禁用的。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="image"><img src="images/icons/module_filtered_list_24.png" alt="module filtered list 24"></span>：激活 《封装过滤器，过滤器可以在每个符号中定义》。 例如，一个运算放大器符号可以定义过滤器，只显示 SOIC 和 DIP 封装。</p>
</li>
<li>
<p><span class="image"><img src="images/icons/module_pin_filtered_list_24.png" alt="module pin filtered list 24"></span>：只显示符合所选符号引脚数的封装。</p>
</li>
<li>
<p><span class="image"><img src="images/icons/module_library_list_24.png" alt="module library list 24"></span>：只显示左侧窗格中选择的库的封装。</p>
</li>
<li>
<p>在文本框中输入文本，会隐藏与文本不匹配的封装。当文本框为空时，该过滤器被禁用。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>当所有的过滤器被禁用时，会显示完整的封装列表。</p>
</div>
<div class="paragraph">
<p>窗口的底部窗格中描述了应用的过滤器，以及符合所选过滤器的封装数量。例如，当符号的封装过滤器和引脚数过滤器被启用时，底部窗格会打印封装过滤器和引脚数：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/filter_details.png" alt="启用符号封装过滤器和引脚数过滤器时的过滤器细节">
</div>
</div>
<div class="paragraph">
<p>可以同时使用多个过滤器来帮助缩小封装窗格中可能合适的封装列表。KiCad 标准库中的符号定义了封装过滤器，旨在与引脚数过滤器结合使用。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="automatically-associating-footprints-to-components">5.3.3. 使用封装分配工具自动分配封装</h4>
<div class="paragraph">
<p>封装分配工具允许你在一个外部文件中存储封装分配，并在以后加载这些分配，甚至在不同的工程中。这使你能够自动将符号与适当的封装联系起来。</p>
</div>
<div class="paragraph">
<p>外部文件被称为等效文件，它存储了一个符号值到相应的封装的映射。等效文件通常使用 <code>.equ</code> 文件扩展名。等效文件是具有简单语法的纯文本文件，必须由用户用文本编辑器来创建。语法描述如下。</p>
</div>
<div class="paragraph">
<p>你可以在 "封装分配工具" 中点击 <strong>偏好设置</strong> &#8594; <strong>管理 "封装关联文件" </strong> 来选择使用哪些等值文件。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/cvpcb_equivalence_files.png" alt="管理等效文件">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>通过点击 <strong>添加</strong> 按钮添加新的等效文件。</p>
</li>
<li>
<p>点击 <strong>删除</strong> 按钮，删除所选的等效文件。</p>
</li>
<li>
<p>通过点击 <strong>上移</strong> 和 <strong>下移</strong> 按钮改变等效文件的优先级。如果一个符号的值在多个等效文件中被发现，最后一个匹配的等效文件的封装将覆盖早期的等效文件。</p>
</li>
<li>
<p>点击 <strong>编辑文件</strong> 按钮，打开所选的等值文件。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>相关的环境变量显示在窗口的底部。当 <strong>相对</strong> 路径选项被选中时，这些环境变量将被自动用于使所选等效文件的路径与项目或封装库相对。</p>
</div>
<div class="paragraph">
<p>一旦所需的等效文件以正确的顺序载入，就可以通过点击封装分配工具顶部工具栏上的 <span class="image"><img src="images/icons/auto_associate_24.png" alt="执行自动封装分配图标"></span> 按钮来进行自动封装分配。</p>
</div>
<div class="paragraph">
<p>所有在加载的等效文件中找到数值的符号都将自动分配其封装。然而，已经分配了封装的符号将不会被更新。</p>
</div>
<div class="sect4">
<h5 id="equivalence-file-format">等效文件格式</h5>
<div class="paragraph">
<p>等效文件由每个符号值的一行组成。每一行有以下结构：</p>
</div>
<div class="paragraph">
<p><code>'&lt;symbol value&gt;' '&lt;footprint library&gt;:&lt;footprint name&gt;'</code></p>
</div>
<div class="paragraph">
<p>每个名称/值必须用单引号（<code>'</code>）包围，并由一个或多个空格隔开。以 <code>#</code> 开头的行是注释。</p>
</div>
<div class="paragraph">
<p>例如，如果你想让所有数值为 <code>LM4562</code> 的符号被分配到 <code>Package_SO:SOIC-8_3.9x4.9_P1.27mm</code> 的封装，等效文件中的一行应该是：</p>
</div>
<div class="paragraph">
<p><code>'LM4562' 'Package_SO:SOIC-8_3.9x4.9_P1.27mm'</code></p>
</div>
<div class="paragraph">
<p>下面是一个等效文件的例子：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#integrated circuits (smd):
'74LV14' 'Package_SO:SOIC-14_3.9x8.7mm_P1.27mm'
'EL7242C' 'Package_SO:SOIC-8_3.9x4.9_P1.27mm'
'DS1302N' 'Package_SO:SOIC-8_3.9x4.9_P1.27mm'
'LM324N' 'Package_SO:SOIC-14_3.9x8.7mm_P1.27mm'
'LM358' 'Package_SO:SOIC-8_3.9x4.9_P1.27mm'
'LTC1878' 'Package_SO:MSOP-8_3x3mm_P0.65mm'
'24LC512I/SM' 'Package_SO:SOIC-8_3.9x4.9_P1.27mm'
'LM2903M' 'Package_SO:SOIC-8_3.9x4.9_P1.27mm'
'LT1129_SO8' 'Package_SO:SOIC-8_3.9x4.9_P1.27mm'
'LT1129CS8-3.3' 'Package_SO:SOIC-8_3.9x4.9_P1.27mm'
'LT1129CS8' 'Package_SO:SOIC-8_3.9x4.9_P1.27mm'
'LM358M' 'Package_SO:SOIC-8_3.9x4.9_P1.27mm'
'TL7702BID' 'Package_SO:SOIC-8_3.9x4.9_P1.27mm'
'TL7702BCD' 'Package_SO:SOIC-8_3.9x4.9_P1.27mm'
'U2270B' 'Package_SO:SOIC-16_3.9x9.9_P1.27mm'

#regulators
'LP2985LV' 'Package_TO_SOT_SMD:SOT-23-5_HandSoldering'</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_查看当前封装">5.3.4. 查看当前封装</h4>
<div class="paragraph">
<p>封装分配工具包含一个封装查看器。点击顶部工具栏上的 <span class="image"><img src="images/icons/icon_footprint_browser_24.png" alt="封装查看器图标"></span> 按钮可以启动封装查看器，并显示选定的封装。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/footprint_view.png" alt="查看封装">
</div>
</div>
<div class="paragraph">
<p>顶部的工具条包含以下命令：</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/refresh_24.png" alt="refresh 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">刷新视图</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/zoom_in_24.png" alt="zoom in 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">放大</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/zoom_out_24.png" alt="zoom out 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">缩小</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/zoom_fit_in_page_24.png" alt="zoom fit in page 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">放大到适合显示区域的图画</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/shape_3d_24.png" alt="shape 3d 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">显示 3D 查看器</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>左边的工具条包含以下命令：</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/cursor_24.png" alt="cursor 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">使用选择工具</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/measurement_24.png" alt="measurement 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在两点之间交互测量</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/grid_24.png" alt="grid 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">显示网格点或线</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/polar_coord_24.png" alt="polar coord 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在极地坐标系和车轴坐标系之间切换</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/unit_inch_24.png" alt="unit inch 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">使用英寸</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/unit_mil_24.png" alt="unit mil 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">以密尔（1/1000英寸）为单位显示坐标</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/unit_mm_24.png" alt="unit mm 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">以毫米为单位显示坐标</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/cursor_shape_24.png" alt="cursor shape 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">切换全窗口十字准线的显示</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/pad_number_24.png" alt="pad number 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在草图或正常模式下的绘图板之间进行切换</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/pad_sketch_24.png" alt="pad sketch 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在正常模式或轮廓模式下的绘图板之间进行切换</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/text_sketch_24.png" alt="text sketch 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在正常模式或大纲模式下绘制文本之间进行切换</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/show_mod_edge_24.png" alt="show mod edge 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在正常模式或大纲模式下绘制图形线之间进行切换</p></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_查看当前_3d_模型">查看当前 3D 模型</h5>
<div class="paragraph">
<p>点击 <span class="image"><img src="images/icons/shape_3d_24.png" alt="3D 视图图标"></span> 按钮在 3D 模型查看器中打开封装。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
如果当前的封装不存在 3D 模型，那么在 3D 浏览器中只显示封装本身。
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/3d_window.png" alt="3D 模型查看">
</div>
</div>
<div class="paragraph">
<p>The 3D Viewer is described in the <a href="../pcbnew/pcbnew.html#threed-viewer">PCB Editor manual</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="schematic-to-pcb">6. 正向和反向批注</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_从原理图更新_pcb正向批注">6.1. 从原理图更新 PCB（正向批注）</h3>
<div class="paragraph">
<p>使用 "从原理图更新 PCB" 工具将设计信息从原理图编辑器同步到电路板编辑器。在原理图编辑器和电路板编辑器中都可以用 <strong>工具</strong> &#8594; <strong>从原理图更新 PCB</strong>（<kbd>F8</kbd>）来访问该工具。你也可以使用电路板编辑器顶部工具栏上的 <span class="image"><img src="images/icons/update_pcb_from_sch_24.png" alt="从原理图更新 PCB"></span>图标。这个过程通常被称为正向批注。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
从原理图更新 PCB 是将设计信息从原理图转移到 PCB 的首选方法。在旧版本的 KiCad 中，相应的过程是将网表从原理图编辑器中导出并导入到电路板编辑器中。现在已经没有必要使用网表文件了。
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/update_pcb_from_schematic.png" alt="从原理图更新 PCB">
</div>
</div>
<div class="paragraph">
<p>该工具将每个符号的封装添加到电路板上，并将更新的原理图信息传输到电路板上。特别是，电路板的网络连接会被更新以符合原理图的要求。带有《编辑符号属性，<strong>排除在电路板</strong>属性之外》 的符号不会被转移到 PCB 上。</p>
</div>
<div class="paragraph">
<p>将对 PCB 进行的修改列在 <em>待应用的修改</em> 窗格中。在你点击 <strong>更新 PCB</strong> 按钮之前，PCB 不会被修改。</p>
</div>
<div class="paragraph">
<p>你可以使用窗口底部的复选框来显示或隐藏不同类型的信息。可以使用 <strong>保存&#8230;&#8203;</strong> 按钮将更改的报告保存到文件中。</p>
</div>
<div class="sect3">
<h4 id="_选项">6.1.1. 选项</h4>
<div class="paragraph">
<p>该工具有几个选项可以控制其行为。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">选项</th>
<th class="tableblock halign-left valign-top">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">根据位号将封装重新链接到原理图符号上</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">封装通常是通过符号添加到原理图中时创建的唯一标识符与原理图符号相连。符号的唯一标识符不能被改变。</p>
<p class="tableblock">如果选中，PCB 中的每个封装将被重新链接到与该封装具有相同位号的符号上。</p>
<p class="tableblock">如果不勾选，封装和符号将像往常一样通过唯一的标识符连接，而不是通过位号。每个封装的位号将被更新以匹配其链接符号的位号。</p>
<p class="tableblock">这个选项一般不应该被选中。它对于依赖改变原理图符号和封装之间的联系的特定工作流程是很有用的，例如重构原理图以方便布局，或者在设计的相同通道之间复制布局。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">删除没有符号的封装</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果选中，PCB 中任何在原理图中没有相应符号的封装都将从 PCB 中删除。带有 "不在原理图中" 属性的封装将不受影响。</p>
<p class="tableblock">如果不勾选，没有相应符号的封装将不会被删除。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用原理图中指定的封装替换封装</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果选中，PCB 中的封装将被替换成相应原理图符号中指定的封装。</p>
<p class="tableblock">如果不勾选，即使原理图符号被更新以指定不同的封装，PCB 中已经存在的封装也不会被改变。</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_从_pcb_上更新原理图反向批注">6.2. 从 PCB 上更新原理图（反向批注）</h3>
<div class="paragraph">
<p>KiCad 的典型工作流程是在原理图中进行修改，然后使用 "从原理图更新 PCB" 工具将修改内容同步到电路板上。然而，相反的过程也是可行的：可以在电路板上进行设计修改，然后在原理图或电路板编辑器中使用 <strong>工具</strong> &#8594; <strong>从 PCB 更新原理图</strong> 同步回原理图。这个过程也被称为 "反向批注"。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/update_schematic_from_pcb.png" alt="从 PCB 上更新原理图">
</div>
</div>
<div class="paragraph">
<p>该工具将位号、数值、封装分配和网络名称的变化从电路板同步到原理图。每种类型的变化都可以单独启用或禁用。</p>
</div>
<div class="paragraph">
<p>将对原理图进行的修改列在 <em>待应用的修改</em> 窗格中。在您点击 <strong>更新原理图</strong> 按钮之前，原理图不会被修改。</p>
</div>
<div class="paragraph">
<p>你可以使用窗口底部的复选框来显示或隐藏不同类型的信息。可以使用 <strong>保存&#8230;&#8203;</strong> 按钮将更改的报告保存到文件中。</p>
</div>
<div class="sect3">
<h4 id="_选项_2">6.2.1. 选项</h4>
<div class="paragraph">
<p>该工具有几个选项可以控制其行为。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">选项</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">说明</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">根据位号将封装重新链接到原理图符号上</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果选中，PCB 中的每个封装将被重新链接到与该封装具有相同位号的符号上。这个选项与更新符号位号不兼容。</p>
<p class="tableblock">如果不勾选，封装和符号将像往常一样通过唯一的标识符连接，而不是通过位号。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">位号</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果选中，符号位号将被更新，以匹配链接封装的位号。</p>
<p class="tableblock">如果不勾选，符号位号将不会被更新。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">值</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果选中，符号值将被更新以匹配链接封装的值。</p>
<p class="tableblock">如果不勾选，符号值不会被更新。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">封装分配</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果选中，符号的封装分配将被更新，这些符号的封装在电路板上被改变或替换。</p>
<p class="tableblock">如果不勾选，符号的封装分配将不会被更新。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">网络名</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果选中，原理图将根据电路板上的任何网络名变化进行更新。如有必要，网络标签将被更新或添加到原理图中，以符合电路板的要求。</p>
<p class="tableblock">如果不勾选，网络名将不会在原理图中更新。</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The <a href="../pcbnew/pcbnew.html#geographical-re-annotation">Geographical Reannotation</a>
      feature can be used in combination with backannotating reference
      designators to reannotate all components in the design based on their
      location in the layout.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_用_cmp_文件进行反向批注">6.2.2. 用 CMP 文件进行反向批注</h4>
<div class="paragraph">
<p>通过从 PCB 编辑器中导出 CMP 文件（<strong>文件</strong> &#8594; <strong>导出</strong> &#8594; <strong>封装关联（.cmp）文件&#8230;&#8203;</strong>）并在原理图编辑器中导入（<strong>文件</strong> &#8594; <strong>导入</strong> &#8594; <strong>封装分配&#8230;&#8203;</strong>），也可以将选择变化从 PCB 同步到原理图。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
这种方法只能同步对封装分配和封装字段的修改。建议使用 "从 PCB 更新原理图" 工具来代替。
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generating-outputs">7. 生成输出</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_打印">7.1. 打印</h3>
<div class="paragraph">
<p>KiCad 可以使用 <strong>文件</strong> &#8594; <strong>打印&#8230;&#8203;</strong> 将原理图打印到标准打印机上。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_print.png" alt="打印对话框">
</div>
</div>
<div class="sect3">
<h4 id="_打印设置">7.1.1. 打印设置</h4>
<div class="paragraph">
<p><strong>打印图样：</strong> 在打印的原理图中包括图样的边框和标题块。</p>
</div>
<div class="paragraph">
<p><strong>输出模式：</strong> 以彩色或黑白方式打印原理图。</p>
</div>
<div class="paragraph">
<p><strong>打印背景色：</strong> 包括打印的原理图中的背景色。包括在打印的原理图中的背景颜色。这个选项只有在 <strong>只以黑白打印</strong> 被禁用时才会启用。禁用此选项。</p>
</div>
<div class="paragraph">
<p><strong>使用不同的颜色主题进行打印：</strong> 选择不同的颜色方案进行打印，与在原理图编辑器中选择的显示方案不同。与在 "原理图编辑器" 中显示时选择的颜色方案不同，用于打印。</p>
</div>
<div class="paragraph">
<p><strong>页面设置&#8230;&#8203;：</strong> 打开一个页面设置对话框，用于设置纸张大小和方向。</p>
</div>
<div class="paragraph">
<p><strong>预览：</strong> 打开一个打印预览对话框。</p>
</div>
<div class="paragraph">
<p><strong>关闭：</strong> 关闭对话框，不打印。</p>
</div>
<div class="paragraph">
<p><strong>打印：</strong> 打开系统打印对话框。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
打印使用平台和打印机特定的驱动程序，可能会产生意想不到的结果。当打印到一个文件时，建议使用 <strong>绘图</strong> 而不是 <strong>打印</strong>。
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_绘制">7.2. 绘制</h3>
<div class="paragraph">
<p>KiCad 可以使用 <strong>文件</strong> &#8594; <strong>绘图&#8230;&#8203;</strong> 将原理图绘制到文件中。</p>
</div>
<div class="paragraph">
<p>支持的输出格式是 Postscript、PDF、SVG、DXF 和 HPGL。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_plot.png" alt="绘制对话框">
</div>
</div>
<div class="paragraph">
<p><strong>输出信息</strong> 窗格显示有关生成文件的信息。 可以用复选框显示或隐藏不同种类的信息，还可以用 <strong>保存&#8230;&#8203;</strong> 按钮将信息保存到文件中。</p>
</div>
<div class="paragraph">
<p><strong>图示当前页</strong> 按钮绘制原理图的当前页。<strong>绘制全部页面</strong> 按钮可以绘制原理图的所有页面。每一页都会生成一个文件，但 PDF 输出除外，它将原理图的每一页作为单独的一页绘制在一个 PDF 文件中。</p>
</div>
<div class="sect3">
<h4 id="_绘制选项">7.2.1. 绘制选项</h4>
<div class="paragraph">
<p><strong>输出目录：</strong> 指定保存绘图文件的位置。如果这是一个 相对路径，它是相对于项目目录创建的。</p>
</div>
<div class="paragraph">
<p><strong>输出格式：</strong> 选择要绘制的格式。有些格式有不同的选项。</p>
</div>
<div class="paragraph">
<p><strong>页面大小：</strong> 设置用于绘制输出的页面大小。这可以被设置为匹配原理图的尺寸或其他页面尺寸。</p>
</div>
<div class="paragraph">
<p><strong>绘制图纸：</strong> 在打印的原理图中包括图样表边框和标题块。</p>
</div>
<div class="paragraph">
<p><strong>输出模式：</strong> 设置输出为彩色或黑白。不是所有的输出格式都支持彩色。</p>
</div>
<div class="paragraph">
<p><strong>绘图背景色：</strong> 包括绘图输出中的原理图背景色。绘制的输出中。如果输出格式不支持彩色，或者输出模式是黑白的，那么背景色将不会被绘制出来。不支持彩色，或输出模式是黑白的，则不会绘制背景色。</p>
</div>
<div class="paragraph">
<p><strong>颜色主题：</strong> 选择用于绘制输出的颜色主题。</p>
</div>
<div class="paragraph">
<p><strong>默认线宽：</strong> 选择没有指定厚度的线的默认宽度。厚度的线的默认宽度（厚度设置为 0 的线）。有设定厚度的线 的线条将以该厚度绘制。</p>
</div>
<div class="paragraph">
<p><strong>位置和单位：</strong> 设置绘图仪原点和单位。这个选项只 适用于 HPGL 输出。</p>
</div>
<div class="paragraph">
<p><strong>笔宽：</strong> 设置绘图仪的笔宽。这个选项只适用于 HPGL 输出。</p>
</div>
<div class="paragraph">
<p><strong>绘制后打开文件：</strong> 在绘制完成后自动打开绘制的输出文件。</p>
</div>
</div>
<div class="sect3">
<h4 id="_互动式_pdf_功能">7.2.2. 互动式 PDF 功能</h4>
<div class="paragraph">
<p>绘图的 PDF 有几个互动功能。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/pdf_interactive_symbol_details.png" alt="符号字段弹出">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>可以点击超链接。</p>
</li>
<li>
<p>目录中填充了原理图页以及每张页面中的符号和层次标签。</p>
</li>
<li>
<p>点击许多原理图元素会显示一个包含相关信息的弹出菜单。</p>
<div class="ulist">
<ul>
<li>
<p>符号显示其符号字段。</p>
</li>
<li>
<p>层次的子页显示它们的原理图页面名称和文件名，以及一个输入页面本身的选项。</p>
</li>
<li>
<p>标签显示已解决的网络和网络类。</p>
</li>
<li>
<p>总线显示其成员。</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
其中一些功能并非所有 PDF 阅读器都支持。
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="bom-export">7.3. 生成物料清单</h3>
<div class="paragraph">
<p>KiCad 可以使用 <strong>工具</strong> &#8594; <strong>生成 BOM&#8230;&#8203;</strong> 或顶部工具栏上的 <span class="image"><img src="images/icons/post_bom_24.png" alt="BOM 图标"></span> 按钮生成材料清单。生成的 BOM 列出了设计中的所有元件，除了设置了《编辑符号属性，<strong>从物料清单中排除</strong>属性》的元件。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/dialog_bom.png" alt="BOM 对话框">
</div>
</div>
<div class="paragraph">
<p>BOM 工具使用一个外部脚本将设计信息处理成所需的输出格式。KiCad 中包含几个 BOM 生成器脚本，用户也可以创建自己的脚本。BOM 生成器脚本一般使用 Python 或 XSLT，但也可以使用其他工具，只要你能指定一个 《生成器命令行格式，命令行》让 KiCad 在运行生成器时执行。</p>
</div>
<div class="paragraph">
<p>您可以在 <strong>BOM 发生器脚本</strong> 列表中选择要使用的 BOM 发生器。 对话框的其余部分显示所选生成器的信息。您可以用 <strong>生成器昵称</strong> 文本框来改变生成器的显示名称。</p>
</div>
<div class="paragraph">
<p>右边的窗格显示所选脚本的信息。当生成器被执行时，右边的窗格则显示脚本的输出。</p>
</div>
<div class="paragraph">
<p>底部的文本框包含了 KiCad 用来执行生成器的命令。当选择脚本时，该文本框会自动填充，但对于某些生成器来说，该命令可能需要手工编辑。当关闭 BOM 工具时，KiCad 会保存每个生成器的命令行，所以命令行的定制会被保留下来。关于命令行的更多细节，请参阅 《生成器命令行格式，高级文档》。</p>
</div>
<div class="paragraph">
<p>在 Windows 下，BOM 生成器对话框有一个额外的选项 <strong>显示控制台窗口</strong>。当这个选项未被选中时，BOM 生成器在一个隐藏的控制台窗口中运行，任何输出都会被重定向并打印在对话框中。当该选项被选中时，BOM 生成器在一个可见的控制台窗口中运行，如果生成器插件提供了一个图形用户界面，这可能是必要的。</p>
</div>
<div class="sect3">
<h4 id="_bom_生成器脚本">7.3.1. BOM 生成器脚本</h4>
<div class="paragraph">
<p>默认情况下，BOM 工具呈现三个输出脚本选项。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>bom_csv_grouped_extra</code> 输出一个 CSV 文件，其中包含设计中的每个元件。元件按值、封装、DNP（不使用）和命令行中指定的任何额外字段分组。要指定额外的字段，在命令行的末尾添加所需的字段名作为引号字符串。例如，要包括 <code>MPN</code> 字段，命令行的结尾应该是 <code>&lt;脚本路径&gt;/bom_csv_grouped_extra.py "%I" "O.csv" "MPN"</code>。BOM 中的列是：</p>
<div class="ulist">
<ul>
<li>
<p>项目编号</p>
</li>
<li>
<p>位号</p>
</li>
<li>
<p>数量</p>
</li>
<li>
<p>值</p>
</li>
<li>
<p>封装</p>
</li>
<li>
<p>DNP</p>
</li>
<li>
<p>指定的额外字段</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>bom_csv_grouped_by_value</code> 输出一个有两个部分的 CSV。第一部分包含了设计中的每个元件，每行都有一个元件。 第二部分也包含每个元件，但元件是按符号名称、值、封装和 DNP（不使用）分组的。BOM 中的列是：</p>
<div class="ulist">
<ul>
<li>
<p>项目编号</p>
</li>
<li>
<p>数量</p>
</li>
<li>
<p>位号</p>
</li>
<li>
<p>值</p>
</li>
<li>
<p>符号库和符号名称</p>
</li>
<li>
<p>封装</p>
</li>
<li>
<p>数据手册</p>
</li>
<li>
<p>DNP</p>
</li>
<li>
<p>任何其他符号字段</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>bom_csv_grouped_by_value_with_fp</code> 输出一个 CSV，其中有一个单独的部分，包含设计中的每个元件。元件按值、封装和 DNP（不使用）进行分组。BOM 中的列是：</p>
<div class="ulist">
<ul>
<li>
<p>位号</p>
</li>
<li>
<p>数量</p>
</li>
<li>
<p>值</p>
</li>
<li>
<p>符号名称</p>
</li>
<li>
<p>封装</p>
</li>
<li>
<p>符号描述</p>
</li>
<li>
<p>供应商</p>
</li>
<li>
<p>DNP</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>额外的生成器脚本与 KiCad 一起安装，但默认情况下不会在生成器脚本列表中填入。这些脚本的位置取决于操作系统，并可能根据安装位置而有所不同。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">运行系统</th>
<th class="tableblock halign-left valign-top">位置</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C:\Program Files\KiCad\6.0\bin\scripting\plugins\</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Linux</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/usr/share/kicad/plugins/</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">macOS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/Applications/KiCad/KiCad.app/Contents/SharedSupport/plugins/</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>通过点击 <span class="image"><img src="images/icons/small_plus_16.png" alt="加号图标"></span> 按钮，可以在 BOM 生成器脚本列表中添加其他脚本。点击 <span class="image"><img src="images/icons/small_trash_16.png" alt="删除图标"></span> 按钮，可以删除脚本。<span class="image"><img src="images/icons/small_edit_16.png" alt="编辑图标"></span> 按钮在文本编辑器中打开所选的脚本。</p>
</div>
<div class="paragraph">
<p>关于创建和使用自定义 BOM 生成器的更多信息，请参见 《自定义网表和 BOM 格式， 高级文档》。</p>
</div>
</div>
<div class="sect3">
<h4 id="_生成_bom_的其他方法">7.3.2. 生成 BOM 的其他方法</h4>
<div class="paragraph">
<p>KiCad 提供了几种额外的方法来生成 BOM，尽管推荐使用 BOM 工具。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>《符号字段表，符号字段表》可以导出一个 CSV，可以作为 BOM 使用。这个选项包括所有的符号信息，但对输出的控制有限。</p>
</li>
<li>
<p>PCB 编辑器可以通过 <strong>文件</strong> &#8594; <strong>制造输出</strong> &#8594; <strong>BOM&#8230;&#8203;</strong> 输出 BOM。这种方法不提供对输出格式的控制，也不包括所有符号信息。</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="netlist-export">7.4. 生成网表</h3>
<div class="paragraph">
<p>网表是一个描述符号引脚之间电气连接的文件。 这些连接被称为网路。网表文件包含：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>符号和它们的引脚的列表。</p>
</li>
<li>
<p>符号引脚之间的连接（网络）列表。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>存在许多不同的网表格式。有时符号表和网表是两个独立的文件。这个网表是使用原理图设计软件的基础，因为网表是与其他电子 CAD 软件，如 PCB 布局软件、仿真器和可编程逻辑编译器的联系。</p>
</div>
<div class="paragraph">
<p>KiCad 支持几种网表格式：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>KiCad 格式，可由 KiCad PCB 编辑器导入。然而，应该使用 《eeschema_schematic_to_pcb.adoc#原理图到 PCB， "从原理图更新 PCB"》 工具而不是将 KiCad 网表导入 PCB 编辑器。</p>
</li>
<li>
<p>OrCAD PCB2 格式，用于用 OrCAD 设计 PCB。</p>
</li>
<li>
<p>CADSTAR 格式，用于用 CADSTAR 设计 PCB。</p>
</li>
<li>
<p>Spice 格式，用于各种外部电路仿真器。</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
在 KiCad 5.0 及以后的版本中，将设计从原理图编辑器转移到 PCB 编辑器时，没有必要创建网表。相反，使用 《eeschema_schematic_to_pcb.adoc#schematic-to-pcb， "根据原理图更新PCB"》工具。
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
其他使用网表的软件工具可能对元件名称中的空格和特殊字符有限制。在元件名称、引脚、网络和其他字段中的空格和特殊字符的限制。为了 兼容性，请注意你计划使用的其他工具中的这种限制，并相应地命名元件、网络等。
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="netlist-formats">7.4.1. 网表格式</h4>
<div class="paragraph">
<p>网表是通过导出网表对话框（<strong>文件</strong> &#8594; <strong>导出</strong> &#8594; <strong>网表&#8230;&#8203;</strong>）导出的。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_netlist_dialog_kicad.png" alt="KiCad 网表导出">
</div>
</div>
<div class="paragraph">
<p>KiCad 支持以多种格式导出网表。KiCad、OrcadPCB2、CADSTAR、Spice 和 Spice Model。每种格式都可以通过选择窗口顶部的相应标签来选择。一些网表格式有额外的选项。</p>
</div>
<div class="paragraph">
<p>点击 <strong>导出网表</strong> 按钮，会提示输入网表文件名并保存网表。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
对于大型原理图，网表的生成可能需要数分钟。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>其他网表格式的自定义生成器可以通过点击 <strong>添加生成器&#8230;&#8203;</strong> 按钮添加。自定义生成器是由 KiCad 调用的外部工具，例如 Python 脚本或 XSLT 样式表。关于自定义网表生成器的更多信息，请参见《自定义网表和 BOM 格式，添加自定义网表生成器》部分。</p>
</div>
<div class="sect4">
<h5 id="_spice_网表格式">Spice 网表格式</h5>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_netlist_dialog_spice.png" alt="Spice 网表导出">
</div>
</div>
<div class="paragraph">
<p>Spice 网表格式提供了几个选项。</p>
</div>
<div class="paragraph">
<p>当选择 <strong>使用当前页面作为根页面</strong> 时，只有当前页面被导出到子电路模型中。否则，整个原理图页面将被导出。</p>
</div>
<div class="paragraph">
<p><strong>保存所有电压</strong> 选项为网表添加了一个 <code>.save all</code> 命令，这使得模拟器保存所有节点的电压。<strong>保存所有电流</strong> 选项在网表中增加了一个 <code>.probe all</code> 命令，使模拟器保存所有节点的电流。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
确切的行为在不同的仿真工具之间可能有所不同。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>无源符号值会自动调整，以便与各种 Spice 仿真器兼容。具体而言：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&mu;</code> 和 <code>M</code> 作为单位前缀，分别被替换成 <code>u</code> 和 <code>Meg</code></p>
</li>
<li>
<p>单位被删除（例如，<code>4.7k&ohm;</code> 被改为 <code>4.7k</code>）</p>
</li>
<li>
<p>RKM 格式的数值被改写为与 Spice 兼容（例如，<code>4u7</code> 被改成 <code>4.7u</code>）</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Spice 网表导出器还提供了一种简单的方法，可以用外部仿真器对生成的网表进行仿真。这对于在不使用 《仿真器，KiCad 的内部 ngspice 仿真器》的情况下运行仿真，或者使用 KiCad 的仿真器工具不支持的选项运行 ngspice 仿真是很有用的。</p>
</div>
<div class="paragraph">
<p>在文本框中输入外部模拟器的路径，其中 <code>%I</code> 代表生成的网表。点击 <strong>创建网表和运行仿真器命令</strong> 按钮，生成网表并自动运行仿真器。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
默认的仿真器命令（<code>spice "%I"</code>）必须调整为指向你系统上安装的仿真器。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Spice 仿真器希望仿真命令（<code>.PROBE</code>， <code>.AC</code>， <code>.TRAN`等）包含在网表中。原理图中包含的任何以句号（</code>.`）开始的文本行都将被包含在网表中。如果一个文本对象包含多行，只有以句号开头的行将被包括在内。</p>
</div>
<div class="paragraph">
<p>根据原理图中符号的 Spice 模型设置，用于包括模型库文件的 <code>.include</code> 指令被自动添加到网表。</p>
</div>
</div>
<div class="sect4">
<h5 id="_spice_模型网表格式">Spice 模型网表格式</h5>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_netlist_dialog_spice_model.png" alt="Spice 网表导出">
</div>
</div>
<div class="paragraph">
<p>KiCad 还可以将原理图的网表导出为 Spice 子电路模型，这可以包含在一个单独的 Spice 仿真中。原理图中的任何层次标签都被用作子电路模型的引脚。模型中的每个引脚都有批注，描述该引脚的电气方向：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>输入</code> 的层次标签被映射到一个 <code>输入</code> 的批注上</p>
</li>
<li>
<p><code>输出</code> 的层次化标签被映射到 <code>输出</code> 批注上</p>
</li>
<li>
<p><code>双向</code> 层次标签被映射到 <code>输入输出</code> 批注上</p>
</li>
<li>
<p><code>三态</code> 的层次标签被映射到 <code>三态</code> 批注上</p>
</li>
<li>
<p><code>被动</code> 层次标签被映射到 <code>被动</code> 批注上</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>当选择 <strong>使用当前页面作为根页面</strong> 时，只有当前页面被导出到子电路模型中。否则，整个原理图页面将被导出。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="netlist-examples">7.4.2. 网表示例</h4>
<div class="paragraph">
<p>下面是 KiCad 模拟演示中的 <code>sallen_key</code> 工程的原理图。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_netlist_schematic.png" alt="sallen_key 演示原理图">
</div>
</div>
<div class="paragraph">
<p>该原理图的 KiCad 格式网表如下：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(export (version "E")
  (design
    (source "/usr/share/kicad/demos/simulation/sallen_key/sallen_key.kicad_sch")
    (date "Sun 01 May 2022 03:14:05 PM EDT")
    (tool "Eeschema (6.0.4)")
    (sheet (number "1") (name "/") (tstamps "/")
      (title_block
        (title)
        (company)
        (rev)
        (date)
        (source "sallen_key.kicad_sch")
        (comment (number "1") (value ""))
        (comment (number "2") (value ""))
        (comment (number "3") (value ""))
        (comment (number "4") (value ""))
        (comment (number "5") (value ""))
        (comment (number "6") (value ""))
        (comment (number "7") (value ""))
        (comment (number "8") (value ""))
        (comment (number "9") (value "")))))
  (components
    (comp (ref "C1")
      (value "100n")
      (libsource (lib "sallen_key_schlib") (part "C") (description ""))
      (property (name "Sheetname") (value ""))
      (property (name "Sheetfile") (value "sallen_key.kicad_sch"))
      (sheetpath (names "/") (tstamps "/"))
      (tstamps "00000000-0000-0000-0000-00005789077d"))
    (comp (ref "C2")
      (value "100n")
      (fields
        (field (name "Fieldname") "Value")
        (field (name "SpiceMapping") "1 2")
        (field (name "Spice_Primitive") "C"))
      (libsource (lib "sallen_key_schlib") (part "C") (description ""))
      (property (name "Fieldname") (value "Value"))
      (property (name "Spice_Primitive") (value "C"))
      (property (name "SpiceMapping") (value "1 2"))
      (property (name "Sheetname") (value ""))
      (property (name "Sheetfile") (value "sallen_key.kicad_sch"))
      (sheetpath (names "/") (tstamps "/"))
      (tstamps "00000000-0000-0000-0000-00005789085b"))
    (comp (ref "R1")
      (value "1k")
      (fields
        (field (name "Fieldname") "Value")
        (field (name "SpiceMapping") "1 2")
        (field (name "Spice_Primitive") "R"))
      (libsource (lib "sallen_key_schlib") (part "R") (description ""))
      (property (name "Fieldname") (value "Value"))
      (property (name "SpiceMapping") (value "1 2"))
      (property (name "Spice_Primitive") (value "R"))
      (property (name "Sheetname") (value ""))
      (property (name "Sheetfile") (value "sallen_key.kicad_sch"))
      (sheetpath (names "/") (tstamps "/"))
      (tstamps "00000000-0000-0000-0000-0000578906ff"))
    (comp (ref "R2")
      (value "1k")
      (fields
        (field (name "Fieldname") "Value")
        (field (name "SpiceMapping") "1 2")
        (field (name "Spice_Primitive") "R"))
      (libsource (lib "sallen_key_schlib") (part "R") (description ""))
      (property (name "Fieldname") (value "Value"))
      (property (name "SpiceMapping") (value "1 2"))
      (property (name "Spice_Primitive") (value "R"))
      (property (name "Sheetname") (value ""))
      (property (name "Sheetfile") (value "sallen_key.kicad_sch"))
      (sheetpath (names "/") (tstamps "/"))
      (tstamps "00000000-0000-0000-0000-000057890691"))
    (comp (ref "U1")
      (value "AD8051")
      (fields
        (field (name "Spice_Lib_File") "ad8051.lib")
        (field (name "Spice_Model") "AD8051")
        (field (name "Spice_Netlist_Enabled") "Y")
        (field (name "Spice_Primitive") "X"))
      (libsource (lib "sallen_key_schlib") (part "Generic_Opamp") (description ""))
      (property (name "Spice_Primitive") (value "X"))
      (property (name "Spice_Model") (value "AD8051"))
      (property (name "Spice_Lib_File") (value "ad8051.lib"))
      (property (name "Spice_Netlist_Enabled") (value "Y"))
      (property (name "Sheetname") (value ""))
      (property (name "Sheetfile") (value "sallen_key.kicad_sch"))
      (sheetpath (names "/") (tstamps "/"))
      (tstamps "00000000-0000-0000-0000-00005788ff9f"))
    (comp (ref "V1")
      (value "AC 1")
      (libsource (lib "sallen_key_schlib") (part "VSOURCE") (description ""))
      (property (name "Sheetname") (value ""))
      (property (name "Sheetfile") (value "sallen_key.kicad_sch"))
      (sheetpath (names "/") (tstamps "/"))
      (tstamps "00000000-0000-0000-0000-000057336052"))
    (comp (ref "V2")
      (value "DC 10")
      (fields
        (field (name "Fieldname") "Value")
        (field (name "Spice_Node_Sequence") "1 2")
        (field (name "Spice_Primitive") "V"))
      (libsource (lib "sallen_key_schlib") (part "VSOURCE") (description ""))
      (property (name "Fieldname") (value "Value"))
      (property (name "Spice_Primitive") (value "V"))
      (property (name "Spice_Node_Sequence") (value "1 2"))
      (property (name "Sheetname") (value ""))
      (property (name "Sheetfile") (value "sallen_key.kicad_sch"))
      (sheetpath (names "/") (tstamps "/"))
      (tstamps "00000000-0000-0000-0000-0000578900ba"))
    (comp (ref "V3")
      (value "DC 10")
      (fields
        (field (name "Fieldname") "Value")
        (field (name "Spice_Node_Sequence") "1 2")
        (field (name "Spice_Primitive") "V"))
      (libsource (lib "sallen_key_schlib") (part "VSOURCE") (description ""))
      (property (name "Fieldname") (value "Value"))
      (property (name "Spice_Primitive") (value "V"))
      (property (name "Spice_Node_Sequence") (value "1 2"))
      (property (name "Sheetname") (value ""))
      (property (name "Sheetfile") (value "sallen_key.kicad_sch"))
      (sheetpath (names "/") (tstamps "/"))
      (tstamps "00000000-0000-0000-0000-000057890232")))
  (libparts
    (libpart (lib "sallen_key_schlib") (part "C")
      (footprints
        (fp "C?")
        (fp "C_????_*")
        (fp "C_????")
        (fp "SMD*_c")
        (fp "Capacitor*"))
      (fields
        (field (name "Reference") "C")
        (field (name "Value") "C"))
      (pins
        (pin (num "1") (name "") (type "passive"))
        (pin (num "2") (name "") (type "passive"))))
    (libpart (lib "sallen_key_schlib") (part "Generic_Opamp")
      (fields
        (field (name "Reference") "U")
        (field (name "Value") "Generic_Opamp"))
      (pins
        (pin (num "1") (name "+") (type "input"))
        (pin (num "2") (name "-") (type "input"))
        (pin (num "3") (name "V+") (type "power_in"))
        (pin (num "4") (name "V-") (type "power_in"))
        (pin (num "5") (name "") (type "output"))))
    (libpart (lib "sallen_key_schlib") (part "R")
      (footprints
        (fp "R_*")
        (fp "Resistor_*"))
      (fields
        (field (name "Reference") "R")
        (field (name "Value") "R"))
      (pins
        (pin (num "1") (name "") (type "passive"))
        (pin (num "2") (name "") (type "passive"))))
    (libpart (lib "sallen_key_schlib") (part "VSOURCE")
      (fields
        (field (name "Reference") "V")
        (field (name "Value") "VSOURCE")
        (field (name "Fieldname") "Value")
        (field (name "Spice_Primitive") "V")
        (field (name "Spice_Node_Sequence") "1 2"))
      (pins
        (pin (num "1") (name "") (type "input"))
        (pin (num "2") (name "") (type "input")))))
  (libraries
    (library (logical "sallen_key_schlib")
      (uri "/usr/share/kicad/demos/simulation/sallen_key/sallen_key_schlib.kicad_sym")))
  (nets
    (net (code "1") (name "/lowpass")
      (node (ref "C1") (pin "1") (pintype "passive"))
      (node (ref "U1") (pin "2") (pinfunction "-") (pintype "input"))
      (node (ref "U1") (pin "5") (pintype "output")))
    (net (code "2") (name "GND")
      (node (ref "C2") (pin "2") (pintype "passive"))
      (node (ref "V1") (pin "2") (pintype "input"))
      (node (ref "V2") (pin "2") (pintype "input"))
      (node (ref "V3") (pin "1") (pintype "input")))
    (net (code "3") (name "Net-(C1-Pad2)")
      (node (ref "C1") (pin "2") (pintype "passive"))
      (node (ref "R1") (pin "1") (pintype "passive"))
      (node (ref "R2") (pin "2") (pintype "passive")))
    (net (code "4") (name "Net-(C2-Pad1)")
      (node (ref "C2") (pin "1") (pintype "passive"))
      (node (ref "R2") (pin "1") (pintype "passive"))
      (node (ref "U1") (pin "1") (pinfunction "+") (pintype "input")))
    (net (code "5") (name "Net-(R1-Pad2)")
      (node (ref "R1") (pin "2") (pintype "passive"))
      (node (ref "V1") (pin "1") (pintype "input")))
    (net (code "6") (name "VDD")
      (node (ref "U1") (pin "3") (pinfunction "V+") (pintype "power_in"))
      (node (ref "V2") (pin "1") (pintype "input")))
    (net (code "7") (name "VSS")
      (node (ref "U1") (pin "4") (pinfunction "V-") (pintype "power_in"))
      (node (ref "V3") (pin "2") (pintype "input")))))</pre>
</div>
</div>
<div class="paragraph">
<p>在 Spice 格式中，网表如下：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>.title KiCad schematic
.include "ad8051.lib"
XU1 Net-_C2-Pad1_ /lowpass VDD VSS /lowpass AD8051
C2 Net-_C2-Pad1_ GND 100n
C1 /lowpass Net-_C1-Pad2_ 100n
R2 Net-_C2-Pad1_ Net-_C1-Pad2_ 1k
R1 Net-_C1-Pad2_ Net-_R1-Pad2_ 1k
V1 Net-_R1-Pad2_ GND AC 1
V2 VDD GND DC 10
V3 GND VSS DC 10
.ac dec 10 1 1Meg
.end</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="symbols-and-symbol-libraries">8. 符号和符号库</h2>
<div class="sectionbody">
<div class="paragraph">
<p>KiCad 将符号组织到符号库中，而符号库中则保存着符号的集合。原理图中的每个符号都由一个全称来唯一标识，该全称由库的名称和符号名称组成。例如，标识符 <code>Audio:AD1853</code> 是指 <code>Audio</code> 库中的 <code>AD1853</code> 符号。</p>
</div>
<div class="sect2">
<h3 id="managing-symbol-libraries">8.1. 管理符号库</h3>
<div class="paragraph">
<p>KiCad 使用一个符号库表将符号库名称映射到磁盘上的底层符号库。 KiCad 使用一个全局的符号库表，以及一个针对每个工程的表。要编辑任何一个符号库表，请使用 <strong>偏好设置</strong> &#8594; <strong>管理符号库&#8230;&#8203;</strong>。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/options_symbol_lib.png" alt="符号库列表对话框">
</div>
</div>
<div class="paragraph">
<p>全局符号库表包含了无论当前加载的工程是什么，都可以使用的库列表。该表保存在 KiCad 配置文件夹下的 <code>sym-lib-table</code> 文件中。<a href="./kicad/kicad.html#config-file-location">该文件夹的位置</a> 取决于使用的操作系统。</p>
</div>
<div class="paragraph">
<p>工程专用的符号库表包含了专门为当前加载的工程提供的库的列表。如果有任何工程专用的符号库，该表将保存在工程文件夹下的 `sym-lib-table `文件中。</p>
</div>
<div class="sect3">
<h4 id="_初始配置">8.1.1. 初始配置</h4>
<div class="paragraph">
<p>第一次运行 KiCad 原理图编辑器时，如果在 KiCad 配置文件夹中没有找到全局符号表文件 <code>sym-lib-table</code>，KiCad 将引导用户设置一个新的符号库表。这个过程将在《初始配置》中描述。</p>
</div>
</div>
<div class="sect3">
<h4 id="_管理列表条目">8.1.2. 管理列表条目</h4>
<div class="paragraph">
<p>符号库只有在它们被添加到全局或工程专用的符号库表中时才能使用。</p>
</div>
<div class="paragraph">
<p>通过点击 <span class="image"><img src="images/icons/small_folder_16.png" alt="文件夹图标"></span> 按钮并选择一个库或点击 <span class="image"><img src="images/icons/small_plus_16.png" alt="加号图标"></span> 按钮并输入库文件的路径来添加一个库。选定的库将被添加到当前打开的库表中（全局或特定工程）。可以通过选择所需的库条目并点击 <span class="image"><img src="images/icons/small_trash_16.png" alt="删除图标"></span> 按钮来删除库。</p>
</div>
<div class="paragraph">
<p>这个 <span class="image"><img src="images/icons/small_up_16.png" alt="向上图标"></span> 和 <span class="image"><img src="images/icons/small_down_16.png" alt="向下图标"></span> 按钮在库表中上下移动所选库。这并不影响符号库浏览器、符号编辑器或添加符号工具中库的显示顺序。</p>
</div>
<div class="paragraph">
<p>通过取消第一列中的 <strong>活动</strong> 复选框，可以使库不活动。不活动的库仍然在库表中，但不会出现在任何库的浏览器中，也不会从磁盘加载，这可以减少加载时间。</p>
</div>
<div class="paragraph">
<p>通过点击范围内的第一个库，然后 <kbd>Shift</kbd> - 点击范围内的最后一个库，就可以选择一个库的范围。</p>
</div>
<div class="paragraph">
<p>每个库必须有一个独特的昵称：在同一个表中不允许有重复的库昵称。然而，昵称可以在全局和工程库表中重复。工程表中的库比全局表中的同名库更有优先权。</p>
</div>
<div class="paragraph">
<p>库的昵称不一定要与库的文件名或路径有关。冒号字符（<code>:</code>）不能在库的昵称或符号名称中使用，因为它被用作昵称和符号之间的分隔符。</p>
</div>
<div class="paragraph">
<p>每个库条目必须有一个有效的路径。路径可以定义为绝对的、相对的，或者通过《环境变量替换,环境变量替换》来定义。</p>
</div>
<div class="paragraph">
<p>必须选择适当的库格式，以便正确读取库。"KiCad" 格式用于 KiCad 6+ 版库（<code>.kicad_sym</code> 文件），而 "Legacy" 格式用于 KiCad 旧版本的库（<code>.lib</code> 文件）。遗留库是只读的，但可以通过 <strong>迁移库</strong> 按钮迁移到 KiCad 格式的库（见《迁移库，迁移遗留库》一节）。</p>
</div>
<div class="paragraph">
<p>有一个可选的描述字段，用于添加库条目的描述。选项字段目前不使用，所以添加选项在加载库时不会有任何影响。</p>
</div>
</div>
<div class="sect3">
<h4 id="environment-variable-substitution">8.1.3. 环境变量的替代</h4>
<div class="paragraph">
<p>符号库表支持环境变量的替换，这允许你定义包含自定义路径的环境变量来存储你的库。通过在符号库路径中使用 <code>${ENV_VAR_NAME}</code> 的语法，支持环境变量的替换。</p>
</div>
<div class="paragraph">
<p>默认情况下，KiCad 定义了几个环境变量，这些变量在 <a href="../kicad/kicad.html#kicad-environment-variables">工程管理文档</a> 中描述。环境变量可以在 <strong>偏好设置</strong> &#8594; <strong>配置路径&#8230;&#8203;</strong> 对话框中进行配置。</p>
</div>
<div class="paragraph">
<p>在符号库表中使用环境变量，可以在不破坏符号库表的情况下重新定位库，只要在库的位置改变时更新环境变量即可。</p>
</div>
<div class="paragraph">
<p><code>${KIPRJMOD}</code> 是一个特殊的环境变量，总是展开为当前工程目录的绝对路径。<code>${KIPRJMOD}</code> 允许将库存储在工程文件夹中，而不必在工程库表中使用绝对路径。这使得重新定位工程而不破坏其工程库表成为可能。</p>
</div>
</div>
<div class="sect3">
<h4 id="_使用模式">8.1.4. 使用模式</h4>
<div class="paragraph">
<p>符号库可以全局定义，也可以专门为当前加载的项目定义。在用户的全局表中定义的符号库总是可用的，并存储在用户的 KiCad 配置文件夹中的 <code>sym-lib-table</code> 文件中。工程专用的符号库表只对当前打开的工程文件有效。</p>
</div>
<div class="paragraph">
<p>每种方法都有其优点和缺点。在全局表中定义所有的库意味着它们在需要时总是可用的。这样做的缺点是，加载时间会增加。</p>
</div>
<div class="paragraph">
<p>在工程的基础上定义所有的符号库，意味着你只有工程所需的库，这减少了符号库的加载时间。缺点是你总是要记住添加每个工程所需的每个符号库。</p>
</div>
<div class="paragraph">
<p>一种使用模式是在全局范围内定义常用的库，并在工程专用的库表中定义工程所需的库。对于如何定义库没有任何限制。</p>
</div>
</div>
<div class="sect3">
<h4 id="migrating-libraries">8.1.5. 迁移遗留库</h4>
<div class="paragraph">
<p>遗留库（<code>.lib</code> 文件）是只读的，但它们可以被迁移到 KiCad 6 版库（<code>.kicad_sym</code>）。6.0.0 以上的 KiCad 版本不能查看或编辑 KiCad 6 版本的库。</p>
</div>
<div class="paragraph">
<p>通过在符号库表中选择传统库并点击 <strong>迁移库</strong> 按钮，可以将其转换为 KiCad 6 库。通过 <kbd>Ctrl</kbd> - 点击或 <kbd>shift</kbd> -点击，可以一次选择和迁移多个库。</p>
</div>
<div class="paragraph">
<p>库也可以通过在符号编辑器中打开它们并将其保存为一个新的库来一次转换。</p>
</div>
</div>
<div class="sect3">
<h4 id="_遗留工程重新映射">8.1.6. 遗留工程重新映射</h4>
<div class="paragraph">
<p>当加载一个在符号库表实施之前创建的原理图时，KiCad 会尝试将原理图中的符号库链接重新映射到适当的库表符号。 这个过程的成功与否取决于几个因素：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>原理图中使用的原始库仍然可用，并且与符号被添加到原理图中时相比没有变化。</p>
</li>
<li>
<p>所有恢复操作都是在检测到创建恢复库或保持现有恢复库最新时进行的。</p>
</li>
<li>
<p>工程符号缓存库的完整性没有被破坏。</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>重新映射将在工程文件夹中的 <code>rescue-backup</code> 文件夹中备份所有在重新映射期间被改变的文件。 在重新映射之前，一定要对你的工程做一个备份，以防出错。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>即使恢复操作已被禁用，也会被执行，以确保正确的符号可用于重新映射。 不要取消这个操作，否则重新映射将不能正确地重新映射原理图符号。 任何错误的符号链接将不得不手动修复。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>如果原来的库已经被删除，并且没有进行恢复，作为最后的手段，缓存库可以作为恢复库使用。将缓存库复制到一个新的文件名，并使用符号库表实现之前的 KiCad 版本将新的库文件添加到库列表的顶部。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-and-editing-symbols">8.2. 创建和编辑符号</h3>
<div class="sect3">
<h4 id="_符号和符号库的概述">8.2.1. 符号和符号库的概述</h4>
<div class="paragraph">
<p>符号是一个元件的原理图。一个符号由以下部分组成：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>图形项目（直线、圆形、圆弧、文字等），决定了符号在原理图中的样子。</p>
</li>
<li>
<p>引脚，具有图形属性（直线、时钟、反相、低电平有效等）和电气属性（输入、输出、双向等），由电气规则检查（ERC）工具使用。</p>
</li>
<li>
<p>字段，如位号、值、PCB 设计的对应封装名称等。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>符号库是由一个或多个符号组成的。一般来说，这些符号按功能、类型和/或制造商进行逻辑分组。</p>
</div>
<div class="paragraph">
<p>符号可以从同一库中的另一个符号衍生出来。派生符号共享基础符号的图形形状和引脚定义，但可以覆盖基础符号的属性字段（值、封装、封装筛选器、数据手册、描述等）。派生符号可用于定义与基本部件相似的符号。例如，74LS00、74HC00 和 7437 符号都可以从 7400 符号衍生出来。在以前的 KiCad 版本中，派生符号被称为别名。</p>
</div>
</div>
<div class="sect3">
<h4 id="_符号编辑器概述">8.2.2. 符号编辑器概述</h4>
<div class="paragraph">
<p>KiCad 提供了一个符号编辑工具，允许你创建库，在库之间添加、删除或转移符号，将符号导出到文件，并从文件中导入符号。</p>
</div>
<div class="paragraph">
<p>一般来说，设计一个符号的流程包括：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>定义符号是否由一个或多个单元组成。</p>
</li>
<li>
<p>定义符号是否有替代的主体风格（也称为德摩根代号）。</p>
</li>
<li>
<p>使用直线、矩形、圆形、多边形和文字设计其符号表示。</p>
</li>
<li>
<p>通过仔细定义每个引脚的图形元素、名称、编号和电气属性（输入、输出、三态、电源输出等）来添加引脚。</p>
</li>
<li>
<p>确定该符号是否应从另一个具有相同图形设计和引脚定义的符号中衍生出来。</p>
</li>
<li>
<p>添加可选的字段，如 PCB 设计软件使用的封装名称和/或定义其可见性。</p>
</li>
<li>
<p>通过添加描述字符串和数据手册链接来记录该符号，等等。</p>
</li>
<li>
<p>将其保存在所需的库中。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>符号编辑器的主窗口如下所示。它包括三个用于快速访问常用功能的工具条和一个符号查看/编辑区。 不是所有的命令都可以在工具栏上使用，但所有的命令都可以在菜单中使用。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/libedit_main_window.png" alt="符号编辑器主窗口">
</div>
</div>
<div class="sect4">
<h5 id="_主工具栏">主工具栏</h5>
<div class="paragraph">
<p>主工具条位于主窗口的顶部。它有撤销/重做命令、缩放命令、符号属性对话框和单位/代表管理控制等按钮。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/new_component_24.png" alt="新建符号图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在选定的库中创建一个新的符号。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/save_24.png" alt="保存图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">保存当前选定的库。库中所有修改过的符号都将被保存。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/undo_24.png" alt="撤消图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">撤销上次的编辑。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/redo_24.png" alt="重做图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">重做最后一次撤消。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/refresh_24.png" alt="刷新图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">刷新显示。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/zoom_in_24.png" alt="放大图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">放大。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/zoom_out_24.png" alt="缩小图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">缩小。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/zoom_fit_in_page_24.png" alt="放大到适合页面的图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">放大到适合显示的符号。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/zoom_area_24.png" alt="放大到选择图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">放大到适合选择。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/rotate_ccw_24.png" alt="逆时针旋转图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">逆时针旋转。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/rotate_cw_24.png" alt="顺时针旋转图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">顺时针旋转。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/mirror_h_24.png" alt="水平镜像图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">水平镜像。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/mirror_v_24.png" alt="垂直镜像图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">垂直镜像。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/part_properties_24.png" alt="符号属性图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">编辑当前的符号属性。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/pin_table_24.png" alt="引脚表图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在一个表格界面中编辑符号的引脚。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/datasheet_24.png" alt="数据手册图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">打开符号的数据手册，如果它被定义的话。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/erc_24.png" alt="ERC图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">测试当前符号是否有设计错误。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/morgan1_24.png" alt="普通主体样式图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择正常的主体风格。如果当前符号没有备选的主体样式，该按钮将被禁用。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/morgan2_24.png" alt="备用主体样式图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择备用的主体风格。如果当前的符号没有备用的主体风格，该按钮将被禁用。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/symbol_editor_unit_selector.png" alt="单元下拉" width="80%"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择要显示的多单元符号的单位。如果当前的符号不是来自于多单元的符号，则下拉控件将被禁用。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/pin2pin_24.png" alt="同步引脚编辑模式图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">启用同步引脚编辑模式。启用该模式后，任何引脚的修改都会传播到所有其他符号单元。引脚编号的变化不会被传播。这种模式对有多个可互换单元的符号自动启用，对只有一个单元的符号不能启用。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_元素工具栏">元素工具栏</h5>
<div class="paragraph">
<p>位于主窗口右侧的垂直工具条允许你放置设计一个符号所需的所有元素。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/cursor_24.png" alt="游标图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择工具。用选择工具右键单击可以打开光标下的对象的上下文菜单。用选择工具左键单击，在主窗口底部的信息面板中显示光标下的对象的属性。用选择工具左键双击将打开光标下对象的属性对话框。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/pin_24.png" alt="引脚图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">引脚工具。左键点击可以添加一个新的引脚。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/text_24.png" alt="文字图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">图形文字工具。左键单击以添加一个新的图形文本项目。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_rectangle_24.png" alt="添加矩形图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">矩形工具。左键单击开始绘制图形矩形的第一个角。再次左键单击以放置矩形的另一个角。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_circle_24.png" alt="添加圆形图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">圆形工具。左键单击，开始从中心绘制一个新的圆形。再次左键单击来定义圆的半径。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_arc_24.png" alt="添加弧形图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">弧形工具。左键单击，从第一个弧形端点开始绘制一个新的图形弧项目。再次左键单击以定义第二个弧形端点。通过拖动弧形中心点来调整半径。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_line_24.png" alt="添加直线图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">连接线工具。左键单击开始在当前符号中绘制一个新的图形线项。每增加一条连接线都要左击。双击左键来完成该线。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/anchor_24.png" alt="锚点图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">锚点工具。左键单击以设置符号的锚定位置。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/delete_cursor_24.png" alt="删除图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">删除工具。左键单击，从当前符号中删除一个对象。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_选项工具栏">选项工具栏</h5>
<div class="paragraph">
<p>位于主窗口左侧的垂直工具条允许你设置一些编辑器的绘图选项。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/grid_24.png" alt="网格图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">切换网格的可见性和关闭。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/unit_inch_24.png" alt="英寸单位图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">设置单位为英寸。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/unit_mil_24.png" alt="毫米单位图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">设置单位为密尔（0.001英寸）。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/unit_mm_24.png" alt="毫米单位图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">设置单位为毫米。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/cursor_shape_24.png" alt="光标形状图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">切换全屏光标的开启和关闭。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/pin_show_etype_24.png" alt="显示引脚类型图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">切换显示引脚的电气类型。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/search_tree_24.png" alt="符号工作区图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">切换显示库和符号工作区。</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_将符号保存到库中">8.2.3. 将符号保存到库中</h4>
<div class="paragraph">
<p>这个 <span class="image"><img src="images/icons/search_tree_24.png" alt="符号工作区图标"></span> 按钮显示或隐藏可用库的列表，可以选择一个活动库。当一个符号被保存时，它将被放在这个库中。</p>
</div>
<div class="paragraph">
<p>点击左侧工具栏上的 <span class="image"><img src="images/icons/search_tree_24.png" alt="符号工作区图标"></span> 图标，可以切换库和符号的树状视图。点击一个符号就可以打开该符号。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
有些符号是由其他符号衍生出来的。派生的符号名称在树状图中以 <em>大写字母</em> 显示。如果一个派生符号被打开，它的符号图形将不能被编辑。它的符号字段将可以正常编辑。要编辑一个基本符号及其所有衍生符号的图形，请打开基本符号。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>修改后的符号可以保存在当前库或不同的库中。</p>
</div>
<div class="paragraph">
<p>要在当前库中保存修改后的符号，请点击 <span class="image"><img src="images/icons/save_24.png" alt="保存图标"></span> 图标。修改的内容将被写入现有的符号中。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
保存一个修改过的符号也会保存同一库中所有其他修改过的符号。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>要把符号的变化保存为一个新的符号，请点击 <strong>文件</strong> &#8594; <strong>另存为&#8230;&#8203;</strong>。 符号可以保存在当前库或不同的库中。可以为该符号设置一个新的名称。</p>
</div>
<div class="paragraph">
<p>要创建一个只包含当前符号的新文件，请点击 <strong>文件</strong> &#8594; <strong>导出</strong> &#8594; <strong>符号&#8230;&#8203;</strong>。这个文件将是一个标准库文件，只包含一个符号。</p>
</div>
</div>
<div class="sect3">
<h4 id="_创建符号">8.2.4. 创建符号</h4>
<div class="sect4">
<h5 id="_创建一个新符号">创建一个新符号</h5>
<div class="paragraph">
<p>点击 <span class="image"><img src="images/icons/new_component_24.png" alt="新建符号图标"></span> 图标就可以创建一个新的符号。 你会被要求提供一些符号的属性。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>符号名称</p>
</li>
<li>
<p>一个可选的基础符号，用于派生新的符号。新符号将使用基础符号的图形形状和引脚配置，但其他符号信息可以在派生符号中修改。基础符号必须与新派生符号在同一个库中。</p>
</li>
<li>
<p>位号前缀（<code>U</code>, <code>C</code>, <code>R</code>）。</p>
</li>
<li>
<p>每个封装的单元数，以及这些单元是否可以互换（例如，一个 7400 四路 NAND 符号可以有 4 个单元，每个门一个）。</p>
</li>
<li>
<p>如果需要另一种主体样式（有时被称为 "德-摩根等价"）。</p>
</li>
<li>
<p>该符号是否为电源符号。电源符号出现在原理图编辑器的 <strong>添加电源符号</strong> 对话框中，它们的 "值" 字段在原理图中不可编辑，不能为它们分配一个封装，它们不会被添加到 PCB 上，也不包括在物料清单中。</p>
</li>
<li>
<p>该符号是否应从材料清单中排除。</p>
</li>
<li>
<p>该符号是否应从 PCB 中排除。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>还有几种图形选项。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>每个引脚的末端和它的引脚名称之间的偏移。</p>
</li>
<li>
<p>是否应显示引脚编号和引脚名称。</p>
</li>
<li>
<p>引脚名称是否应显示在引脚旁边，或显示在符号主体内的引脚末端。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>这些属性以后也可以在《符号属性，符号属性窗口》中修改。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_new_symbol_properties.png" alt="新建符号属性">
</div>
</div>
<div class="paragraph">
<p>一个新的符号将使用上述属性被创建，并将出现在编辑器中，如下图所示。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_libedit_new.png" alt="新建的符号">
</div>
</div>
<div class="paragraph">
<p>中间的蓝色十字是符号的锚，它指定了符号的原点，即坐标（0，0）。锚点可以通过选择 <span class="image"><img src="images/icons/anchor_24.png" alt="锚点图标"></span> 图标并点击新的所需锚点位置来重新定位。</p>
</div>
</div>
<div class="sect4">
<h5 id="_从另一个符号创建一个符号">从另一个符号创建一个符号</h5>
<div class="paragraph">
<p>通常，你想制作的符号与符号库中已有的符号相似。在这种情况下，加载和修改一个现有的符号是很容易的。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>加载将被作为起点的符号。</p>
</li>
<li>
<p>使用 <strong>文件</strong> &#8594; <strong>另存为&#8230;&#8203;</strong> 保存一个新的符号副本。"另存为" 对话框将提示新符号的名称和要保存在哪个库中。</p>
</li>
<li>
<p>根据需要编辑新的符号。</p>
</li>
<li>
<p>保存修改后的符号。</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="symbol-properties">符号属性</h5>
<div class="paragraph">
<p>符号属性是在创建符号时设置的，但它们可以在任何时候被修改。要改变符号属性，请点击 <span class="image"><img src="images/icons/part_properties_24.png" alt="符号属性图标"></span> 图标，显示符号属性对话框。你也可以双击编辑画布中的一个空点。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_properties_for_symbol.png" alt="符号属性">
</div>
</div>
<div class="paragraph">
<p>设置 <strong>单元编号</strong>，并检查 <strong>所有单元都可互换</strong> 和 <strong>具有交替的主体风格</strong>（如适用）是很重要的，因为这些设置会影响引脚和图形被添加到每个符号单元的方式。</p>
</div>
<div class="paragraph">
<p>如果你在向符号添加引脚后改变了每个包的单元编号，你将需要做额外的工作来为额外的单元添加引脚和图形。如果最初正确设置了这些属性，引脚和图形就会自动添加到每个单元。尽管如此，还是可以在任何时候修改这些属性。</p>
</div>
<div class="paragraph">
<p>图形选项 <strong>显示引脚编号</strong> 和 <strong>显示引脚名称</strong> 定义引脚编号和引脚名称文本的可见性。选项 <strong>将引脚名称置于内部</strong> 定义了引脚名称相对于引脚主体的位置。如果该选项被选中，引脚被显示在符号的轮廓内。在这种情况下，<strong>引脚名称位置偏移</strong> 属性定义了文字远离引脚末端的位置。通常，0.02 到 0.05 英寸的数值是合理的。</p>
</div>
<div class="paragraph">
<p>下面的例子显示了一个没有勾选 <strong>将引脚名称放在里面</strong> 选项的符号。注意名称和引脚编号的位置。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_uncheck_pin_name_inside.png" alt="将引脚名称放在未选中的位置">
</div>
</div>
<div class="sect5">
<h6 id="_符号名称描述和关键词">符号名称、描述和关键词</h6>
<div class="paragraph">
<p><strong>符号名称</strong> 是符号在库中的名称。符号是由库和符号名称的组合来识别的。</p>
</div>
<div class="paragraph">
<p>在以前的 KiCad 版本中，符号名称与 <code>值</code> 字段相连。 在 KiCad 7.0 及以后的版本中，这种联系被删除。</p>
</div>
<div class="paragraph">
<p>符号描述应包含对组件的简要描述，如元件的功能、突出的特点和包装选项。关键字应包含与该元件相关的其他术语。关键词主要是用来帮助搜索符号的。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_add_symbol_search_description.png" alt="在添加符号对话框中搜索一个符号">
</div>
</div>
<div class="paragraph">
<p>符号的名称、描述和关键词都是在符号编辑器和添加符号对话框中搜索符号时使用的。描述和关键词会显示在符号库浏览器和添加符号对话框中。</p>
</div>
</div>
<div class="sect5">
<h6 id="footprint-filters">封装筛选器</h6>
<div class="paragraph">
<p>封装筛选器标签用于定义哪些封装适合与符号一起使用。这些筛选器可以在封装分配工具中应用，以便每个符号只显示合适的封装。</p>
</div>
<div class="paragraph">
<p>可以定义多个封装筛选器。符合任何一个筛选器的封装将被显示；如果没有定义筛选器，那么所有的封装都将被显示。</p>
</div>
<div class="paragraph">
<p>筛选器可以使用通配符。<code>*</code> 匹配任何数量的字符，包括零，而 <code>?</code> 匹配零或一个字符。例如，<code>SOIC-*</code> 将匹配 <code>SOIC-8_3.9x4.9mm_P1.27mm</code> 封装以及任何其他以 <code>SOIC-</code> 开头的封装。筛选器 <code>SOT?23</code> 匹配 <code>SOT23</code> 以及 <code>SOT-23</code>。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_libedit_footprint.png" alt="封装筛选器">
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_具有替代性符号表示的符号">具有替代性符号表示的符号</h5>
<div class="paragraph">
<p>如果该符号定义了一个备用的主体样式，每次必须选择一个主体样式进行编辑。要编辑正常表示，请点击 <span class="image"><img src="images/icons/morgan1_24.png" alt="正常表示图标"></span> 图标。</p>
</div>
<div class="paragraph">
<p>要编辑备用替换，请点击 <span class="image"><img src="images/icons/morgan2_24.png" alt="备用替换图标"></span> 图标。 使用下面显示的 <span class="image"><img src="images/symbol_editor_unit_selector.png" alt="单元选择下拉框"></span> 下拉菜单，选择你想编辑的单位。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_图形元素">8.2.5. 图形元素</h4>
<div class="paragraph">
<p>图形元素创建了一个符号的视觉表现，不包含电气连接信息。图形元素是用以下工具创建的:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>由起点和终点定义的直线和多边形。</p>
</li>
<li>
<p>由两个对角线角定义的矩形。</p>
</li>
<li>
<p>由中心和半径定义的圆形。</p>
</li>
<li>
<p>弧线由弧线的起点和终点以及它的中心定义。一个弧线从 0° 到 180°。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>主窗口右侧的垂直工具条允许你放置设计一个符号的表现形式所需的所有图形元素。</p>
</div>
<div class="sect4">
<h5 id="_图形元素成员">图形元素成员</h5>
<div class="paragraph">
<p>每个图形元素（直线、圆弧、圆形等）都可以被定义为所有单元和/或主体样式所共有的，或特定单元和/或主体样式所特有的。元素选项可以通过右键点击元素来快速访问，显示所选元素的上下文菜单。下面是一个线条元素的上下文菜单。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_libedit_context_menu.png" alt="图形线上下文菜单">
</div>
</div>
<div class="paragraph">
<p>你也可以在一个元素上双击左键来修改其属性。 下面是一个多边形元素的属性对话框。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_libedit_polyline_properties.png" alt="图形线属性">
</div>
</div>
<div class="paragraph">
<p>图形元素的属性是：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>边界</strong> 决定是否应该绘制形状的边框。</p>
</li>
<li>
<p><strong>宽度</strong> 和 <strong>颜色</strong> 定义了边框的线宽和颜色。边界宽度为 <code>0</code> 时，使用原理图的默认符号线宽。<strong>风格</strong> 决定了边框的线条样式（实线、虚线、点线等）。</p>
</li>
<li>
<p><strong>填充样式</strong> 决定了图形元素所定义的形状是不填充还是填充。填充颜色可以是颜色主题的主体边框颜色、主体背景颜色或自定义颜色。</p>
</li>
<li>
<p><strong>符号中所有单元的共有</strong> 决定了图形元素是否为符号中的每个单元绘制，每个包有一个以上的单元，或者图形元素只为当前单元绘制。</p>
</li>
<li>
<p><strong>对所有主体风格通用（德摩根）</strong> 决定图形元素是否为具有替代主体风格的符号中的每个符号表示绘制，或者图形元素是否只为当前的主体风格绘制。</p>
</li>
<li>
<p><strong>私有化的符号编辑器</strong> 导致形状仅在符号编辑器中编辑符号时可见。当符号被添加到原理图中时，该形状将被隐藏。</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_图形化文本元素">图形化文本元素</h5>
<div class="paragraph">
<p>这个 <span class="image"><img src="images/icons/text_24.png" alt="文本图标"></span> 图标允许创建图形文本。图形文本会自动调整方向，以便可读，即使符号被镜像化。请注意，图形文本项目与符号字段不一样。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_每个符号的多个单元和替代的主体样式">8.2.6. 每个符号的多个单元和替代的主体样式</h4>
<div class="paragraph">
<p>符号最多可以有两种主体样式（一个标准符号和一个备用符号，通常被称为 "德摩根等同"）和/或每个封装有一个以上的单元（例如逻辑门）。有些符号每个封装可以有一个以上的单元，每个单元有不同的符号和引脚配置。</p>
</div>
<div class="paragraph">
<p>例如，考虑一个有两个开关的继电器，它可以被设计成有三个不同单元的符号：线圈、开关 1 和开关 2。 设计一个每个封装有多个单元的符号和/或备用的主体样式是非常灵活的。一个引脚或一个主体符号项目可以是所有单元所共有的，也可以是特定单元所特有的，或者它们可以是两个符号表示所共有的，所以是特定的符号表示。</p>
</div>
<div class="paragraph">
<p>默认情况下，引脚是特定于一个单元和主体样式的。当一个引脚是所有单位或所有主体款式所共有的，它只需要被创建一次。主体样式的图形和文字也是如此，它们可能是每个单元所共有的，但通常是每个主体样式所特有的）。</p>
</div>
<div class="paragraph">
<p>要向一个符号添加额外的单元，在符号属性对话框中将 <strong>单元编号</strong> 属性设置为适当的数字。默认情况下，符号单元被命名为 <code>单元 A</code>、<code>单元 B</code> 等，但你可以使用 <strong>编辑</strong> &#8594; <strong>设置单元显示名称&#8230;&#8203;</strong> 为当前单元设置一个任意的名称。</p>
</div>
<div class="paragraph">
<p>要添加一个备用的主体样式，请在符号属性对话框中设置 <strong>具有备用的主体样式（德摩根）</strong> 属性。</p>
</div>
<div class="sect4">
<h5 id="_具有多个不可互换单元的符号示例">具有多个不可互换单元的符号示例</h5>
<div class="paragraph">
<p>对于一个有多个不能互换的单元的符号的例子，考虑一个每包有 3 个单元的继电器：一个线圈、开关 1 和开关 2。</p>
</div>
<div class="paragraph">
<p>这三个单元并不都是一样的，所以在符号属性对话框中应取消选择 <strong>所有单元都可以互换</strong>。另外，这个选项可以在最初创建符号时指定。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_libedit_not_interchangeable.png" alt="取消勾选所有单元都可互换">
</div>
</div>
<div class="sect5">
<h6 id="_单元_a">单元 A</h6>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_libedit_unit1.png" alt="继电器单元 A">
</div>
</div>
</div>
<div class="sect5">
<h6 id="_单元_b">单元 B</h6>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_libedit_unit2.png" alt="继电器单元 B">
</div>
</div>
</div>
<div class="sect5">
<h6 id="_单元_c">单元 C</h6>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_libedit_unit3.png" alt="继电器单元 C">
</div>
</div>
<div class="paragraph">
<p>单元 A 与单元 B 和单元 C 的符号和引脚布局不一样，所以这些单元不能互换。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<strong>同步引脚编辑模式</strong> 可以通过点击 <span class="image"><img src="images/icons/pin2pin_24.png" alt="同步引脚编辑模式图标"></span> 图标启用。在这种模式下，引脚的修改会在符号单元之间同步；一个单元中的修改也会反映在其他单元中。当这种模式被禁用时，一个单元中的引脚修改不会影响其他单元。当 <strong>所有单元可互换</strong> 被选中时，该模式会自动启用，但它可以被禁用。当 <strong>所有单元可互换</strong> 未被选中或符号只有一个单元时，该模式不能被启用。
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_引脚创建和编辑">8.2.7. 引脚创建和编辑</h4>
<div class="paragraph">
<p>你可以通过点击 <span class="image"><img src="images/icons/pin_24.png" alt="引脚图标"></span> 按钮来创建和插入一个引脚。可以通过双击引脚来编辑引脚的属性。你也可以删除或移动你已经添加的引脚。必须小心地创建引脚，因为任何错误都会对 PCB 设计产生影响。</p>
</div>
<div class="sect4">
<h5 id="_引脚概述">引脚概述</h5>
<div class="paragraph">
<p>一个引脚是由它的图形表示、它的名字和它的编号定义的。引脚的名称和编号可以包含字母、数字和符号，但不能包含空格。 为了使电气规则检查（ERC）工具发挥作用，引脚的电气类型（输入、输出、三态&#8230;&#8203;）也必须被正确定义。如果这个类型定义不正确，原理图上的 ERC 检查结果可能是无效的。</p>
</div>
<div class="paragraph">
<p>重要笔记：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>符号的引脚按编号与封装的焊盘相匹配。符号中的引脚编号必须与封装中相应的焊盘编号相匹配。</p>
</li>
<li>
<p>不要在引脚名称和数字中使用空格。空格将被自动替换成下划线（<code>_</code>）。</p>
</li>
<li>
<p>To define a pin name with an inverted signal (overbar) use the <code>~</code> (tilde) character followed by the text to invert in braces. For example <code>~{FO}O</code> would display <span class="overline">FO</span> O.</p>
</li>
<li>
<p>如果引脚名称为空，则认为该引脚未被命名。</p>
</li>
<li>
<p>引脚名称可以在一个符号中重复。</p>
</li>
<li>
<p>引脚编号在一个符号中必须是唯一的。</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_引脚属性">引脚属性</h5>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_libedit_pin_properties.png" alt="引脚属性">
</div>
</div>
<div class="paragraph">
<p>引脚属性对话框允许你编辑引脚的所有特性。当你创建一个引脚或双击一个现有的引脚时，这个对话框会自动弹出。这个对话框允许你修改：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>引脚名称和文字大小。</p>
</li>
<li>
<p>引脚编号和文字大小。</p>
</li>
<li>
<p>引脚的长度。</p>
</li>
<li>
<p>引脚的电气类型和图形风格。</p>
</li>
<li>
<p>单元和备用成员。</p>
</li>
<li>
<p>引脚可见性。</p>
</li>
<li>
<p>《备用引脚定义，备用引脚定义》。</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_引脚图形样式">引脚图形样式</h5>
<div class="paragraph">
<p>不同的引脚图形风格如下图所示。这些样式是纯粹的图形，不影响引脚的电气类型。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_libedit_pin_properties_style.png" alt="引脚图形样式">
</div>
</div>
</div>
<div class="sect4">
<h5 id="pin-electrical-types">引脚电气类型</h5>
<div class="paragraph">
<p>选择正确的电气类型对原理图 ERC 工具很重要。 ERC 将检查引脚的连接是否恰当，例如，确保输入引脚被驱动，电源输入从适当的来源接收电源。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">引脚类型</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">描述</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">输入</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">一个专门用于输入的引脚。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">输出</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">一个专门用于输出的引脚。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">双向</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">可以作为输入或输出的引脚，如微控制器的数据总线引脚。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">三态</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">三态输出引脚（高、低或高阻抗）。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">无源</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">一个无源符号引脚：电阻、连接器等。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">自由</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">一个可以自由连接到任何其他引脚的引脚，没有电气方面的问题。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">未指定的</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">一个引脚，ERC 检查对其不重要。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">电源输入</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">一个符号的电源引脚。作为一种特殊情况，被标记为不可见的电源输入引脚会自动连接到同名的网络中。更多信息请参见《创建电源符号，电源符号部分》。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">电源输出</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">为其他引脚提供电源的引脚，如稳压器的输出。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">集电极开路</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">一个集电极开路的逻辑输出。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">开路发射器</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">开路发射器逻辑输出。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">未连接的引脚</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">不应连接任何东西的引脚。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_将引脚属性推送到其他引脚">将引脚属性推送到其他引脚</h5>
<div class="paragraph">
<p>你可以通过右击一个针脚，并分别选择 <strong>推送引脚长度</strong>、<strong>推送引脚名称大小</strong> 或 <strong>推送引脚数字大小</strong>，将该针脚的长度、名称大小或数字大小应用于符号中的其他引脚。符号中的所有其他引脚将被更新。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_libedit_pin_context_menu.png" alt="引脚上下文菜单">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_为多个单元和替代符号表示法定义引脚">为多个单元和替代符号表示法定义引脚</h5>
<div class="paragraph">
<p>具有多个单元和/或图形表示的符号在创建和编辑引脚时，问题特别多。大多数引脚都是针对每个符号单元（因为每个单元都有一组不同的引脚）和每个主体样式（因为正常主体样式和备用形式之间的形式和位置不同）。</p>
</div>
<div class="paragraph">
<p>符号库编辑器允许同时创建引脚。默认情况下，对引脚所做的修改是针对一个多单元符号的所有单元，以及对具有替代符号表示法的符号的两种表示法。 唯一的例外是引脚的图形类型和名称，它们在符号单元和主体样式之间保持无关联。建立这种依赖关系是为了在大多数情况下更容易创建和编辑引脚。这个依赖关系可以通过切换主工具栏上的 <span class="image"><img src="images/icons/pin2pin_24.png" alt="同步引脚编辑模式图标"></span> 图标来禁用。这将允许你完全独立地为每个单元和代表创建引脚。</p>
</div>
<div class="paragraph">
<p>引脚可以是共同的，也可以是不同单位所特有的。引脚也可以是两个符号表示法都有的，也可以是每个符号表示法都有的。当一个引脚对所有单位都通用时，它只需要绘制一次。引脚可以在引脚属性对话框中设置为通用或特定。</p>
</div>
<div class="paragraph">
<p>一个例子是 7400 四路双输入 NAND 门的输出引脚。由于有四个单元和两个符号表示，在符号定义中有八个独立的输出引脚。当创建一个新的 7400 符号时，正常符号表示法的单元 A 将显示在库编辑器中。要编辑备用符号表示法中的引脚样式，必须首先通过点击工具栏上的 <span class="image"><img src="images/icons/morgan2_24.png" alt="备用表示法图标"></span> 按钮来启用它。要编辑每个单元的引脚编号，请使用 <span class="image"><img src="images/symbol_editor_unit_selector.png" alt="单元选择下拉"></span> 下拉控件选择合适的单元。</p>
</div>
</div>
<div class="sect4">
<h5 id="_引脚表">引脚表</h5>
<div class="paragraph">
<p>另一种编辑引脚的方法是使用引脚表，可以通过 <span class="image"><img src="images/icons/pin_table_24.png" alt="引脚表图标"></span> 图标访问。引脚表以表格的形式显示符号中的所有引脚及其属性，所以它对批量修改引脚很有用。</p>
</div>
<div class="paragraph">
<p>任何引脚属性都可以通过点击相应的单元格进行编辑。可以用 <span class="image"><img src="images/icons/small_plus_16.png" alt="加号图标"></span> 和 <span class="image"><img src="images/icons/small_trash_16.png" alt="垃圾桶图标"></span> 图标分别添加和删除引脚。</p>
</div>
<div class="paragraph">
<p>你可以通过分组来同时编辑多个引脚的同一属性。 引脚可以按名称自动分组，或者你通过选择几个引脚并点击 <strong>选择的分组</strong> 来手动分组。点击 <span class="image"><img src="images/icons/small_refresh_16.png" alt="small refresh 16"></span> 按钮来清除手动分组。 你也可以过滤表格，只显示某些单元的引脚。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
通过右键单击标题行并勾选或取消附加列，可以显示或隐藏引脚表的各列。有些列是默认隐藏的。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>下面的截图显示了一个四路运算放大器的引脚表。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_libedit_pin_table.png" alt="引脚表">
</div>
</div>
</div>
<div class="sect4">
<h5 id="alternate-pin-definitions">备用引脚定义</h5>
<div class="paragraph">
<p>备用引脚定义引脚可以添加备用引脚定义。替代引脚定义允许用户在原理图中放置符号时为引脚选择不同的名称、电气类型和图形风格。这可用于具有多种功能的引脚，如微控制器引脚。</p>
</div>
<div class="paragraph">
<p>替代引脚定义是在引脚属性对话框中添加的，如下图所示。 每个备用定义包含一个引脚名称、电气类型和图形风格。 这个微控制器引脚的所有外围功能都在符号中定义为备用引脚名称。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_libedit_alternate_pin_definitions.png" alt="备用引脚定义">
</div>
</div>
<div class="paragraph">
<p>一旦符号被放置在原理图中，就可以在原理图编辑器中选择备用引脚的定义。备用引脚是在符号属性对话框的备用引脚分配选项卡中分配的。备用定义可在备用分配栏的下拉菜单中选择。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_alternate_pin_assignment_selection.png" alt="选择一个备用引脚定义">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_符号字段">8.2.8. 符号字段</h4>
<div class="paragraph">
<p>所有库中的符号都定义有四个默认字段。每当创建或复制一个符号时，就会创建位号、值、封装分配和数据表链接字段。 只有位号是必需的。</p>
</div>
<div class="paragraph">
<p>The <code>Footprint</code> field, if used, contains a reference to a footprint for the symbol. The format is <code>LIBNAME:FOOTPRINTNAME</code>, where <code>LIBNAME</code> is the name of the footprint library in the footprint library table (see the <a href="../pcbnew/pcbnew.html#managing-footprint-libraries">Footprint Library Table</a> section in the PCB Editor manual) and <code>FOOTPRINTNAME</code> is the name of the footprint in the library <code>LIBNAME</code>.</p>
</div>
<div class="paragraph">
<p>在库中定义的符号通常只有这四个默认字段。额外的字段，如供应商、零件编号、单位成本等，可以添加到库中的符号中，但一般是在原理图编辑器中完成，这样额外的字段就可以应用到原理图中的所有符号。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
创建额外的空符号字段的一个方便方法是使用定义字段名模板。字段名模板定义空字段，当每个符号插入原理图时，这些字段会被添加到每个符号中。字段名模板可以在原理图编辑器首选项中全局定义（针对所有原理图），也可以在原理图设置对话框中局部定义（针对每个工程）。
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
如果你想在符号字段中管理大量的元件数据，可以考虑使用《数据库，数据库库》。
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_编辑符号字段">编辑符号字段</h5>
<div class="paragraph">
<p>要编辑一个现有的符号字段，请双击该字段，选择它或悬停并按 <kbd>E</kbd>，或右击字段文本并选择 <strong>属性&#8230;&#8203;</strong>。</p>
</div>
<div class="paragraph">
<p>要添加新字段、删除可选字段或编辑现有字段，请使用主工具栏上的 <span class="image"><img src="images/icons/part_properties_24.png" alt="元件属性图标"></span> 图标，打开《符号属性,符号属性对话框》。</p>
</div>
<div class="paragraph">
<p>字段是与符号相关的文本信息。不要将它们与符号的图形表示中的文字混淆。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-power-symbols">8.2.9. 创建电源符号</h4>
<div class="paragraph">
<p>电源符号是用来标记一条线作为电源网的一部分的符号，如 <code>VCC</code> 或 <code>GND</code>。电源符号的行为在《电源符号，电气连接部分》中描述。电源符号的处理和创建方式与普通符号相同，但有几个额外的考虑因素，如下所述。</p>
</div>
<div class="paragraph">
<p>将电源符号放在一个专门的库中可能是有用的。KiCad 的符号库将电源符号放在 <code>power</code> 库中，用户可以创建库来存储自己的电源符号。如果在符号的属性中勾选了 <strong>定义为电源符号</strong> 框，该符号就会出现在原理图编辑器的 <strong>添加电源符号</strong> 对话框中，以便于访问。</p>
</div>
<div class="paragraph">
<p>下面是一个 <code>GND</code> 电源符号的例子。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_libedit_power_symbol.png" alt="编辑电源符号">
</div>
</div>
<div class="paragraph">
<p>电源符号包括一个标记为不可见的 "电源输入" 类型的引脚。 它们还必须检查 <strong>定义为电源符号</strong> 的属性。 《隐藏的电源引脚,隐形的电源输入引脚》有一个特殊的属性，即根据引脚名称进行隐性的全局连接。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
如果电源符号勾选了 <strong>定义为电源符号</strong> 属性，那么电源输入引脚就不需要被标记为不可见。然而，惯例是无论如何都要使这些引脚不可见。
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_libedit_power_symbol_pin.png" alt="电源符号引脚">
</div>
</div>
<div class="paragraph">
<p>要创建一个电源符号，请使用以下步骤：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>添加一个 <strong>电源输入</strong> 类型的引脚，<strong>可见</strong> 不被选中，并根据所需的网络命名引脚。使引脚的编号为 <code>1</code> 长度为 <code>0</code>，并将图形样式设置为 <strong>直线</strong>。引脚名称建立了与网络的连接；在这种情况下，引脚将自动连接到网络 <code>GND</code>。引脚编号、长度和线条样式在电气上并不重要。</p>
</li>
<li>
<p>将引脚放在符号锚点上。</p>
</li>
<li>
<p>使用形状工具来绘制符号图形。</p>
</li>
<li>
<p>设置符号值。符号值在电气上并不重要，但它会显示在原理图中。为了避免混淆，它应该与引脚名称相匹配（这决定了连接的网络名称）。</p>
</li>
<li>
<p>勾选符号属性窗口中的 <strong>定义为电源符号</strong> 框。这使得该符号出现在 <strong>添加电源符号</strong> 对话框中，使原理图中的 "值" 字段成为只读，防止该符号被分配一个封装，并将该符号从电路板、BOM 和网表中排除。</p>
</li>
<li>
<p>设置符号参考并取消勾选 <strong>显示</strong> 框。除了第一个字符外，参考文本并不重要，它应该是`#<code>。对于上面所示的电源符号，位号可以是 `\#GND</code>。位号以`#` 开头的符号不会被添加到 PCB 上，不包括在材料清单的输出或网表中，也不能在封装分配工具中分配一个封装。如果一个电源符号的参考文献不是以 <code>\#</code> 开头，当运行批注或封装分配工具时，该字符将被自动插入。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>创建一个新的电源符号的一个更简单的方法是使用另一个符号作为起点，《从另一个符号创建一个符号，如前面所述》。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
连接的网名是由电源符号的 <strong>引脚名称</strong> 决定的，而不是符号的名称或值。在修改现有的电源符号时，请确保重新命名引脚，以便新符号连接到适当的电源网络。这意味着电源符号网络名称只能在符号编辑器中改变，而不能在原理图中改变。
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="checking-symbols">8.2.10. 检查符号</h4>
<div class="paragraph">
<p>符号编辑器可以检查你的符号中的常见问题。使用顶部工具栏上的 <span class="image"><img src="images/icons/erc_24.png" alt="符号检查器图标"></span> 按钮运行符号检查器。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/symbol_checker.png" alt="符号检查器检测到一个错位引脚">
</div>
</div>
<div class="paragraph">
<p>符号检查器检查的是：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>错位的引脚</p>
</li>
<li>
<p>符号单元之间重复的引脚</p>
</li>
<li>
<p>设计不正确的《电源符号，电源符号》。电源符号应该有：</p>
<div class="ulist">
<ul>
<li>
<p>一个单位</p>
</li>
<li>
<p>没有备用的主体样式</p>
</li>
<li>
<p>一个单一的引脚，它要么是电源输出类型（见《电源标记，电源标记》），要么是不可见的电源输入类型（见《电源符号，电源符号》）。</p>
</li>
</ul>
</div>
</li>
<li>
<p>非法的位号前缀：位号前缀不应该以数字或 <code>?</code> 结尾</p>
</li>
<li>
<p>《隐藏的电源引脚,隐藏的电源输入引脚》在非电源符号中：这些创建了隐含的连接，不推荐使用</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_浏览符号库">8.3. 浏览符号库</h3>
<div class="paragraph">
<p>符号库浏览器允许你快速检查符号库的内容。符号库浏览器可以通过点击主工具栏上的 <span class="image"><img src="images/icons/library_browser_24.png" alt="库查看器图标"></span> 图标，<strong>查看</strong> &#8594; <strong>符号库浏览器</strong>，或点击 <strong>选择符号</strong> 窗口中的 <strong>用浏览器</strong> 选择来访问。</p>
</div>
<div class="paragraph">
<p>要检查一个库的内容，从左侧窗格的列表中选择一个库。所选库中的所有符号将出现在第二个窗格中。 选择一个符号名称来查看该符号。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/symbol_library_browser.png" alt="符号库浏览器">
</div>
</div>
<div class="paragraph">
<p>双击符号名称或使用 <span class="image"><img src="images/icons/add_symbol_to_schematic_24.png" alt="添加符号到原理图图标"></span> 按钮将符号添加到原理图中。</p>
</div>
<div class="paragraph">
<p>顶部的工具条包含以下命令：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/library_browser_24.png" alt="符号选择图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在 <strong>选择符号</strong> 窗口中打开选定的符号。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/lib_previous_24.png" alt="上一个符号图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在库中选择前一个符号。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/lib_next_24.png" alt="下一个符号图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择库中的下一个符号。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/refresh_24.png" alt="refresh 24"></span> <span class="image"><img src="images/icons/zoom_in_24.png" alt="zoom in 24"></span>
<span class="image"><img src="images/icons/zoom_out_24.png" alt="zoom out 24"></span> <span class="image"><img src="images/icons/zoom_fit_in_page_24.png" alt="zoom fit in page 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">缩放工具。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/morgan1_24.png" alt="morgan1 24"></span> <span class="image"><img src="images/icons/morgan2_24.png" alt="morgan2 24"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择标准或备用的德摩根符号表示，如果适用的话。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/toolbar_viewlib_part.png" alt="toolbar viewlib part" width="70%"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">选择多单元符号的单元。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/datasheet_24.png" alt="icons/datasheet_png"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">打开符号的数据手册，如果它被定义。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="images/icons/add_symbol_to_schematic_24.png" alt="将符号添加到原理图的图标"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">将当前符号插入原理图中。</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="simulator">9. 仿真器</h2>
<div class="sectionbody">
<div class="paragraph">
<p>KiCad provides an embedded electrical circuit simulator using <a href="http://ngspice.sourceforge.net">ngspice</a> as the simulation engine. All but the simplest simulations will require you to add simulation models to your symbols before you can simulate your schematic.</p>
</div>
<div class="paragraph">
<p>When working with the simulator, the official <code>Simulation_SPICE</code> symbol library may be useful. It contains common symbols used for simulation, like voltage/current sources and transistors with pins numbered to match the ngspice node order specification.</p>
</div>
<div class="paragraph">
<p>There are also a few demo projects to illustrate the simulator capabilities. They can be found in the <code>demos/simulation</code> directory.</p>
</div>
<div class="sect2">
<h3 id="_value_notation">9.1. Value notation</h3>
<div class="paragraph">
<p>Several notations for writing numerical values are supported for simulation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Plain notation : <code>10100</code>, <code>0.003</code>,</p>
</li>
<li>
<p>Scientific notation: <code>1.01e4</code>, <code>3e-3</code>,</p>
</li>
<li>
<p>Prefix notation: <code>10.1k</code>, <code>3m</code>.</p>
</li>
<li>
<p>RKM notation: <code>4k7</code>, <code>10R</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is possible to mix prefix and scientific notations. As such, <code>3e-4k</code> is a valid input and is equivalent to <code>0.3</code>. The list of valid prefixes is shown below. The prefixes are case sensitive.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 50%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Prefix</th>
<th class="tableblock halign-left valign-top">Meaning</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">atto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>-18</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">f</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">femto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>-15</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">p</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pico</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>-12</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nano</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>-9</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">u</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">micro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>-6</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">m</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">milli</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>-3</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">k</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">kilo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>3</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mega</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>6</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">giga</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>9</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">T</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tera</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>12</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">P</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">peta</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>15</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10<sup>15</sup></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<a href="#sim-builtin">Raw SPICE Element</a> models and <a href="#sim-directives">directives</a> are passed to ngspice directly, without KiCad reformatting the values for ngspice to consume. Ngspice uses a different, case-insensitive notation: 1 mega (10<sup>6</sup>) is denoted there as <code>1Meg</code>, while <code>1M</code> is 1 milli (10<sup>-3</sup>). Depending on the compatibility mode selected, ngspice may not support the same value notations as KiCad, so care should be taken when using raw SPICE elements and simulation directives.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_分配模型">9.2. 分配模型</h3>
<div class="paragraph">
<p>Before a simulation is launched, symbols need to have a simulation model assigned.</p>
</div>
<div class="paragraph">
<p>Each symbol can have only one model assigned, even if the symbol consists of multiple units. In such case, the model should be added to the first unit.</p>
</div>
<div class="paragraph">
<p>SPICE model information is stored as text in symbol fields. Therefore users may either define it in the symbol editor or the schematic editor. To assign a simulation model to a symbol, open the Symbol Properties dialog and click the <strong>Simulation Model&#8230;&#8203;</strong> button to open the Simulation Model Editor dialog.</p>
</div>
<div class="paragraph">
<p>Symbols can be excluded from simulation entirely by checking the <strong>exclude from simulation</strong> checkbox in the Symbol Properties dialog.</p>
</div>
<div class="sect3">
<h4 id="sim-inferred">9.2.1. Inferred models</h4>
<div class="paragraph">
<p>Resistor, inductor, and capacitor models can be inferred, which means that KiCad will detect that they are passives and automatically assign an appropriate simulation model. Therefore they do not require any special settings; users only need to set the <code>Value</code> field of the symbol.</p>
</div>
<div class="paragraph">
<p>Inference is performed for symbols based on the following criteria:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The symbol has exactly two pins,</p>
</li>
<li>
<p>The symbol has an appropriate reference designator (begins with <code>R</code>, <code>L</code> or <code>C</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Inferred models are ideal models. If a complex model is required for the simulation, an explicit model should be used.</p>
</div>
</div>
<div class="sect3">
<h4 id="sim-built-in">9.2.2. Built-in models</h4>
<div class="paragraph">
<p>KiCad offers several standard simulation models. They do not require an extra model file. The following devices are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Resistors (including potentiometers), capacitors, inductors</p>
</li>
<li>
<p>Transmission lines</p>
</li>
<li>
<p>Switches</p>
</li>
<li>
<p>Voltage and current sources</p>
</li>
<li>
<p>Diodes</p>
</li>
<li>
<p>Transistors (BJT, MOSFET, MESFET, and JFET)</p>
</li>
<li>
<p>Raw SPICE elements</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To add a built-in model to a symbol, open the Simulation Model Editor dialog (<strong>Symbol Properties</strong> &#8594; <strong>Simulation Model&#8230;&#8203;</strong>) and select <strong>Built-in SPICE model</strong>.</p>
</div>
<div class="paragraph">
<p>Refer to the <a href="https://ngspice.sourceforge.io/docs.html">ngspice documentation</a> for more details about these models.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sim_SME_builtin.png" alt="Interface to set-up built-in models">
</div>
</div>
<div class="paragraph">
<p><strong>Device</strong> sets the type of device to simulate: a resistor, BJT, voltage source,
etc. This value is stored in the symbol&#8217;s <code>Sim.Device</code> field.</p>
</div>
<div class="paragraph">
<p><strong>Type</strong> selects the type of model to use for the device. Most devices have
several types of models to choose from, which may vary in their degree of
accuracy, which characteristics they are optimized for, and what parameters they
have available. Refer to the ngspice documentation for details. This value is
stored in the symbol&#8217;s <code>Sim.Type</code> field.</p>
</div>
<div class="paragraph">
<p>The <strong>parameters</strong> tab displays the parameters of the model and lets you edit them. For example, a resistor&#8217;s resistance, a voltage source&#8217;s waveform, a MOSFET&#8217;s width and length, etc. Any parameters that differ from the model&#8217;s defaults are stored in the symbol&#8217;s <code>Sim.Params</code> field.</p>
</div>
<div class="paragraph">
<p>The <strong>code</strong> tab displays the generated SPICE model as it will be written to the SPICE netlist for simulation.</p>
</div>
<div class="paragraph">
<p>The <strong>Save parameter '&lt;parameter name&gt;' in Value field</strong> checkbox uses the symbol&#8217;s <code>Value</code> field for storing parameters instead of the <code>Sim.Params</code> field. This may make it easier to edit simple models from the schematic, without opening the Simulation Model Editor. This option is only available for ideal passive models (R, L, C) and DC sources. If the field <code>Sim.Params</code> exists in the symbol, it will take priority over the <code>Value</code> field.</p>
</div>
</div>
<div class="sect3">
<h4 id="_library_models">9.2.3. Library models</h4>
<div class="paragraph">
<p>KiCad can load SPICE models from external files. You should ensure that they are in a standard SPICE format and not encrypted.</p>
</div>
<div class="paragraph">
<p>To load a model from an external file, open the Simulation Model Editor dialog (<strong>Symbol Properties</strong> &#8594; <strong>Simulation Model&#8230;&#8203;</strong>) and select <strong>SPICE model from file</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sim_SME_from_file.png" alt="Interface to set-up library models from file">
</div>
</div>
<div class="paragraph">
<p><strong>File</strong> is the path to the model file to use. The path can be absolute or
relative to the project folder. The library filename is saved in the symbol&#8217;s
<code>Sim.Library</code> field.</p>
</div>
<div class="paragraph">
<p><strong>Model</strong> is the name of the desired model in the model file. If the file
contains multiple models, they will all be listed in the dropdown. The selected
model is listed in the symbol&#8217;s <code>Sim.Name</code> field.</p>
</div>
<div class="paragraph">
<p>Parameters can be overridden (or additional parameters specified) using the <strong>parameters</strong> tab. All parameters specified in the selected model or the <strong>parameters</strong> tab are stored in the symbol&#8217;s <code>Sim.Params</code> field.</p>
</div>
<div class="paragraph">
<p>The <strong>code</strong> tab displays the generated SPICE model as it will be written to the SPICE netlist for simulation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
KiCad does not ship with SPICE models for symbols. SPICE models are usually available from device manufacturers.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_library_models_ibis">9.2.4. Library models (IBIS)</h4>
<div class="paragraph">
<p>IBIS (I/O Buffer Information Specification) files are an alternative to SPICE models for modeling the behavior of input/output buffers on digital parts. In order to load an IBIS file, users should follow the procedure for SPICE library models, but provide a <code>.ibs</code> file.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sim_SME_ibis.png" alt="Interface to set-up ibis models">
</div>
</div>
<div class="paragraph">
<p><strong>File</strong> is the path to the model file to use. If an IBIS model file is loaded,
the remaining fields in the dialog will relate to the IBIS model.</p>
</div>
<div class="paragraph">
<p><strong>Component</strong> selects which component from the IBIS file to use, as IBIS files
can contain multiple components.</p>
</div>
<div class="paragraph">
<p><strong>Pin</strong> selects which pin in the IBIS model to simulate. The selected pin must
be mapped to a symbol pin in the <strong>Pin Assignments</strong> tab.</p>
</div>
<div class="paragraph">
<p><strong>Model</strong> is the list of models available for the selected pin, for example an
input or an output.</p>
</div>
<div class="paragraph">
<p><strong>Type</strong> selects what the pin should do in the simulation. A pin can be a passive
<strong>device</strong> that doesn&#8217;t drive any value; it can be a <strong>DC driver</strong> that drives
high, low, or high-impedance; or it can be a <strong>rectangular wave</strong> or
<strong>PRBS driver</strong>.</p>
</div>
<div class="paragraph">
<p>The <strong>Parameters</strong> tab lets you see and edit the parameters of the model. For each parameter, you can switch between a minimum, typical, or maximum value, as defined in the IBIS file. You can also choose the parameters of the driven waveform, depending on the pin&#8217;s chosen <strong>type</strong>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
KiCad does not ship with IBIS models for symbols. IBIS models are usually available from device manufacturers.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
KiCad&#8217;s <code>Simulation_SPICE</code> symbol library provides several symbols that may be useful for IBIS simulations. <code>IBIS_DEVICE</code> can be used for device (input) pins, while <code>IBIS_DRIVER</code> can be used for simulating driver pins. There are also variants of each for differential pins.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_pin_assignment">9.2.5. Pin Assignment</h4>
<div class="paragraph">
<p>Simulation models may have their pins numbered differently than the corresponding symbol. For example, SPICE models for diodes usually consider pin 1 to be the anode, while schematic symbols are usually drawn with pin 1 as the cathode.</p>
</div>
<div class="paragraph">
<p>You can use the Simulation Model Editor&#8217;s <strong>Pin Assignments</strong> tab to map the symbol&#8217;s pins to the simulation model pins.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Always make sure symbol pins are correctly mapped to simulation model
      pins.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sim_SME_pin.png" alt="Interface for pin assignment">
</div>
</div>
<div class="paragraph">
<p>The symbol pins are displayed in the left column with their name and number. For each symbol pin, you can select the corresponding pin from the simulation model in the dropdown in the right column.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sim-directives">9.3. SPICE directives</h3>
<div class="paragraph">
<p>It is possible to add SPICE directives by placing them in text fields on a schematic sheet. This approach is convenient for defining the default simulation type. The list of supported directives in text fields is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Directives starting with a dot (e.g. <code>.tran 10n 1m</code>)</p>
</li>
<li>
<p>Coupling coefficients for inductors (e.g. <code>K1 L1 L2 0.89</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is not possible to place additional components using text fields.</p>
</div>
<div class="paragraph">
<p>If a simulation command is included in schematic text, it will be used as the simulation command when you run a simulation. However, you can override it in the Simulation Command dialog.</p>
</div>
<div class="paragraph">
<p>Refer to the <a href="https://ngspice.sourceforge.io/docs.html">ngspice documentation</a> for more details about SPICE directives.</p>
</div>
</div>
<div class="sect2">
<h3 id="_running_simulations">9.4. Running simulations</h3>
<div class="sect3">
<h4 id="_user_interface">9.4.1. User Interface</h4>
<div class="paragraph">
<p>To run a simulation, open the SPICE simulator dialog by clicking <strong>Inspect</strong> &#8594; <strong>Simulator</strong> in the schematics editor window or using the <span class="image"><img src="images/icons/simulator_24.png" alt="simulator icon"></span> button in the top toolbar.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/sim_main_dialog.png" alt="主仿真对话框">
</div>
</div>
<div class="paragraph">
<p>该对话框分为几个部分：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The top of the window has a toolbar with buttons for commonly used actions.</p>
</li>
<li>
<p>The main part of the window graphically shows the simulation results. Signals need to be probed before they are displayed in the plot.</p>
</li>
<li>
<p>Below the plot panel, the output console shows logs from the ngspice simulation engine.</p>
</li>
<li>
<p>The right side of the window displays a list of plotted signals, a list of active cursors, and a tuning tool for adjusting component values based on simulation results.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_workbooks">9.4.2. Workbooks</h4>
<div class="paragraph">
<p>Workbooks are files that store information about the simulation environment, including simulation setup parameters and the list of displayed signals. They can be used to store the setup for a set of analyses, which can then be reloaded and rerun at a later time.</p>
</div>
<div class="paragraph">
<p>You can save and load a workbook using <strong>File</strong> &#8594; <strong>Save Workbook</strong> and <strong>File</strong> &#8594; <strong>Open Workbook</strong>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Workbooks store simulation setup information, but they do not store
      simulation results. You can export simulation results to PNG (graphics) or
      CSV (data points) with <strong>File</strong> &#8594; <strong>Export Current Plot as PNG&#8230;&#8203;</strong> and
      <strong>File</strong> &#8594; <strong>Export Current Plot as CSV&#8230;&#8203;</strong>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_running_a_simulation">9.4.3. Running a Simulation</h4>
<div class="paragraph">
<p>Before running a simulation, you need to select a simulation type and choose the simulation parameters. This can be done using <strong>Simulation</strong> &#8594; <strong>Settings&#8230;&#8203;</strong> or the <strong>Sim Command</strong> button (<span class="image"><img src="images/icons/config_24.png" alt="config 24"></span>) and then selecting one of the available analysis types:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AC</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Small-signal frequency analysis</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>DC Transfer</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DC transfer function</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Operating Point</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operating point analysis</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Transient</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time-domain analysis</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Custom</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows the user to type in custom SPICE directives to set up a simulation
    (refer to chapter 1.2 in the
    <a href="https://ngspice.sourceforge.io/docs.html">ngspice manual</a> for more
    information)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Analysis types are further explained in the <a href="https://ngspice.sourceforge.io/docs.html">ngspice documentation</a> for more details about these models.</p>
</div>
<div class="sect4">
<h5 id="_ac_analysis">AC analysis</h5>
<div class="imageblock">
<div class="content">
<img src="images/sim_analysis_ac.png" alt="AC analysis window">
</div>
</div>
<div class="paragraph">
<p>Calculates the small signal AC behavior of the circuit in response to a stimulus. Performs a decade sweep of stimulus frequency.</p>
</div>
<div class="paragraph">
<p>To run an AC analysis, you must choose a number of points to measure per decade and the start and end frequencies for the decade sweep.</p>
</div>
<div class="paragraph">
<p>The output is displayed as a Bode plot (output magnitude and phase vs. a decade sweep of stimulus frequency).</p>
</div>
</div>
<div class="sect4">
<h5 id="_dc_transfer_analysis">DC transfer analysis</h5>
<div class="imageblock">
<div class="content">
<img src="images/sim_analysis_dc.png" alt="DC analysis window">
</div>
</div>
<div class="paragraph">
<p>Calculates the DC behavior of the circuit while sweeping one or two sources (voltage or current), resistors, or the simulation temperature.</p>
</div>
<div class="paragraph">
<p>To run a DC analysis, you must choose what type of sweep(s) to perform, which source, resistor, or temperature value(s) to sweep, and what the sweep range(s) and step(s) should be.</p>
</div>
<div class="paragraph">
<p>The output is displayed as a plot.</p>
</div>
</div>
<div class="sect4">
<h5 id="_operating_point_analysis">Operating point analysis</h5>
<div class="paragraph">
<p>Calculates the DC operating point of the circuit. This analysis has no options, and results are printed to the SPICE log.</p>
</div>
</div>
<div class="sect4">
<h5 id="_transient_analysis">Transient analysis</h5>
<div class="imageblock">
<div class="content">
<img src="images/sim_analysis_tran.png" alt="Transient analysis window">
</div>
</div>
<div class="paragraph">
<p>Calculates the time-varying behavior of the circuit.</p>
</div>
<div class="paragraph">
<p>To run a transient analysis, you need to specify a suggested time step and a final simulation time. You can optionally specify a starting time to override the default of 0.</p>
</div>
<div class="paragraph">
<p>The output is displayed as a plot.</p>
</div>
</div>
<div class="sect4">
<h5 id="_custom_analysis">Custom analysis</h5>
<div class="imageblock">
<div class="content">
<img src="images/sim_analysis_custom.png" alt="Custom analysis window">
</div>
</div>
<div class="paragraph">
<p>By default, KiCad converts paths relative to the project folder to absolute paths before the simulation. Thus, it is possible to store spice model files in the project folder. If for any reason the user wants the simulation to happen from the working directory where KiCad is executed, this option can be deactivated with the <strong>Add full path for .include library directives</strong> checkbox.</p>
</div>
<div class="paragraph">
<p>An alternative way to configure a simulation is to type <a href="#sim-directives">SPICE directives</a> into text fields on schematics. Any text field directives related to simulation command are overridden by the settings selected in the dialog. This means that once a simulation has run, the dialog overrides the schematic directives until the simulator is reopened.</p>
</div>
<div class="paragraph">
<p>Once the simulation command is set, users can start a simulation with <strong>Simulation</strong> &#8594; <strong>Start Simulation</strong> (<span class="keyseq"><kbd>Ctrl</kbd>+<kbd>R</kbd></span>) or the <strong>Run/Stop Simulation</strong> button (<span class="image"><img src="images/icons/sim_run_24.png" alt="run simulation icon"></span>).</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_probing_signals">9.4.4. Probing signals</h4>
<div class="sect4">
<h5 id="_using_the_signal_list">Using the signal list</h5>
<div class="paragraph">
<p>You can display a list of available signals with <strong>Simulation</strong> &#8594; <strong>Add signals</strong> (<span class="keyseq"><kbd>Ctrl</kbd>+<kbd>A</kbd></span> hotkey or <span class="image"><img src="images/icons/sim_add_signal_24.png" alt="add signal icon"></span> button). Double clicking an element in the list will add it to list of probed signals. Several signals can be selected at once using the <kbd>Ctrl</kbd> / <kbd>Shift</kbd> keys.</p>
</div>
</div>
<div class="sect4">
<h5 id="_using_the_probe_tool">Using the probe tool</h5>
<div class="paragraph">
<p>A probe tool is available in the toolbar of the simulator window (<span class="image"><img src="images/icons/sim_probe_24.png" alt="sim probe 24"></span>), which provides a user-friendly way of selecting signals for plotting. When activated, users can click elements in the schematic editor. To probe a voltage, click a wire with the probe tool. When hovering over wires with the tool, the corresponding net is highlighted. To probe a current, click on a symbol pin. When hovering over a pin, the cursor will change from a voltage probe symbol to a current clamp symbol. It is not possible to probe power signals with this tool.</p>
</div>
</div>
<div class="sect4">
<h5 id="_using_a_spice_directive">Using a SPICE directive</h5>
<div class="paragraph">
<p>While ngspice supports the <code>.plot</code> directive, it cannot be used in current versions of KiCad.</p>
</div>
</div>
<div class="sect4">
<h5 id="_differential_voltage">Differential voltage</h5>
<div class="paragraph">
<p>Probing differential voltages usually requires a simulation symbol. One is available in <code>Simulation_SPICE:VOLTMETER_DIFF</code> in the official libraries. This symbol has two terminals for differential voltage sensing, and one the user can probe.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
A SPICE model called <code>kicad_builtin_vdiff</code> is preassigned to the built-in <code>VOLTMETER_DIFF</code> symbol. Users should not define a SPICE model with the same name.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is also possible to probe across two-terminal devices such as a resistor by placing the <code>.probe vd(X)</code> directive, where <code>X</code> is the name of the device (such as <code>R1</code>). Then in order to probe it, enter <code>vd_X</code> when adding a signal using the list of signals. Note that the signal will not appear in the list of signals, it should be typed in by the user. This method has the advantage of not adding extra symbols to the schematic sheet.</p>
</div>
</div>
<div class="sect4">
<h5 id="_remove_a_signal_probe">Remove a signal probe</h5>
<div class="paragraph">
<p>In order to remove a signal probe, double click on it in the signal list, or right-click it and select <strong>Remove Signal</strong>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tuning_components">9.4.5. Tuning components</h4>
<div class="paragraph">
<p>It is possible to change passive (R, L, C) values using sliders to graphically adjust them. Whenever the slider is set to a new position, the simulation is run with the new parameters and plots are updated. In order to add a slider for a component, use <strong>Simulation</strong> &#8594; <strong>Tune Component Value</strong> or the <span class="image"><img src="images/icons/sim_tune_24.png" alt="tune icon"></span> button in the toolbar, and then click on the component to tune.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>顶部的文本字段设置了最大的元件值。</p>
</li>
<li>
<p>中间的文本字段设置实际的元件值。</p>
</li>
<li>
<p>底部的文本字段设置了最小元件值。</p>
</li>
<li>
<p>The slider allows the user to modify the component value.</p>
</li>
<li>
<p>The <strong>Save</strong> button modifies component value on the schematic to the value selected with the slider.</p>
</li>
<li>
<p>The <span class="image"><img src="images/icons/small_trash_16.png" alt="trash icon"></span> button removes the component from the Tune panel and restores its original value.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_visualizing_results">9.4.6. Visualizing results</h4>
<div class="sect4">
<h5 id="_plotted_quantities">Plotted quantities</h5>
<div class="paragraph">
<p>This section applies to simulation commands that output vectors such as <code>.ac</code> and <code>.tran</code>.</p>
</div>
<div class="paragraph">
<p>Simulation results are visualized as plots. There can be multiple plots opened in separate tabs, but only the active one is updated when a simulation is executed. This way it is possible to compare simulation results for different runs.</p>
</div>
<div class="paragraph">
<p>Plots can be customized by toggling grid and legend visibility using the <strong>View</strong> menu. When a legend is visible, it can be dragged to change its position. You can toggle the plot background from dark to light with <strong>View</strong> &#8594; <strong>White Background</strong> and switch current and phase plots to use dotted lines instead of solid with <strong>View</strong> &#8594; <strong>Dotted Current/Phase</strong>.</p>
</div>
<div class="paragraph">
<p>For precise measurement, it is possible to add a cursor to a a signal. To do so, right click on a signal name in the <strong>Signals</strong> pane and select <strong>Show Cursor</strong>. It is then possible to move the cursor to the point of interest. The values are then shown in the <strong>Cursor</strong> section of the window. To hide a cursor, right click on a signal and select <strong>Hide Cursor</strong>. Each signal may have one cursor displayed.</p>
</div>
<div class="paragraph">
<p>The following interactions are possible with the plot panel:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>滚动鼠标滚轮来放大/缩小</p>
</li>
<li>
<p>右击打开上下文菜单，以调整视图</p>
</li>
<li>
<p>绘制一个选择矩形，以放大所选区域</p>
</li>
<li>
<p>拖动光标以改变其坐标</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_numerical_values">Numerical values</h5>
<div class="paragraph">
<p>Some analysis types, such as the DC operating point analysis (<code>.op</code>), do not have any graphical output to plot. Instead, their output is printed in the SPICE console.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_exporting_results">9.4.7. Exporting results</h4>
<div class="paragraph">
<p>KiCad&#8217;s simulator offers two ways to export results:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>As an image using <strong>File</strong> &#8594; <strong>Export Current Plot as PNG&#8230;&#8203;</strong></p>
</li>
<li>
<p>As a <code>.csv</code> file containing the datapoints using <strong>File</strong> &#8594; <strong>Export Current Plot as CSV&#8230;&#8203;</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_troubleshooting">9.4.8. Troubleshooting</h4>
<div class="sect4">
<h5 id="_incorrect_netlist">Incorrect netlist</h5>
<div class="paragraph">
<p>It is possible to inspect the SPICE netlist with <strong>Simulation</strong> &#8594; <strong>Show SPICE netlist&#8230;&#8203;</strong>. This method of troubleshooting requires some SPICE knowledge, but spotting errors in the netlist can help determine the cause of simulation problems.</p>
</div>
</div>
<div class="sect4">
<h5 id="_simulation_error">Simulation error</h5>
<div class="paragraph">
<p>The output console displays messages from the simulator. It is advised to check the console output to verify there are no errors or warnings.</p>
</div>
</div>
<div class="sect4">
<h5 id="_convergence_problems">Convergence problems</h5>
<div class="paragraph">
<p>In case the simulation does not converge in a reasonable amount of time (or not at all), it is possible to add the following SPICE directives.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Changing convergence options can lead to erroneous results. These options should be used with caution.
</td>
</tr>
</table>
</div>
<div class="literalblock">
<div class="content">
<pre>.options gmin=1e-10
.options abstol=1e-10
.options reltol=0.003
.options cshunt=1e-15</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>gmin</code> is the minimum conductance allowed by the program. The default value is <code>1e-12</code>.</p>
</li>
<li>
<p><code>abstol</code> is the absolute current error tolerance of the program. The default value is 1 pA.</p>
</li>
<li>
<p><code>reltol</code> is the relative error tolerance of the program. The default value is <code>0.001</code> (0.1%).</p>
</li>
<li>
<p><code>cshunt</code> adds a capacitor from each voltage node in the circuit to ground.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced">10. 高级主题</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="preferences-schematic-display-options">10.1. 配置和定制</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
待办事项：编写此部分
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="text-variables">10.2. 文本变量</h3>
<div class="paragraph">
<p>KiCad supports text variables, which allow you to substitute the variable name with a defined text string. This substitution happens anywhere the variable name is used inside the variable replacement syntax of <code>${VARIABLENAME}</code>.</p>
</div>
<div class="paragraph">
<p>You can define your own text variables in the <a href="#schematic-setup-text-variables">schematic</a> or <a href="../pcbnew/pcbnew.html#board-setup-text-variables">board setup</a> dialogs, but there are also a number of built-in system text variables. System text variables may be available in some contexts and not others.</p>
</div>
<div class="paragraph">
<p>The following variables can be used in schematic text, label names, label fields, hierarchical sheet fields, symbol text, and symbol fields. There are also a number of <a href="../pcbnew/pcbnew.html#text-variables">variables that can be used in the PCB Editor</a>.</p>
</div>
<div class="paragraph">
<p>Variables used in hierarchical sheet fields refer to the properties of the hierarchical sheet, not the parent, unless otherwise noted. For example, <code>${#}</code> returns the subsheet&#8217;s page number when used in a hierarchical sheet field, but the parent sheet&#8217;s page number when used in graphic text in the parent sheet.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Variable name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>#</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sheet number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>##</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total number of schematic sheets.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SHEETPATH</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sheet path of the current sheet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FILENAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filename of the <strong>root schematic sheet</strong>, with a file extension.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PROJECTNAME</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Project name, without a file extension.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ISSUE_DATE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contents of drawing sheet&#8217;s <code>Issue Date</code> field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CURRENT_DATE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Today&#8217;s date, in ISO format.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REVISION</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contents of drawing sheet&#8217;s <code>Revision</code> field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TITLE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contents of drawing sheet&#8217;s <code>Title</code> field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>COMPANY</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contents of drawing sheet&#8217;s <code>Company</code> field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>COMMENT1</code> - <code>COMMENT9</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contents of drawing sheet&#8217;s <code>Comment&lt;n&gt;</code> field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;variablename&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contents of <a href="#schematic-setup-text-variables">project text variable</a>
  <code>&lt;variablename&gt;</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;fieldname&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contents of symbol field, hierarchical sheet field, or label field
    <code>&lt;fieldname&gt;</code>. Fields can only be accessed from within of their parent
    object, so symbol fields can be accessed from other text or fields within
    the symbol, and hierarchical sheet fields can be accessed within the sheet
    or in other sheet fields of the sheet.</p>
<p class="tableblock">    Both built-in and user-defined fields are available. Built-in fields use all
    uppercase letters: for example, to access the value of <code>U1</code>, use
    <code>${U1:VALUE}</code>.</p>
<p class="tableblock">    Built-in symbol fields are <code>DATASHEET</code>, <code>DNP</code>, <code>EXCLUDE_FROM_BOARD</code>,
    <code>EXCLUDE_FROM_BOM</code>, <code>FOOTPRINT</code>, <code>FOOTPRINT_LIBRARY</code>, <code>FOOTPRINT_NAME</code>,
    <code>REFERENCE</code>, <code>SYMBOL_DESCRIPTION</code>, <code>SYMBOL_KEYWORDS</code>, <code>SYMBOL_LIBRARY</code>,
    <code>SYMBOL_NAME</code>, <code>UNIT</code>, <code>VALUE</code>.</p>
<p class="tableblock">    Built-in sheet fields are <code>SHEETNAME</code> and <code>SHEETFILE</code>.</p>
<p class="tableblock">    Built-in label fields are <code>CONNECTION_TYPE</code>, <code>SHORT_NET_NAME</code>, <code>NET_NAME</code>,
    <code>NET_CLASS</code>, and <code>INTERSHEET_REFS</code> (global labels only).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;refdes&gt;:&lt;fieldname&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contents of field <code>&lt;fieldname&gt;</code> in symbol <code>&lt;refdes&gt;</code>.</p>
<p class="tableblock">    Both built-in and user-defined fields are available. Built-in fields use all
    uppercase letters: for example, to access the value of <code>U1</code>, use
    <code>${U1:VALUE}</code>.</p>
<p class="tableblock">    Built-in symbol fields are <code>DATASHEET</code>, <code>DNP</code>, <code>EXCLUDE_FROM_BOARD</code>,
    <code>EXCLUDE_FROM_BOM</code>, <code>FOOTPRINT</code>, <code>FOOTPRINT_LIBRARY</code>, <code>FOOTPRINT_NAME</code>,
    <code>REFERENCE</code>, <code>SYMBOL_DESCRIPTION</code>, <code>SYMBOL_KEYWORDS</code>, <code>SYMBOL_LIBRARY</code>,
    <code>SYMBOL_NAME</code>, <code>UNIT</code>, <code>VALUE</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="database-libraries">10.3. 数据基础库</h3>
<div class="paragraph">
<p>数据基础库是 KiCad 符号库的一种类型，它在外部 SQL 数据库中保存有关零件的数据。 数据基础库本身不包含任何符号或封装的定义。 相反，它们 <strong>位号</strong> 其他 KiCad 库中的符号和封装。每个数据基础库条目都将一个 KiCad 符号（来自其他库）映射到一组属性（字段），通常还有一个 KiCad 封装（来自封装库）。</p>
</div>
<div class="paragraph">
<p>使用数据基础库可以从 KiCad 符号和封装中创建完全定义的元件（有时称为 <strong>最小元件</strong>），而不需要在符号库中存储所有元件属性。 外部数据库可以链接到第三方工具，用于管理元件数据和生命周期。 数据基础库的工作流程通常比标准 KiCad 库的工作流程更复杂，因此这种类型的库通常只用于使管理大型完全定义的零件库更有效的情况下（如在组织或团队设置中）。</p>
</div>
<div class="paragraph">
<p>KiCad 不提供编辑 SQL 数据库或定义数据库库的 GUI。 这取决于用户是否能找到最合适的工作流程和工具链来创建和更新数据库本身。 有些用户可能希望通过第三方数据库客户端直接编辑数据库，有些用户可能使用其他第三方软件，如元件生命周期管理（PLM）工具来创建和编辑数据。</p>
</div>
<div class="paragraph">
<p>在数据基础库中，有一个或多个 <strong>表</strong>，通常代表单一类型的元件（如电阻或电容）。 每个表可以有一个独立的模式，这意味着不同类型的元件可以有不同的属性，这些属性在 KiCad 中被转化为符号字段。 每个表必须有一个唯一的 ID 列，作为从该表放置的符号的标识符。 这个唯一的 ID 通常是一个元件号（制造商的元件号，或内部组织的元件号）。 每张表还必须有一列包含 KiCad 符号的映射，形式为 <code>LibraryNickname:SymbolName</code>。 <code>LibraryNickname</code> 必须与 KiCad 库表中的符号库相匹配。 表也可以包含一个包含 KiCad 封装的列，形式为`LibraryNickname:FootprintName`。 如果这一列存在，从表中放置的符号将包括一个封装映射。</p>
</div>
<div class="paragraph">
<p>表也可以包含任意的额外列，这些列可以选择性地映射到 KiCad 中的符号字段。 KiCad 数据基础库配置文件控制这些字段的命名方式，是否使字段可见，以及是否将字段包含在符号选择器中显示的数据。</p>
</div>
<div class="sect3">
<h4 id="_数据基础库配置文件">10.3.1. 数据基础库配置文件</h4>
<div class="paragraph">
<p>要创建一个数据基础库，你必须创建一个配置文件，其中包含 KiCad 连接到你的数据库并从表中获取数据的必要信息。 将下面的模板复制到一个新文件中，并以 <code>kicad_dbl</code> 为扩展名保存。 然后你可以使用配置符号库对话框将此文件添加到你的全局符号库表中。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
    "meta": {
        "version": 0
    },
    "name": "My Database Library",
    "description": "A database of components",
    "source": {
        "type": "odbc",
        "dsn": "",
        "username": "",
        "password": "",
        "timeout_seconds": 2,
        "connection_string": ""
    },
    "libraries": [
        {
            "name": "Resistors",
            "table": "Resistors",
            "key": "Part ID",
            "symbols": "Symbols",
            "footprints": "Footprints",
            "fields": [
                {
                    "column": "MPN",
                    "name": "MPN",
                    "visible_on_add": false,
                    "visible_in_chooser": true,
                    "show_name": true,
                    "inherit_properties": true
                },
                {
                    "column": "Value",
                    "name": "Value",
                    "visible_on_add": true,
                    "visible_in_chooser": true,
                    "show_name": false
                }
            ],
            "properties": {
                "description": "Description",
                "footprint_filters": "Footprint Filters",
                "keywords": "Keywords",
                "exclude_from_bom": "No BOM",
                "exclude_from_board": "Schematic Only"
            }
        }
    ]
}</pre>
</div>
</div>
<div class="sect4">
<h5 id="_配置源">配置源</h5>
<div class="paragraph">
<p>KiCad 目前只支持 ODBC 连接到 SQL 数据库。 你可以用 DSN 或连接字符串进行连接。 如果提供了 DSN 名称，可选的 <code>username</code> 和`password` 字段将被用来连接到 DSN。 如果提供了一个连接字符串，<code>dsn</code>， <code>username</code>， 和 <code>password</code> 字段将被忽略。 连接字符串将直接传递给 ODBC 驱动程序，所以你可以包括你的 ODBC 驱动程序支持的任何参数。</p>
</div>
<div class="paragraph">
<p>KiCad 不推荐或认可任何特定的 ODBC 驱动程序或数据库服务器，但经测试可与 Sqlite、MySQL、MariaDB 和 PostgreSQL 兼容。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Flatpak 用户。由于 Flatpak 的沙盒功能，连接到本地机器上运行的数据库服务器的唯一方法是通过 TCP/IP。 使用默认的 UNIX 域套接字连接，即 MySQL、MariaDB 或 PostgreSQL 是不可能的。 首先，确保你的数据库服务器允许 TCP/IP 连接，然后在你的连接字符串中添加所需的 <code>Port</code> 参数。例如，为 MySQL/MariaDB 的默认 TCP 端口添加 <code>Port=3306;</code>，或 <code>Server=localhost;Port=5432;</code>，强制 PostgreSQL 使用 TCP 连接到本地服务器。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_配置库">配置库</h5>
<div class="paragraph">
<p>每个数据基础库可以包含映射到单个数据库表的 "子库"。 配置文件中的 <code>libraries</code> 条目包含一个对象列表，每个对象定义一个库。 每个库必须存在以下设置:</p>
</div>
<div class="paragraph">
<p><code>name</code>: 将显示在 KiCad 用户界面中的表的名称。</p>
</div>
<div class="paragraph">
<p><code>table</code>: 数据库中的表的名称。</p>
</div>
<div class="paragraph">
<p><code>key</code>: 包含唯一键的列名，将用于识别表中的部分。</p>
</div>
<div class="paragraph">
<p><code>symbols</code>: 包含 KiCad 符号位号的列名。</p>
</div>
<div class="paragraph">
<p><code>footprints</code>: 包含 KiCad 封装位号的列名。</p>
</div>
<div class="paragraph">
<p><code>fields</code>: 一个字段定义的列表。 在这里定义的每个字段都会在符号被放置在原理图上时被添加到符号中。 如果源符号中已经定义了一个名称相同的字段，那么数据库表中的值将覆盖源符号中定义的任何值。每个字段定义都可以包含：</p>
</div>
<div class="paragraph">
<p><code>column</code>: 应该被映射到一个字段的数据库表列的名称。</p>
</div>
<div class="paragraph">
<p><code>name</code>: 要从数据库中填充的 KiCad 字段的名称。</p>
</div>
<div class="paragraph">
<p><code>visible_on_add</code>: 如果是 <code>true</code>，当符号被添加时，这个字段将在原理图中可见。如果没有指定这个设置，它将默认为`false`。</p>
</div>
<div class="paragraph">
<p><code>visible_in_chooser</code>: 如果 <code>true</code>，这个字段将在符号选择器中显示为一个列。如果没有指定这个设置，它将默认为 <code>false</code>。</p>
</div>
<div class="paragraph">
<p><code>show_name</code>: 如果是 <code>true</code>，该字段的名称将在原理图中显示其数值之外。 如果没有指定这个设置，将默认为 <code>false</code>。</p>
</div>
<div class="paragraph">
<p><code>inherit_properties</code>: 如果 <code>true</code>，并且源符号中已经存在一个给定的 <code>name</code> 字段，那么只有字段内容将从数据库中更新，其他属性（<code>visible_on_add</code>，<code>show_name</code> 等）将保持源符号中的设置。 如果给定的字段名在源符号中不存在，这个设置将被忽略。 如果没有指定这个设置，它将默认为 <code>false</code>。</p>
</div>
<div class="paragraph">
<p><code>properties</code>: 符号属性与数据库列的映射。 所有的属性都是可选的；任何没有在数据库库配置中指定的属性都将从为源符号设置的值中继承下来。 支持以下属性：</p>
</div>
<div class="paragraph">
<p><code>description</code>: 符号的描述属性。</p>
</div>
<div class="paragraph">
<p><code>footprint_filters</code>: 保留给未来的扩展。</p>
</div>
<div class="paragraph">
<p><code>keywords</code>: 符号的关键词属性。</p>
</div>
<div class="paragraph">
<p><code>exclude_from_bom</code>: 符号的 "不包括在 BOM 中" 设置。 这里命名的列必须是数字类型，并将被视为布尔值（<code>0</code> 代表假，<code>1</code> 代表真）。</p>
</div>
<div class="paragraph">
<p><code>exclude_from_board</code>: 符号的 "排除在 PCB 之外" 设置。此处命名的列必须是数字类型，并将被当作布尔值（<code>0</code> 代表假，<code>1</code> 代表真）。</p>
</div>
<div class="paragraph">
<p>数据库列可以被映射到自定义（用户定义的）字段，或某些内置的 KiCad 字段，包括 <code>Value</code> 和 <code>Datasheet</code>。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_使用数据基础库">10.3.2. 使用数据基础库</h4>
<div class="paragraph">
<p>创建配置文件并将其添加到符号库表中后，您可以使用符号选择器从数据库表中放置元件。 从数据基础库中放置的元件可以使用 "从库中更新符号" 功能进行更新，该功能将更新数据库中被改变的任何字段，以及更新源库中被改变的基本符号。</p>
</div>
<div class="paragraph">
<p>请注意，数据库表所引用的任何源库也必须存在于符号库表中，这样数据基础库才能发挥作用。 如果你想把一个库只作为数据基础库的符号源，你可以通过清除 "管理符号库" 对话框中的 "可见" 复选框将其从符号选择器中隐藏起来。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="custom-netlist-and-bom-formats">10.4. 自定义网表和 BOM 格式</h3>
<div class="paragraph">
<p>KiCad 可以导出各种格式的网表和 BOM，如果需要，用户可以定义新的格式。</p>
</div>
<div class="paragraph">
<p>导出网表的过程在 《网表导出，网表导出部分》中描述。BOM 导出在《BOM 导出，BOM 导出部分》中描述。</p>
</div>
<div class="paragraph">
<p>下文描述了如何为一个新的导出格式创建一个导出器。</p>
</div>
<div class="sect3">
<h4 id="adding-new-netlist-generators">10.4.1. 添加新的网表生成器</h4>
<div class="paragraph">
<p>新的网表生成器可以通过点击 <strong>添加生成器&#8230;&#8203;</strong> 按钮添加到 <strong>导出网表</strong> 对话框中。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/eeschema_netlist_dialog_add_plugin.png" alt="自定义网表生成器">
</div>
</div>
<div class="paragraph">
<p>新的生成器需要一个名称和一个命令。名称显示在标签中，只要点击 <strong>导出网表</strong> 按钮，就会运行该命令。</p>
</div>
<div class="paragraph">
<p>当网表生成时，KiCad 会创建一个中间的 XML 文件，其中包含原理图中所有的网表信息。然后运行生成器命令，以将中间网表转换为所需的网表格式。</p>
</div>
<div class="paragraph">
<p>网表命令必须正确设置，以便网表生成器脚本将中间网表文件作为输入并输出所需的网表文件。确切的网表命令将取决于所使用的生成器脚本。下面描述了《生成器命令行格式，命令格式》。</p>
</div>
<div class="paragraph">
<p>Python 和 XSLT 是创建自定义网表生成器的常用工具。</p>
</div>
</div>
<div class="sect3">
<h4 id="_添加新的_bom_生成器">10.4.2. 添加新的 BOM 生成器</h4>
<div class="paragraph">
<p>KiCad 还使用中间网表文件，通过 《BOM 导出，生成 BOM 工具》生成 BOM。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/en/dialog_bom.png" alt="BOM 对话框">
</div>
</div>
<div class="paragraph">
<p>通过点击 <span class="image"><img src="images/icons/small_plus_16.png" alt="加号图标"></span> 按钮，可以在 BOM 生成器脚本列表中添加其他脚本。点击 <span class="image"><img src="images/icons/small_trash_16.png" alt="删除图标"></span> 按钮，可以删除脚本。<span class="image"><img src="images/icons/small_edit_16.png" alt="编辑图标"></span> 按钮在文本编辑器中打开所选的脚本。</p>
</div>
<div class="paragraph">
<p>用 Python 和 XSLT 编写的生成器脚本可以包含一个头注释，描述生成器的功能和用法。这个头注释会作为每个生成器的描述显示在 BOM 对话框中。头部注释必须包含字符串 <code>@package</code>。该字符串之后直到注释结束的所有内容都被用作生成器的描述。</p>
</div>
<div class="paragraph">
<p>当添加新的生成器脚本时，KiCad 会自动填充命令行字段，但根据生成器脚本的情况，可能需要手工调整命令行。KiCad 试图从生成器脚本标题中的示例命令行自动确定输出文件扩展名。</p>
</div>
</div>
<div class="sect3">
<h4 id="generator-command-line-format">10.4.3. 生成器命令行格式</h4>
<div class="paragraph">
<p>网表或 BOM 导出器的命令行定义了 KiCad 将运行以生成所选输出文件的命令。</p>
</div>
<div class="paragraph">
<p>对于使用 <code>xsltproc</code> 的网表导出器，例如：</p>
</div>
<div class="paragraph">
<p><code>xsltproc -o %O.net /usr/share/kicad/plugins/netlist_form_pads-pcb.asc.xsl %I</code></p>
</div>
<div class="paragraph">
<p>对于使用 Python 的 BOM 导出器，一个例子是：</p>
</div>
<div class="paragraph">
<p><code>/usr/bin/python3 /usr/share/kicad/plugins/bom_csv_grouped_by_value.py "%I" "%O.csv"</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
建议在命令行中用引号 （<code>"</code>） 将参数括起来，以防它们包含空格或其他特殊字符。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>某些字符序列（如`%I` 和 <code>%O</code>）在命令行中具有特殊含义，因为 KiCad 在执行命令之前将它们替换为文件名或路径。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 30%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">参数</th>
<th class="tableblock halign-left valign-top">替换为&#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%I</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;工程路径&gt;/&lt;工程名称&gt;.xml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">中间网表文件的绝对路径和文件名，它是 BOM 或网表生成器插件的输入。
    BOM 或网表生成器插件的输入。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%O</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;工程路径&gt;/&lt;工程名称&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">输出 BOM 或网表文件的绝对路径和文件名（没有文件扩展名）。
    适当的文件扩展名可能需要在 <code>%O</code> 序列后指定。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;工程名称&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">输出 BOM 或网表文件的基本文件名（没有路径或文件扩展名）。
    适当的文件扩展名可能需要在 `%B`序列后指定。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>%P</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;工程路径&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">工程目录的绝对路径，没有尾部斜线</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="intermediate-netlist-file">10.4.4. 中间网表文件格式</h4>
<div class="paragraph">
<p>当输出 BOM 文件和网表时，KiCad 会创建一个中间网表文件，然后运行一个单独的工具，将中间网表后期处理成所需的网表或 BOM 格式。</p>
</div>
<div class="paragraph">
<p>中间网表使用 XML 语法。它包含有关设计的大量数据。根据输出（BOM 或网表），完整中间网表文件的不同子集将包含在最终输出文件中。</p>
</div>
<div class="paragraph">
<p>中间网表文件的结构详述 《中间网表结构，如下》。</p>
</div>
<div class="paragraph">
<p>由于从中间网表文件到输出网表或 BOM 的转换是文本到文本的转换，因此可以使用 Python、XSLT 或任何其他能够将 XML 作为输入的工具编写后处理过滤器。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
不建议新的网表或 BOM 导出器使用 XSLT;应该改用 Python 或其他工具。从 KiCad 7 开始，<code>xsltproc</code> 不再随 KiCad 一起安装，尽管它可以单独安装。 不过，下面列出了使用 XSLT 的网表导出器的几个示例。
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="intermediate-netlist-structure">10.4.5. 中间网表结构</h4>
<div class="paragraph">
<p>此示例提供了网表文件格式的概念。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;export version="D"&gt;
  &lt;design&gt;
    &lt;source&gt;F:\kicad_aux\netlist_test\netlist_test.sch&lt;/source&gt;
    &lt;date&gt;29/08/2010 21:07:51&lt;/date&gt;
    &lt;tool&gt;eeschema (2010-08-28 BZR 2458)-unstable&lt;/tool&gt;
  &lt;/design&gt;
  &lt;components&gt;
    &lt;comp ref="P1"&gt;
      &lt;value&gt;CONN_4&lt;/value&gt;
      &lt;libsource lib="conn" part="CONN_4"/&gt;
      &lt;sheetpath names="/" tstamps="/"/&gt;
      &lt;tstamps&gt;4C6E2141&lt;/tstamps&gt;
    &lt;/comp&gt;
    &lt;comp ref="U2"&gt;
      &lt;value&gt;74LS74&lt;/value&gt;
      &lt;libsource lib="74xx" part="74LS74"/&gt;
      &lt;sheetpath names="/" tstamps="/"/&gt;
      &lt;tstamps&gt;4C6E20BA&lt;/tstamps&gt;
    &lt;/comp&gt;
    &lt;comp ref="U1"&gt;
      &lt;value&gt;74LS04&lt;/value&gt;
      &lt;libsource lib="74xx" part="74LS04"/&gt;
      &lt;sheetpath names="/" tstamps="/"/&gt;
      &lt;tstamps&gt;4C6E20A6&lt;/tstamps&gt;
    &lt;/comp&gt;
    &lt;comp ref="C1"&gt;
      &lt;value&gt;CP&lt;/value&gt;
      &lt;libsource lib="device" part="CP"/&gt;
      &lt;sheetpath names="/" tstamps="/"/&gt;
      &lt;tstamps&gt;4C6E2094&lt;/tstamps&gt;
    &lt;comp ref="R1"&gt;
      &lt;value&gt;R&lt;/value&gt;
      &lt;libsource lib="device" part="R"/&gt;
      &lt;sheetpath names="/" tstamps="/"/&gt;
      &lt;tstamps&gt;4C6E208A&lt;/tstamps&gt;
    &lt;/comp&gt;
  &lt;/components&gt;
  &lt;libparts/&gt;
  &lt;libraries/&gt;
  &lt;nets&gt;
    &lt;net code="1" name="GND"&gt;
      &lt;node ref="U1" pin="7"/&gt;
      &lt;node ref="C1" pin="2"/&gt;
      &lt;node ref="U2" pin="7"/&gt;
      &lt;node ref="P1" pin="4"/&gt;
    &lt;/net&gt;
    &lt;net code="2" name="VCC"&gt;
      &lt;node ref="R1" pin="1"/&gt;
      &lt;node ref="U1" pin="14"/&gt;
      &lt;node ref="U2" pin="4"/&gt;
      &lt;node ref="U2" pin="1"/&gt;
      &lt;node ref="U2" pin="14"/&gt;
      &lt;node ref="P1" pin="1"/&gt;
    &lt;/net&gt;
    &lt;net code="3" name=""&gt;
      &lt;node ref="U2" pin="6"/&gt;
    &lt;/net&gt;
    &lt;net code="4" name=""&gt;
      &lt;node ref="U1" pin="2"/&gt;
      &lt;node ref="U2" pin="3"/&gt;
    &lt;/net&gt;
    &lt;net code="5" name="/SIG_OUT"&gt;
      &lt;node ref="P1" pin="2"/&gt;
      &lt;node ref="U2" pin="5"/&gt;
      &lt;node ref="U2" pin="2"/&gt;
    &lt;/net&gt;
    &lt;net code="6" name="/CLOCK_IN"&gt;
      &lt;node ref="R1" pin="2"/&gt;
      &lt;node ref="C1" pin="1"/&gt;
      &lt;node ref="U1" pin="1"/&gt;
      &lt;node ref="P1" pin="3"/&gt;
    &lt;/net&gt;
  &lt;/nets&gt;
&lt;/export&gt;</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="general-netlist-file-structure">一般网表文件结构</h5>
<div class="paragraph">
<p>中间网表占五个部分。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>“标题” 部分。</p>
</li>
<li>
<p>“元件” 部分。</p>
</li>
<li>
<p>“库元件” 部分。</p>
</li>
<li>
<p>“库” 部分。</p>
</li>
<li>
<p>“网络” 部分。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>文件内容具有分隔符 <code>&lt;export&gt;</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;export version="D"&gt;
...
&lt;/export&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="the-header-section">“标题” 部分</h5>
<div class="paragraph">
<p>标题具有分隔符 <code>&lt;design&gt;</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;design&gt;
&lt;source&gt;F:\kicad_aux\netlist_test\netlist_test.sch&lt;/source&gt;
&lt;date&gt;21/08/2010 08:12:08&lt;/date&gt;
&lt;tool&gt;eeschema (2010-08-09 BZR 2439)-unstable&lt;/tool&gt;
&lt;/design&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>此部分可视为评论部分。</p>
</div>
</div>
<div class="sect4">
<h5 id="the-components-section">“元件” 部分</h5>
<div class="paragraph">
<p>元件部分具有分隔符 <code>&lt;components&gt;</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;components&gt;
&lt;comp ref="P1"&gt;
&lt;value&gt;CONN_4&lt;/value&gt;
&lt;libsource lib="conn" part="CONN_4"/&gt;
&lt;sheetpath names="/" tstamps="/"/&gt;
&lt;tstamps&gt;4C6E2141&lt;/tstamps&gt;
&lt;/comp&gt;
&lt;/components&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>本节包含原理图中的元件列表。 每个元件都是这样描述的：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;comp ref="P1"&gt;
&lt;value&gt;CONN_4&lt;/value&gt;
&lt;libsource lib="conn" part="CONN_4"/&gt;
&lt;sheetpath names="/" tstamps="/"/&gt;
&lt;tstamps&gt;4C6E2141&lt;/tstamps&gt;
&lt;/comp&gt;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37%;">
<col style="width: 63%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">元素名称</th>
<th class="tableblock halign-left valign-top">元素描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>libsource</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">找到该元件的库的名称。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>part</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">该库中的组件名称。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sheetpath</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">层次结构中的工作表的路径：在整个原理图层次结构中识别工作表。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tstamps</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">该元件的时间戳。</p></td>
</tr>
</tbody>
</table>
<div class="sect5">
<h6 id="note-about-time-stamps-for-components">关于元件的时间戳的注意事项</h6>
<div class="paragraph">
<p>为了识别网表中的元件以及电路板上的元件，时间戳参考被用来作为每个元件的唯一参考。然而，KiCad 提供了一种辅助的方式来识别一个元件，即电路板上的对应封装。这允许在原理图工程中重新标注元件，并且不会失去元件和其封装之间的联系。</p>
</div>
<div class="paragraph">
<p>时间戳是原理图工程中每个元件或工作表的唯一标识符。但是， 在复杂的层次结构中， 同一个工作表会被多次使用， 因此此工作表包含具有相同时间戳的元件。</p>
</div>
<div class="paragraph">
<p>在一个复杂的层次结构中，一个给定的图纸有一个唯一的标识符：它的图纸路径。一个给定的元件（在一个复杂的层次结构内）有一个唯一的标识符：图纸路径和它的时间戳。</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="the-libparts-section">“库部件” 部分</h5>
<div class="paragraph">
<p>这个 libparts 部分有分隔符 <code>&lt;libparts&gt;</code> 该部分的内容在原理图库中定义。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;libparts&gt;
&lt;libpart lib="device" part="CP"&gt;
  &lt;description&gt;Condensateur polarise&lt;/description&gt;
  &lt;footprints&gt;
    &lt;fp&gt;CP*&lt;/fp&gt;
    &lt;fp&gt;SM*&lt;/fp&gt;
  &lt;/footprints&gt;
  &lt;fields&gt;
    &lt;field name="Reference"&gt;C&lt;/field&gt;
    &lt;field name="Valeur"&gt;CP&lt;/field&gt;
  &lt;/fields&gt;
  &lt;pins&gt;
    &lt;pin num="1" name="1" type="passive"/&gt;
    &lt;pin num="2" name="2" type="passive"/&gt;
  &lt;/pins&gt;
&lt;/libpart&gt;
&lt;/libparts&gt;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">元素名称</th>
<th class="tableblock halign-left valign-top">元素描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;footprints&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">符号的引脚过滤器。每个引脚过滤器都在一个单独的 <code>&lt;fp&gt;</code> 标签中。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;fields&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">符号的字段。每个字段的名称和值都在一个单独的 <code>&lt;field name="字段名称"&gt;&#8230;&#8203;&lt;field&gt;</code> 标签中给出</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;pins&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">符号的引脚。每个引脚都在一个单独的 <code>&lt;pin num="引脚编号" type="pintype"/&gt;</code> 标签中给出。可能的引脚类型描述如下。</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>可能的电气引脚类型有：</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 94%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">引脚类型</th>
<th class="tableblock halign-left valign-top">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">通用输入引脚</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">通用输出引脚</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bidirectional</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">输入或输出（双向）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tri-state</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">总线输入/输出（三态）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">无源元件的通用端头</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unspecified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">未知的电气类型</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">元件电源输入引脚</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">电源输出引脚作为稳压器输出</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open collector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">模拟比较器中常见的开路集电极输出</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open emitter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">有时出现在逻辑器件中的开放发射器输出</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not connected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">必须在原理图中保持未连接状态</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="the-libraries-section">“库” 部分</h5>
<div class="paragraph">
<p>库部分的分隔符为 <code>&lt;libraries&gt;</code>。该部分包含工程中使用的原理图库的列表。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;libraries&gt;
  &lt;library logical="device"&gt;
    &lt;uri&gt;F:\kicad\share\library\device.lib&lt;/uri&gt;
  &lt;/library&gt;
  &lt;library logical="conn"&gt;
    &lt;uri&gt;F:\kicad\share\library\conn.lib&lt;/uri&gt;
  &lt;/library&gt;
&lt;/libraries&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="the-nets-section">“网络” 部分</h5>
<div class="paragraph">
<p>网络部分的分隔符为 <code>&lt;nets&gt;</code>。这一部分通过列出所有的网络和连接到每个网络的引脚来描述原理图的连接性。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;nets&gt;
  &lt;net code="1" name="GND"&gt;
    &lt;node ref="U1" pin="7"/&gt;
    &lt;node ref="C1" pin="2"/&gt;
    &lt;node ref="U2" pin="7"/&gt;
    &lt;node ref="P1" pin="4"/&gt;
  &lt;/net&gt;
  &lt;net code="2" name="VCC"&gt;
    &lt;node ref="R1" pin="1"/&gt;
    &lt;node ref="U1" pin="14"/&gt;
    &lt;node ref="U2" pin="4"/&gt;
    &lt;node ref="U2" pin="1"/&gt;
    &lt;node ref="U2" pin="14"/&gt;
    &lt;node ref="P1" pin="1"/&gt;
  &lt;/net&gt;
&lt;/nets&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>一个可能的网包含以下内容。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;net code="1" name="GND"&gt;
  &lt;node ref="U1" pin="7"/&gt;
  &lt;node ref="C1" pin="2"/&gt;
  &lt;node ref="U2" pin="7"/&gt;
  &lt;node ref="P1" pin="4"/&gt;
&lt;/net&gt;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all" style="width: 77%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">元素名称</th>
<th class="tableblock halign-left valign-top">元素描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>net code</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">该网络的内部标识符</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">网络的名称</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>node</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">符号（由 <code>ref</code> 标识）的引脚（由 <code>pin</code> 标识），该引脚与网络连接。</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_网表导出器实例">10.4.6. 网表导出器实例</h4>
<div class="paragraph">
<p>下面包括一些使用 XSLT 的网表导出器的例子。</p>
</div>
<div class="paragraph">
<p>XSLT 本身是一种 XML 语言，非常适用于 XML 转换。http://xmlsoft.org/XSLT/xsltproc.html[<code>xsltproc</code> 程序] 可以用来读取中间的 XML 网表输入文件，应用样式表来转换输入，并将结果保存在输出文件中。使用 <code>xsltproc</code> 需要一个使用 XSLT 惯例的样式表文件。整个转换过程由 KiCad 处理，在它被配置为以特定方式运行 <code>xsltproc</code> 之后。</p>
</div>
<div class="paragraph">
<p>描述 XSL 变换（XSLT）的文件可在此获得：http://www.w3.org/TR/xslt</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
当编写一个新的网表导出器时，考虑使用 Python 或其他工具而不是 XSLT。
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_使用_xslt_的_pads_网表实例">使用 XSLT 的 PADS 网表实例</h5>
<div class="paragraph">
<p>下面的例子显示了如何使用 <code>xlstproc</code> 为 PADS 网表格式创建一个输出器。</p>
</div>
<div class="paragraph">
<p>PADS 网表格式由两部分组成：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>封装的清单</p>
</li>
<li>
<p>一个网络的列表，以及与每个网络相连的焊盘。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>下面是一个 XSL 样式表，将中间网表文件转换为 PADS 网表格式。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
&lt;!--XSL style sheet to Eeschema Generic Netlist Format to PADS netlist format
    Copyright (C) 2010, SoftPLC Corporation.
    GPL v2.

    How to use:
        https://lists.launchpad.net/kicad-developers/msg05157.html
--&gt;

&lt;!DOCTYPE xsl:stylesheet [
  &lt;!ENTITY nl  "&amp;#xd;&amp;#xa;"&gt; &lt;!--new line CR, LF --&gt;
]&gt;

&lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;
&lt;xsl:output method="text" omit-xml-declaration="yes" indent="no"/&gt;

&lt;xsl:template match="/export"&gt;
    &lt;xsl:text&gt;*PADS-PCB*&amp;nl;*PART*&amp;nl;&lt;/xsl:text&gt;
    &lt;xsl:apply-templates select="components/comp"/&gt;
    &lt;xsl:text&gt;&amp;nl;*NET*&amp;nl;&lt;/xsl:text&gt;
    &lt;xsl:apply-templates select="nets/net"/&gt;
    &lt;xsl:text&gt;*END*&amp;nl;&lt;/xsl:text&gt;
&lt;/xsl:template&gt;

&lt;!-- for each component --&gt;
&lt;xsl:template match="comp"&gt;
    &lt;xsl:text&gt; &lt;/xsl:text&gt;
    &lt;xsl:value-of select="@ref"/&gt;
    &lt;xsl:text&gt; &lt;/xsl:text&gt;
    &lt;xsl:choose&gt;
        &lt;xsl:when test = "footprint != '' "&gt;
            &lt;xsl:apply-templates select="footprint"/&gt;
        &lt;/xsl:when&gt;
        &lt;xsl:otherwise&gt;
            &lt;xsl:text&gt;unknown&lt;/xsl:text&gt;
        &lt;/xsl:otherwise&gt;
    &lt;/xsl:choose&gt;
    &lt;xsl:text&gt;&amp;nl;&lt;/xsl:text&gt;
&lt;/xsl:template&gt;

&lt;!-- for each net --&gt;
&lt;xsl:template match="net"&gt;
    &lt;!-- nets are output only if there is more than one pin in net --&gt;
    &lt;xsl:if test="count(node)&gt;1"&gt;
        &lt;xsl:text&gt;*SIGNAL* &lt;/xsl:text&gt;
        &lt;xsl:choose&gt;
            &lt;xsl:when test = "@name != '' "&gt;
                &lt;xsl:value-of select="@name"/&gt;
            &lt;/xsl:when&gt;
            &lt;xsl:otherwise&gt;
                &lt;xsl:text&gt;N-&lt;/xsl:text&gt;
                &lt;xsl:value-of select="@code"/&gt;
            &lt;/xsl:otherwise&gt;
        &lt;/xsl:choose&gt;
        &lt;xsl:text&gt;&amp;nl;&lt;/xsl:text&gt;
        &lt;xsl:apply-templates select="node"/&gt;
    &lt;/xsl:if&gt;
&lt;/xsl:template&gt;

&lt;!-- for each node --&gt;
&lt;xsl:template match="node"&gt;
    &lt;xsl:text&gt; &lt;/xsl:text&gt;
    &lt;xsl:value-of select="@ref"/&gt;
    &lt;xsl:text&gt;.&lt;/xsl:text&gt;
    &lt;xsl:value-of select="@pin"/&gt;
    &lt;xsl:text&gt;&amp;nl;&lt;/xsl:text&gt;
&lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>这是运行 <code>xsltproc</code> 后的 PADS 网表输出文件：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*PADS-PCB*
*PART*
P1 unknown
U2 unknown
U1 unknown
C1 unknown
R1 unknown
*NET*
*SIGNAL* GND
U1.7
C1.2
U2.7
P1.4
*SIGNAL* VCC
R1.1
U1.14
U2.4
U2.1
U2.14
P1.1
*SIGNAL* N-4
U1.2
U2.3
*SIGNAL* /SIG_OUT
P1.2
U2.5
U2.2
*SIGNAL* /CLOCK_IN
R1.2
C1.1
U1.1
P1.3

*END*</pre>
</div>
</div>
<div class="paragraph">
<p>进行这种转换的命令行是：</p>
</div>
<div class="paragraph">
<p><code>kicad\\bin\\xsltproc.exe -o test.net kicad\\bin\\plugins\\netlist_form_pads-pcb.xsl test.tmp</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_使用_xslt_的_cadstar_网表例子">使用 XSLT 的 Cadstar 网表例子</h5>
<div class="paragraph">
<p>下面的例子显示了如何使用 <code>xlstproc</code> 为 Cadstar 网表格式创建一个输出器。</p>
</div>
<div class="paragraph">
<p>Cadstar 的格式由两部分组成：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>封装列表</p>
</li>
<li>
<p>网络列表：按网络对焊盘参考资料进行分组</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>下面是一个 XSL 样式表，将中间网表文件转换为 Cadstar 网表格式。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
&lt;!--XSL style sheet to Eeschema Generic Netlist Format to CADSTAR netlist format
    Copyright (C) 2010, Jean-Pierre Charras.
    Copyright (C) 2010, SoftPLC Corporation.
    GPL v2. --&gt;

&lt;!DOCTYPE xsl:stylesheet [
  &lt;!ENTITY nl  "&amp;#xd;&amp;#xa;"&gt; &lt;!--new line CR, LF --&gt;
]&gt;

&lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;
&lt;xsl:output method="text" omit-xml-declaration="yes" indent="no"/&gt;

&lt;!-- Netlist header --&gt;
&lt;xsl:template match="/export"&gt;
    &lt;xsl:text&gt;.HEA&amp;nl;&lt;/xsl:text&gt;
    &lt;xsl:apply-templates select="design/date"/&gt;  &lt;!-- Generate line .TIM &lt;time&gt; --&gt;
    &lt;xsl:apply-templates select="design/tool"/&gt;  &lt;!-- Generate line .APP &lt;eeschema version&gt; --&gt;
    &lt;xsl:apply-templates select="components/comp"/&gt;  &lt;!-- Generate list of components --&gt;
    &lt;xsl:text&gt;&amp;nl;&amp;nl;&lt;/xsl:text&gt;
    &lt;xsl:apply-templates select="nets/net"/&gt;          &lt;!-- Generate list of nets and connections --&gt;
    &lt;xsl:text&gt;&amp;nl;.END&amp;nl;&lt;/xsl:text&gt;
&lt;/xsl:template&gt;

 &lt;!-- Generate line .TIM 20/08/2010 10:45:33 --&gt;
&lt;xsl:template match="tool"&gt;
    &lt;xsl:text&gt;.APP "&lt;/xsl:text&gt;
    &lt;xsl:apply-templates/&gt;
    &lt;xsl:text&gt;"&amp;nl;&lt;/xsl:text&gt;
&lt;/xsl:template&gt;

 &lt;!-- Generate line .APP "eeschema (2010-08-17 BZR 2450)-unstable" --&gt;
&lt;xsl:template match="date"&gt;
    &lt;xsl:text&gt;.TIM &lt;/xsl:text&gt;
    &lt;xsl:apply-templates/&gt;
    &lt;xsl:text&gt;&amp;nl;&lt;/xsl:text&gt;
&lt;/xsl:template&gt;

&lt;!-- for each component --&gt;
&lt;xsl:template match="comp"&gt;
    &lt;xsl:text&gt;.ADD_COM &lt;/xsl:text&gt;
    &lt;xsl:value-of select="@ref"/&gt;
    &lt;xsl:text&gt; &lt;/xsl:text&gt;
    &lt;xsl:choose&gt;
        &lt;xsl:when test = "value != '' "&gt;
            &lt;xsl:text&gt;"&lt;/xsl:text&gt; &lt;xsl:apply-templates select="value"/&gt; &lt;xsl:text&gt;"&lt;/xsl:text&gt;
        &lt;/xsl:when&gt;
        &lt;xsl:otherwise&gt;
            &lt;xsl:text&gt;""&lt;/xsl:text&gt;
        &lt;/xsl:otherwise&gt;
    &lt;/xsl:choose&gt;
    &lt;xsl:text&gt;&amp;nl;&lt;/xsl:text&gt;
&lt;/xsl:template&gt;

&lt;!-- for each net --&gt;
&lt;xsl:template match="net"&gt;
    &lt;!-- nets are output only if there is more than one pin in net --&gt;
    &lt;xsl:if test="count(node)&gt;1"&gt;
    &lt;xsl:variable name="netname"&gt;
        &lt;xsl:text&gt;"&lt;/xsl:text&gt;
        &lt;xsl:choose&gt;
            &lt;xsl:when test = "@name != '' "&gt;
                &lt;xsl:value-of select="@name"/&gt;
            &lt;/xsl:when&gt;
            &lt;xsl:otherwise&gt;
                &lt;xsl:text&gt;N-&lt;/xsl:text&gt;
                &lt;xsl:value-of select="@code"/&gt;
        &lt;/xsl:otherwise&gt;
        &lt;/xsl:choose&gt;
        &lt;xsl:text&gt;"&amp;nl;&lt;/xsl:text&gt;
        &lt;/xsl:variable&gt;
        &lt;xsl:apply-templates select="node" mode="first"/&gt;
        &lt;xsl:value-of select="$netname"/&gt;
        &lt;xsl:apply-templates select="node" mode="others"/&gt;
    &lt;/xsl:if&gt;
&lt;/xsl:template&gt;

&lt;!-- for each node --&gt;
&lt;xsl:template match="node" mode="first"&gt;
    &lt;xsl:if test="position()=1"&gt;
       &lt;xsl:text&gt;.ADD_TER &lt;/xsl:text&gt;
    &lt;xsl:value-of select="@ref"/&gt;
    &lt;xsl:text&gt;.&lt;/xsl:text&gt;
    &lt;xsl:value-of select="@pin"/&gt;
    &lt;xsl:text&gt; &lt;/xsl:text&gt;
    &lt;/xsl:if&gt;
&lt;/xsl:template&gt;

&lt;xsl:template match="node" mode="others"&gt;
    &lt;xsl:choose&gt;
        &lt;xsl:when test='position()=1'&gt;
        &lt;/xsl:when&gt;
        &lt;xsl:when test='position()=2'&gt;
           &lt;xsl:text&gt;.TER     &lt;/xsl:text&gt;
        &lt;/xsl:when&gt;
        &lt;xsl:otherwise&gt;
           &lt;xsl:text&gt;         &lt;/xsl:text&gt;
        &lt;/xsl:otherwise&gt;
    &lt;/xsl:choose&gt;
    &lt;xsl:if test="position()&gt;1"&gt;
        &lt;xsl:value-of select="@ref"/&gt;
        &lt;xsl:text&gt;.&lt;/xsl:text&gt;
        &lt;xsl:value-of select="@pin"/&gt;
        &lt;xsl:text&gt;&amp;nl;&lt;/xsl:text&gt;
    &lt;/xsl:if&gt;
&lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>这是 Cadstar 输出文件。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>.HEA
.TIM 21/08/2010 08:12:08
.APP "eeschema (2010-08-09 BZR 2439)-unstable"
.ADD_COM P1 "CONN_4"
.ADD_COM U2 "74LS74"
.ADD_COM U1 "74LS04"
.ADD_COM C1 "CP"
.ADD_COM R1 "R"


.ADD_TER U1.7 "GND"
.TER     C1.2
         U2.7
         P1.4
.ADD_TER R1.1 "VCC"
.TER     U1.14
         U2.4
         U2.1
         U2.14
         P1.1
.ADD_TER U1.2 "N-4"
.TER     U2.3
.ADD_TER P1.2 "/SIG_OUT"
.TER     U2.5
         U2.2
.ADD_TER R1.2 "/CLOCK_IN"
.TER     C1.1
         U1.1
         P1.3

.END</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_使用_xslt_的_orcadpcb2_网表示例">使用 XSLT 的 OrcadPCB2 网表示例</h5>
<div class="paragraph">
<p>这种格式只有一个部分，就是封装列表。每个封装都包括其焊盘的列表，并参考一个网络。</p>
</div>
<div class="paragraph">
<p>下面是一个 XSL 样式表，将中间网表文件转换为 Orcad 网表格式。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
&lt;!--XSL style sheet to Eeschema Generic Netlist Format to CADSTAR netlist format
    Copyright (C) 2010, SoftPLC Corporation.
    GPL v2.

    How to use:
        https://lists.launchpad.net/kicad-developers/msg05157.html
--&gt;

&lt;!DOCTYPE xsl:stylesheet [
  &lt;!ENTITY nl  "&amp;#xd;&amp;#xa;"&gt; &lt;!--new line CR, LF --&gt;
]&gt;

&lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;
&lt;xsl:output method="text" omit-xml-declaration="yes" indent="no"/&gt;

&lt;!--
    Netlist header
    Creates the entire netlist
    (can be seen as equivalent to main function in C
--&gt;
&lt;xsl:template match="/export"&gt;
    &lt;xsl:text&gt;( { Eeschema Netlist Version 1.1  &lt;/xsl:text&gt;
    &lt;!-- Generate line .TIM &lt;time&gt; --&gt;
&lt;xsl:apply-templates select="design/date"/&gt;
&lt;!-- Generate line eeschema version ... --&gt;
&lt;xsl:apply-templates select="design/tool"/&gt;
&lt;xsl:text&gt;}&amp;nl;&lt;/xsl:text&gt;

&lt;!-- Generate the list of components --&gt;
&lt;xsl:apply-templates select="components/comp"/&gt;  &lt;!-- Generate list of components --&gt;

&lt;!-- end of file --&gt;
&lt;xsl:text&gt;)&amp;nl;*&amp;nl;&lt;/xsl:text&gt;
&lt;/xsl:template&gt;

&lt;!--
    Generate id in header like "eeschema (2010-08-17 BZR 2450)-unstable"
--&gt;
&lt;xsl:template match="tool"&gt;
    &lt;xsl:apply-templates/&gt;
&lt;/xsl:template&gt;

&lt;!--
    Generate date in header like "20/08/2010 10:45:33"
--&gt;
&lt;xsl:template match="date"&gt;
    &lt;xsl:apply-templates/&gt;
    &lt;xsl:text&gt;&amp;nl;&lt;/xsl:text&gt;
&lt;/xsl:template&gt;

&lt;!--
    This template read each component
    (path = /export/components/comp)
    creates lines:
     ( 3EBF7DBD $noname U1 74LS125
      ... pin list ...
      )
    and calls "create_pin_list" template to build the pin list
--&gt;
&lt;xsl:template match="comp"&gt;
    &lt;xsl:text&gt; ( &lt;/xsl:text&gt;
    &lt;xsl:choose&gt;
        &lt;xsl:when test = "tstamp != '' "&gt;
            &lt;xsl:apply-templates select="tstamp"/&gt;
        &lt;/xsl:when&gt;
        &lt;xsl:otherwise&gt;
            &lt;xsl:text&gt;00000000&lt;/xsl:text&gt;
        &lt;/xsl:otherwise&gt;
    &lt;/xsl:choose&gt;
    &lt;xsl:text&gt; &lt;/xsl:text&gt;
    &lt;xsl:choose&gt;
        &lt;xsl:when test = "footprint != '' "&gt;
            &lt;xsl:apply-templates select="footprint"/&gt;
        &lt;/xsl:when&gt;
        &lt;xsl:otherwise&gt;
            &lt;xsl:text&gt;$noname&lt;/xsl:text&gt;
        &lt;/xsl:otherwise&gt;
    &lt;/xsl:choose&gt;
    &lt;xsl:text&gt; &lt;/xsl:text&gt;
    &lt;xsl:value-of select="@ref"/&gt;
    &lt;xsl:text&gt; &lt;/xsl:text&gt;
    &lt;xsl:choose&gt;
        &lt;xsl:when test = "value != '' "&gt;
            &lt;xsl:apply-templates select="value"/&gt;
        &lt;/xsl:when&gt;
        &lt;xsl:otherwise&gt;
            &lt;xsl:text&gt;"~"&lt;/xsl:text&gt;
        &lt;/xsl:otherwise&gt;
    &lt;/xsl:choose&gt;
    &lt;xsl:text&gt;&amp;nl;&lt;/xsl:text&gt;
    &lt;xsl:call-template name="Search_pin_list" &gt;
        &lt;xsl:with-param name="cmplib_id" select="libsource/@part"/&gt;
        &lt;xsl:with-param name="cmp_ref" select="@ref"/&gt;
    &lt;/xsl:call-template&gt;
    &lt;xsl:text&gt; )&amp;nl;&lt;/xsl:text&gt;
&lt;/xsl:template&gt;

&lt;!--
    This template search for a given lib component description in list
    lib component descriptions are in /export/libparts,
    and each description start at ./libpart
    We search here for the list of pins of the given component
    This template has 2 parameters:
        "cmplib_id" (reference in libparts)
        "cmp_ref"   (schematic reference of the given component)
--&gt;
&lt;xsl:template name="Search_pin_list" &gt;
    &lt;xsl:param name="cmplib_id" select="0" /&gt;
    &lt;xsl:param name="cmp_ref" select="0" /&gt;
        &lt;xsl:for-each select="/export/libparts/libpart"&gt;
            &lt;xsl:if test = "@part = $cmplib_id "&gt;
                &lt;xsl:apply-templates name="build_pin_list" select="pins/pin"&gt;
                    &lt;xsl:with-param name="cmp_ref" select="$cmp_ref"/&gt;
                &lt;/xsl:apply-templates&gt;
            &lt;/xsl:if&gt;
        &lt;/xsl:for-each&gt;
&lt;/xsl:template&gt;


&lt;!--
    This template writes the pin list of a component
    from the pin list of the library description
    The pin list from library description is something like
          &lt;pins&gt;
            &lt;pin num="1" type="passive"/&gt;
            &lt;pin num="2" type="passive"/&gt;
          &lt;/pins&gt;
    Output pin list is ( &lt;pin num&gt; &lt;net name&gt; )
    something like
            ( 1 VCC )
            ( 2 GND )
--&gt;
&lt;xsl:template name="build_pin_list" match="pin"&gt;
    &lt;xsl:param name="cmp_ref" select="0" /&gt;

    &lt;!-- write pin numner and separator --&gt;
    &lt;xsl:text&gt;  ( &lt;/xsl:text&gt;
    &lt;xsl:value-of select="@num"/&gt;
    &lt;xsl:text&gt; &lt;/xsl:text&gt;

    &lt;!-- search net name in nets section and write it: --&gt;
    &lt;xsl:variable name="pinNum" select="@num" /&gt;
    &lt;xsl:for-each select="/export/nets/net"&gt;
        &lt;!-- net name is output only if there is more than one pin in net
             else use "?" as net name, so count items in this net
        --&gt;
        &lt;xsl:variable name="pinCnt" select="count(node)" /&gt;
        &lt;xsl:apply-templates name="Search_pin_netname" select="node"&gt;
            &lt;xsl:with-param name="cmp_ref" select="$cmp_ref"/&gt;
            &lt;xsl:with-param name="pin_cnt_in_net" select="$pinCnt"/&gt;
            &lt;xsl:with-param name="pin_num"&gt; &lt;xsl:value-of select="$pinNum"/&gt;
            &lt;/xsl:with-param&gt;
        &lt;/xsl:apply-templates&gt;
    &lt;/xsl:for-each&gt;

    &lt;!-- close line --&gt;
    &lt;xsl:text&gt; )&amp;nl;&lt;/xsl:text&gt;
&lt;/xsl:template&gt;

&lt;!--
    This template writes the pin netname of a given pin of a given component
    from the nets list
    The nets list description is something like
      &lt;nets&gt;
        &lt;net code="1" name="GND"&gt;
          &lt;node ref="J1" pin="20"/&gt;
              &lt;node ref="C2" pin="2"/&gt;
        &lt;/net&gt;
        &lt;net code="2" name=""&gt;
          &lt;node ref="U2" pin="11"/&gt;
        &lt;/net&gt;
    &lt;/nets&gt;
    This template has 2 parameters:
        "cmp_ref"   (schematic reference of the given component)
        "pin_num"   (pin number)
--&gt;

&lt;xsl:template name="Search_pin_netname" match="node"&gt;
    &lt;xsl:param name="cmp_ref" select="0" /&gt;
    &lt;xsl:param name="pin_num" select="0" /&gt;
    &lt;xsl:param name="pin_cnt_in_net" select="0" /&gt;

    &lt;xsl:if test = "@ref = $cmp_ref "&gt;
        &lt;xsl:if test = "@pin = $pin_num"&gt;
        &lt;!-- net name is output only if there is more than one pin in net
             else use "?" as net name
        --&gt;
            &lt;xsl:if test = "$pin_cnt_in_net&gt;1"&gt;
                &lt;xsl:choose&gt;
                    &lt;!-- if a net has a name, use it,
                        else build a name from its net code
                    --&gt;
                    &lt;xsl:when test = "../@name != '' "&gt;
                        &lt;xsl:value-of select="../@name"/&gt;
                    &lt;/xsl:when&gt;
                    &lt;xsl:otherwise&gt;
                        &lt;xsl:text&gt;$N-0&lt;/xsl:text&gt;&lt;xsl:value-of select="../@code"/&gt;
                    &lt;/xsl:otherwise&gt;
                &lt;/xsl:choose&gt;
            &lt;/xsl:if&gt;
            &lt;xsl:if test = "$pin_cnt_in_net &amp;lt;2"&gt;
                &lt;xsl:text&gt;?&lt;/xsl:text&gt;
            &lt;/xsl:if&gt;
        &lt;/xsl:if&gt;
    &lt;/xsl:if&gt;

&lt;/xsl:template&gt;

&lt;/xsl:stylesheet&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>这是 OrcadPCB2 输出文件。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>( { Eeschema Netlist Version 1.1  29/08/2010 21:07:51
eeschema (2010-08-28 BZR 2458)-unstable}
 ( 4C6E2141 $noname P1 CONN_4
  (  1 VCC )
  (  2 /SIG_OUT )
  (  3 /CLOCK_IN )
  (  4 GND )
 )
 ( 4C6E20BA $noname U2 74LS74
  (  1 VCC )
  (  2 /SIG_OUT )
  (  3 N-04 )
  (  4 VCC )
  (  5 /SIG_OUT )
  (  6 ? )
  (  7 GND )
  (  14 VCC )
 )
 ( 4C6E20A6 $noname U1 74LS04
  (  1 /CLOCK_IN )
  (  2 N-04 )
  (  7 GND )
  (  14 VCC )
 )
 ( 4C6E2094 $noname C1 CP
  (  1 /CLOCK_IN )
  (  2 GND )
 )
 ( 4C6E208A $noname R1 R
  (  1 VCC )
  (  2 /CLOCK_IN )
 )
)
*</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="eeschema-actions-reference">11. 操作参考</h2>
<div class="sectionbody">
<div class="paragraph">
<p>以下是 KiCad 原理图编辑器中每个可用 <strong>操作</strong> 的列表：可以分配给热键的命令。</p>
</div>
<div class="sect2">
<h3 id="_原理图编辑器">11.1. 原理图编辑器</h3>
<div class="paragraph">
<p>以下操作在原理图编辑器中可用。可以在偏好设置的 <strong>快捷键</strong> 部分中将快捷键分配给这些操作中的任何一个。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 15%;">
<col style="width: 65%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Action</th>
<th class="tableblock halign-left valign-top">Default Hotkey</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Align Elements to Grid</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annotate Schematic&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fill in schematic symbol reference designators</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annotate Automatically</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Toggle automatic annotation of new parts symbols</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assign Footprints&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run footprint assignment tool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clear Net Highlighting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>~</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clear any existing net highlighting</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Drawing to Clipboard</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export drawing of current sheet to clipboard</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit Library Symbol&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>E</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open the library symbol in the Symbol Editor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit Sheet Page Number&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit the page number of the current or selected sheet</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit Symbol Fields&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bulk-edit fields of all symbols in schematic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit Symbol Library Links&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit links between schematic and library symbols</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit with Symbol Editor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>E</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open the selected symbol in the Symbol Editor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Netlist&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export file containing netlist in one of several formats</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Symbols to Library&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add symbols used in schematic to an existing symbol library
(does not remove other symbols from this library)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Symbols to New Library&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a new symbol library using the symbols used in the schematic
(if the library already exists it will be replaced)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generate BOM&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generate a bill of materials for the current schematic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Highlight Net</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>`</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Highlight net under cursor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Highlight Nets</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Highlight wires and pins of a net</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Footprint Assignments&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import symbol footprint assignments from .cmp file created by board editor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Line Mode for Wires and Buses</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Constrain drawing and dragging to horizontal, vertical, or 45-degree angle motions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Line Mode for Wires and Buses</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Draw and drag at any angle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Line Mode for Wires and Buses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Shift</kbd>+<kbd>Space</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch to next line mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Line Mode for Wires and Buses</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Constrain drawing and dragging to horizontal or vertical motions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remap Legacy Library Symbols&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remap library symbol references in legacy schematics to the symbol library table</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repair Schematic</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run various diagnostics and attempt to repair schematic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rescue Symbols&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Find old symbols in project and rename/rescue them</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simulator&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simulate circuit in SPICE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save Current Sheet Copy As&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save a copy of the current sheet to another location or name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Schematic Setup&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit schematic setup including annotation styles and electrical rules</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select on PCB</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select corresponding items in PCB editor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show ERC Errors</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show markers for electrical rules checker errors</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show ERC Exclusions</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show markers for excluded electrical rules checker violations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show ERC Warnings</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show markers for electrical rules checker warnings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show Hidden Fields</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Toggle display of hidden text fields</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show Hidden Pins</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Toggle display of hidden pins</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch to PCB Editor</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open PCB in board editor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scripting Console</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show the Python scripting console</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hierarchy Navigator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>H</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show or hide the schematic sheet hierarchy navigator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Symbol Checker</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show the symbol checker window</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Electrical Rules Checker</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Perform electrical rules check</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show Datasheet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>D</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Opens the datasheet in a browser</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Arc</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add an arc</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Circle</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a circle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Rectangle</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a rectangle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Sheet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>S</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a hierarchical sheet</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Text Box</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a text box</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finish Sheet</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finish drawing sheet</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Sheet Pin</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import a hierarchical sheet pin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Wire to Bus Entry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Z</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a wire entry to a bus</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Net Class Directive</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a net class directive label</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Global Label</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>L</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a global label</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Hierarchical Label</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>H</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a hierarchical label</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Image</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add bitmap image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Junction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>J</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a junction</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Label</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>L</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a net label</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add No Connect Flag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Q</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a no-connection flag</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Power</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>P</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a power symbol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Text</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>T</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add text</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Symbol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>A</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a symbol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Bus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>B</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a bus</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Lines</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>I</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add connected graphic lines</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Wire</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>W</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a wire</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finish Wire or Bus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>K</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Complete drawing at current segment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finish Bus</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Complete bus with current segment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finish Lines</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Complete connected lines with current segment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finish Wire</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Complete wire with current segment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch Segment Posture</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>/</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switches posture of the current segment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Undo Last Segment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Back</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Walks the current line back one segment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unfold from Bus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>C</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Break a wire out of a bus</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assign Netclass&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assign a netclass to nets matching a pattern</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autoplace Fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>O</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Runs the automatic placement algorithm on the symbol or sheet&#8217;s fields</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Break</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Divide into connected segments</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change Symbol&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assign a different symbol from the library</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change Symbols&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assign different symbols from the library</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cleanup Sheet Pins</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete unreferenced sheet pins</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit Footprint…</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>F</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Displays footprint field dialog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit Reference Designator&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>U</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Displays reference designator dialog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit Text &amp; Graphics Properties&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit text and graphics properties globally across schematic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit Value…</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>V</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Displays value field dialog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mirror Horizontally</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>X</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flips selected item(s) from left to right</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mirror Vertically</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Y</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flips selected item(s) from top to bottom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pin Table&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Displays pin table for bulk editing of pins</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Properties…</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>E</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Displays item properties dialog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat Last Item</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Ins</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Duplicates the last drawn item</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rotate Counterclockwise</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>R</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rotates selected item(s) counter-clockwise</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rotate Clockwise</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rotates selected item(s) clockwise</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">De Morgan Alternate</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch to alternate De Morgan representation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">De Morgan Standard</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch to standard De Morgan representation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Slice</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Divide into unconnected segments</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Swap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Shift</kbd>+<kbd>S</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Swaps selected items' positions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Symbol Properties&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Displays symbol properties dialog</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change to Directive Label</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change existing item to a directive label</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change to Global Label</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change existing item to a global label</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change to Hierarchical Label</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change existing item to a hierarchical label</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change to Label</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change existing item to a label</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change to Text</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change existing item to a text comment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change to Text Box</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change existing item to a text box</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">De Morgan Conversion</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch between De Morgan representations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update Symbol&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update symbol to include any changes from the library</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update Symbols from Library&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update symbols to include any changes from the library</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move Activate</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>G</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drags the selected item(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>M</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moves the selected item(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select Connection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Alt</kbd>+<kbd>4</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select a complete connection</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select Node</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Alt</kbd>+<kbd>3</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select a connection item under the cursor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Navigate Back</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Alt</kbd>+<kbd>Left</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move backward in sheet navigation history</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change Sheet</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change to provided sheet&#8217;s contents in the schematic editor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enter Sheet</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display the selected sheet&#8217;s contents in the schematic editor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Navigate Forward</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Alt</kbd>+<kbd>Right</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move forward in sheet navigation history</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Leave Sheet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Alt</kbd>+<kbd>Back</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display the parent sheet in the schematic editor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Next Sheet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>PgDn</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move to next sheet by number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Previous Sheet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>PgUp</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move to previous sheet by number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Navigate Up</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Alt</kbd>+<kbd>Up</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Navigate up one sheet in the hierarchy</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Push Pin Length</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Copy pin length to other pins in symbol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Push Pin Name Size</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Copy pin name size to other pins in symbol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Push Pin Number Size</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Copy pin number size to other pins in symbol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create Corner</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a corner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remove Corner</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remove corner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a simulator probe</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select a value to be tuned</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Lines</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add connected graphic lines</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Text Box</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a text box item</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finish Drawing</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finish drawing shape</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Move Symbol Anchor</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify a new location for the symbol anchor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Pin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>P</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a pin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Text</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a text item</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Symbol to Schematic</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Symbol to Schematic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Copy</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cut</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete Symbol</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remove the selected symbol from its library</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Duplicate Symbol</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Make a copy of the selected symbol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit Symbol</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show selected symbol on editor canvas</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export…</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export a symbol to a new library file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export Symbol as SVG…</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create SVG file from the current symbol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Export View as PNG…</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create PNG file from the current view</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hide Symbol Tree</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import Symbol&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Import a symbol to the current library</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">New Symbol&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>N</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a new symbol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paste Symbol</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rename Symbol&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rename the selected symbol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save Library As&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>S</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save the current library to a new file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save As…</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save the current symbol to a different library.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set Unit Display Name&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the display name for a unit</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show Pin Electrical Types</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annotate pins with their electrical types</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show Pin Numbers</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annotate pins with their numbers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show Symbol Tree</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Synchronized Pins Mode</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Synchronized Pins Mode
When enabled propagates all changes (except pin numbers) to other units.
Enabled by default for multiunit parts with interchangeable units.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update Symbol Fields&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update symbol to match changes made in parent symbol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Symbol Move Activate</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_通用">11.2. 通用</h3>
<div class="paragraph">
<p>以下操作可在 KiCad 中使用，包括在原理图编辑器中。 可以在偏好设置的 <strong>快捷键</strong> 部分中将热键分配给这些操作中的任何一个。</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 15%;">
<col style="width: 65%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Action</th>
<th class="tableblock halign-left valign-top">Default Hotkey</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exclude Marker</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mark current violation in Checker window as an exclusion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Next Marker</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Go to next marker in Checker window</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Previous Marker</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Go to previous marker in Checker window</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Library…</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add an existing library folder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Click</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Return</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs left mouse button click</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Double-click</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>End</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs left mouse button double-click</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cursor Down</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Down</kbd></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cursor Down Fast</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Down</kbd></span></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cursor Left</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Left</kbd></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cursor Left Fast</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Left</kbd></span></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cursor Right</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Right</kbd></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cursor Right Fast</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Right</kbd></span></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cursor Up</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Up</kbd></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cursor Up Fast</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Up</kbd></span></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch to Fast Grid 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Alt</kbd>+<kbd>1</kbd></span></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch to Fast Grid 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Alt</kbd>+<kbd>2</kbd></span></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch to Next Grid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>N</kbd></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch to Previous Grid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Shift</kbd>+<kbd>N</kbd></span></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Grid Properties&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set grid dimensions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Grid Origin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Z</kbd></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Grid Origin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>S</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the grid origin point</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inactive Layer View Mode</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Toggle inactive layers between normal and dimmed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inactive Layer View Mode (3-state)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>H</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cycle inactive layers between normal, dimmed, and hidden</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inches</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use inches</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Millimeters</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use millimeters</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mils</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use mils</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">New&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>N</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a new document in the editor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">New Library…</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a new library folder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>O</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open existing document</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Page Settings&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Settings for paper size and title block info</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pan Down</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Shift</kbd>+<kbd>Down</kbd></span></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pan Left</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Shift</kbd>+<kbd>Left</kbd></span></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pan Right</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Shift</kbd>+<kbd>Right</kbd></span></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pan Up</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Shift</kbd>+<kbd>Up</kbd></span></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pin Library</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keep the library at the top of the list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plot&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plot</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Print&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>P</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Print</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quit</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Close the current editor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Local Coordinates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Space</kbd></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Revert</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Throw away changes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>S</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save changes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save All</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save all changes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save As…</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>S</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save current document to another location</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save a Copy&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save a copy of the current document to another location</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select Columns</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3D Viewer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Alt</kbd>+<kbd>3</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show 3D viewer window</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show Context Menu</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Perform the right-mouse-button action</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Footprint Library Browser</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Browse footprint libraries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Footprint Editor</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create, delete and edit footprints</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Symbol Library Browser</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Browse symbol libraries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Symbol Editor</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create, delete and edit symbols</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Draw Bounding Boxes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Draw Bounding Boxes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always Show Cursor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>X</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display crosshairs even in selection tool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full-Window Crosshairs</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch display of full-window crosshairs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show Grid</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Display background grid in the edit window</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Polar Coordinates</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch between polar and cartesian coordinate systems</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch units</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>U</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch between imperial and metric units</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unpin Library</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No longer keep the library at the top of the list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update PCB from Schematic…</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>F8</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update PCB with changes made to schematic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update Schematic from PCB&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update schematic with changes made to PCB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Center on Cursor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>F4</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Center on Cursor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zoom to Objects</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Home</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zoom to Objects</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zoom to Fit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Home</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zoom to Fit</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zoom In at Cursor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>F1</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zoom In at Cursor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zoom In</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zoom In</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zoom Out at Cursor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>F2</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zoom Out at Cursor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zoom Out</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zoom Out</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refresh</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>F5</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refresh</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zoom to Selection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>F5</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zoom to Selection</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cancel</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cancel current tool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Copy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>C</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Copy selected item(s) to clipboard</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cut</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>X</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cut selected item(s) to clipboard</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cycle arc editing mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Space</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch to a different method of editing arcs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>Del</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deletes selected item(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interactive Delete Tool</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete clicked items</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Duplicate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>D</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Duplicates the selected item(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Find</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>F</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Find text</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Find and Replace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>F</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Find and replace text</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Find Next</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>F3</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Find next match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Find Next Marker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Shift</kbd>+<kbd>F3</kbd></span></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paste</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>V</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paste item(s) from clipboard</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paste Special&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paste item(s) from clipboard with annotation options</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Redo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Y</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Redo last edit</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace All</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace all matches</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace and Find Next</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace current match and find next</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show Search Panel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>G</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show/hide the search panel</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select All</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>A</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select all items on screen</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Undo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Z</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Undo last edit</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Measure Tool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>M</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interactively measure distance between points</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select item(s)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select item(s)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configure Paths…</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit path configuration environment variables</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Donate</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open "Donate to KiCad" in a web browser</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get Involved</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open "Contribute to KiCad" in a web browser</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Getting Started with KiCad</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open “Getting Started in KiCad” guide for beginners</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Help</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open product documentation in a web browser</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">List Hotkeys&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>F1</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Displays current hotkeys table and corresponding commands</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Preferences&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="keyseq"><kbd>Ctrl</kbd>+<kbd>,</kbd></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Show preferences for all open tools</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Report Bug</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Report a problem with KiCad</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manage Footprint Libraries&#8230;&#8203;</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit the global and project footprint library lists</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manage Symbol Libraries…</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit the global and project symbol library lists</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-02-11 10:04:59 -0800
</div>
</div>
</body>
</html>